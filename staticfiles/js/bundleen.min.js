function escape2Html(n){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return n.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(n,i){return t[i]})}function newGuid(){for(var i,t="",n=1;n<=32;n++)i=Math.floor(Math.random()*16).toString(16),t+=i,(n==8||n==12||n==16||n==20)&&(t+="-");return t}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function _defineProperties(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function _createClass(n,t,i){return t&&_defineProperties(n.prototype,t),i&&_defineProperties(n,i),n}var DataDeal,Sticky;!function(n){"use strict";var r=document,t={modules:{},status:{},timeout:10,event:{}},i=function(){this.v="2.5.7"},e=function(){var n=r.currentScript?r.currentScript.src:function(){for(var i,n=r.scripts,u=n.length-1,t=u;t>0;t--)if("interactive"===n[t].readyState){i=n[t].src;break}return i||n[u].src}();return n.substring(0,n.lastIndexOf("/")+1)}(),u=function(t){n.console&&console.error&&console.error("Layui hint: "+t)},o="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),f={layer:"modules/layer",laydate:"modules/laydate",laypage:"modules/laypage",laytpl:"modules/laytpl",layim:"modules/layim",layedit:"modules/layedit",form:"modules/form",upload:"modules/upload",transfer:"modules/transfer",tree:"modules/tree",table:"modules/table",element:"modules/element",rate:"modules/rate",colorpicker:"modules/colorpicker",slider:"modules/slider",carousel:"modules/carousel",flow:"modules/flow",util:"modules/util",code:"modules/code",jquery:"modules/jquery",mobile:"modules/mobile","layui.all":"../layui.all"};i.prototype.cache=t;i.prototype.define=function(n,i){var r=this,f="function"==typeof n,u=function(){var n=function(n,i){layui[n]=i;t.status[n]=!0};return"function"==typeof i&&i(function(r,u){n(r,u);t.callback[r]=function(){i(n)}}),this};return f&&(i=n,n=[]),!layui["layui.all"]&&layui["layui.mobile"]?u.call(r):(r.use(n,u),r)};i.prototype.use=function(n,i,s){function p(n,i){var r="PLaySTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;("load"===n.type||r.test((n.currentTarget||n.srcElement).readyState))&&(t.modules[h]=i,b.removeChild(c),function f(){return++y>250*t.timeout?u(h+" is not a valid module"):void(t.status[h]?v():setTimeout(f,4))}())}function v(){s.push(layui[h]);n.length>1?a.use(n.slice(1),i,s):"function"==typeof i&&i.apply(layui,s)}var a=this,w=t.dir=t.dir?t.dir:e,b=r.getElementsByTagName("head")[0],h,y,l,c;return(n="string"==typeof n?[n]:n,window.jQuery&&jQuery.fn.on&&(a.each(n,function(t,i){"jquery"===i&&n.splice(t,1)}),layui.jquery=layui.$=jQuery),h=n[0],y=0,s=s||[],t.host=t.host||(w.match(/\/\/([\s\S]+?)\//)||["//"+location.host+"/"])[0],0===n.length||layui["layui.all"]&&f[h]||!layui["layui.all"]&&layui["layui.mobile"]&&f[h])?(v(),a):(l=(f[h]?w+"lay/":/^\{\/\}/.test(a.modules[h])?"":t.base||"")+(a.modules[h]||h)+".js",(l=l.replace(/^\{\/\}/,""),!t.modules[h]&&layui[h]&&(t.modules[h]=l),t.modules[h])?!function k(){return++y>250*t.timeout?u(h+" is not a valid module"):void("string"==typeof t.modules[h]&&t.status[h]?v():setTimeout(k,4))}():(c=r.createElement("script"),c.async=!0,c.charset="utf-8",c.src=l+function(){var n=t.version===!0?t.v||(new Date).getTime():t.version||"";return n?"?v="+n:""}(),b.appendChild(c),!c.attachEvent||c.attachEvent.toString&&c.attachEvent.toString().indexOf("[native code")<0||o?c.addEventListener("load",function(n){p(n,l)},!1):c.attachEvent("onreadystatechange",function(n){p(n,l)}),t.modules[h]=l),a)};i.prototype.getStyle=function(t,i){var r=t.currentStyle?t.currentStyle:n.getComputedStyle(t,null);return r[r.getPropertyValue?"getPropertyValue":"getAttribute"](i)};i.prototype.link=function(n,i,f){var o=this,e=r.createElement("link"),h=r.getElementsByTagName("head")[0];"string"==typeof i&&(f=i);var c=(f||n).replace(/\.|\//g,""),s=e.id="layuicss-"+c,l=0;return e.rel="stylesheet",e.href=n+(t.debug?"?v="+(new Date).getTime():""),e.media="all",r.getElementById(s)||h.appendChild(e),"function"!=typeof i?o:(function a(){return++l>10*t.timeout?u(n+" timeout"):void(1989===parseInt(o.getStyle(r.getElementById(s),"width"))?function(){i()}():setTimeout(a,100))}(),o)};t.callback={};i.prototype.factory=function(n){if(layui[n])return"function"==typeof t.callback[n]?t.callback[n]:null};i.prototype.addcss=function(n,i,r){return layui.link(t.dir+"css/"+n,i,r)};i.prototype.img=function(n,t,i){var r=new Image;return r.src=n,r.complete?t(r):(r.onload=function(){r.onload=null;"function"==typeof t&&t(r)},void(r.onerror=function(n){r.onerror=null;"function"==typeof i&&i(n)}))};i.prototype.config=function(n){n=n||{};for(var i in n)t[i]=n[i];return this};i.prototype.modules=function(){var n={};for(var t in f)n[t]=f[t];return n}();i.prototype.extend=function(n){var i=this,t;n=n||{};for(t in n)i[t]||i.modules[t]?u("模块名 "+t+" 已被占用"):i.modules[t]=n[t];return i};i.prototype.router=function(n){var i=this,n=n||location.hash,t={path:[],search:{},hash:(n.match(/[^#](#.*$)/)||[])[1]||""};return/^#\//.test(n)?(n=n.replace(/^#\//,""),t.href="/"+n,n=n.replace(/([^#])(#.*$)/,"$1").split("/")||[],i.each(n,function(n,i){/^\w+=/.test(i)?function(){i=i.split("=");t.search[i[0]]=i[1]}():t.path.push(i)}),t):t};i.prototype.url=function(n){var t=this;return{pathname:function(){var t=n?function(){var t=(n.match(/\.[^.]+?\/.+/)||[])[0]||"";return t.replace(/^[^\/]+/,"").replace(/\?.+/,"")}():location.pathname;return t.replace(/^\//,"").split("/")}(),search:function(){var i={},r=(n?function(){var t=(n.match(/\?.+/)||[])[0]||"";return t.replace(/\#.+/,"")}():location.search).replace(/^\?+/,"").split("&");return t.each(r,function(n,t){var r=t.indexOf("="),u=function(){return r<0?t.substr(0,t.length):0!==r&&t.substr(0,r)}();u&&(i[u]=r>0?t.substr(r+1):null)}),i}(),hash:t.router(function(){return n?(n.match(/#.+/)||[])[0]||"":location.hash}())}};i.prototype.data=function(t,i,r){var u;if(t=t||"layui",r=r||localStorage,n.JSON&&n.JSON.parse){if(null===i)return delete r[t];i="object"==typeof i?i:{key:i};try{u=JSON.parse(r[t])}catch(f){u={}}return"value"in i&&(u[i.key]=i.value),i.remove&&delete u[i.key],r[t]=JSON.stringify(u),i.key?u[i.key]:u}};i.prototype.sessionData=function(n,t){return this.data(n,t,sessionStorage)};i.prototype.device=function(t){var r=navigator.userAgent.toLowerCase(),u=function(n){var t=new RegExp(n+"/([^\\s\\_\\-]+)");return n=(r.match(t)||[])[1],n||!1},i={os:function(){return/windows/.test(r)?"windows":/linux/.test(r)?"linux":/iphone|ipod|ipad|ios/.test(r)?"ios":/mac/.test(r)?"mac":void 0}(),ie:function(){return!!(n.ActiveXObject||"ActiveXObject"in n)&&((r.match(/msie\s(\d+)/)||[])[1]||"11")}(),weixin:u("micromessenger")};return t&&!i[t]&&(i[t]=u(t)),i.android=/android/.test(r),i.ios="ios"===i.os,i.mobile=!(!i.android&&!i.ios),i};i.prototype.hint=function(){return{error:u}};i.prototype.each=function(n,t){var i,r=this;if("function"!=typeof t)return r;if(n=n||[],n.constructor===Object){for(i in n)if(t.call(n[i],i,n[i]))break}else for(i=0;i<n.length&&!t.call(n[i],i,n[i]);i++);return r};i.prototype.sort=function(n,t,i){var r=JSON.parse(JSON.stringify(n||[]));return t?(r.sort(function(n,i){var f=/^-?\d+$/,r=n[t],u=i[t];return f.test(r)&&(r=parseFloat(r)),f.test(u)&&(u=parseFloat(u)),r&&!u?1:!r&&u?-1:r>u?1:r<u?-1:0}),i&&r.reverse(),r):r};i.prototype.stope=function(t){t=t||n.event;try{t.stopPropagation()}catch(i){t.cancelBubble=!0}};i.prototype.onevent=function(n,t,r){return"string"!=typeof n||"function"!=typeof r?this:i.event(n,t,null,r)};i.prototype.event=i.event=function(n,i,r,u){var o=this,s=null,c=(i||"").match(/\((.*)\)$/)||[],f=(n+"."+i).replace(c[0],""),e=c[1]||"",h=function(n,t){var i=t&&t.call(o,r);i===!1&&null===s&&(s=!1)};return"LAYUI-EVENT-REMOVE"===r?(delete(o.cache.event[f]||{})[e],o):u?(t.event[f]=t.event[f]||{},t.event[f][e]=[u],this):(layui.each(t.event[f],function(n,t){return"{*}"===e?void layui.each(t,h):(""===n&&layui.each(t,h),void(e&&n===e&&layui.each(t,h)))}),s)};i.prototype.on=function(n,t,i){var r=this;return r.onevent.call(r,t,n,i)};i.prototype.off=function(n,t){var i=this;return i.event.call(i,t,n,"LAYUI-EVENT-REMOVE")};n.layui=new i}(window);layui.config({dir:"/scripts/layui/",version:!1,debug:!1,base:"",anim:1});DataDeal={formToJson:function(n){return n=n.replace(/&/g,'","'),n=n.replace(/=/g,'":"'),'{"'+n+'"}'}};Array.prototype.removeByValue=function(n){for(var t=0;t<this.length;t++)if(this[t]==n){this.splice(t,1);break}};Array.prototype.removeByJsonValue=function(n){for(var t=0;t<this.length;t++)if(this[t].id==n){this.splice(t,1);break}};Array.prototype.removeByJsonUrl=function(n){for(var t=0;t<this.length;t++)if(this[t].url==n){this.splice(t,1);break}};Array.prototype.remove=function(n){for(var r,i,t=0;t<this.length;t++)if(r=this[t],isNaN(n)||(r=t),r==n){for(i=t;i<this.length;i++)this[i]=this[i+1];this.length=this.length-1}};Array.prototype.boolValue=function(n){if(typeof this=="string"){if(this==n)return!0}else for(var t=0;t<this.length;t++)if(this[t]==n)return!0;return!1};String.prototype.boolValue=function(n){return this==n?!0:!1},function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.Swiper=t()}(this,function(){"use strict";function t(n,t){var s=[],r=0,h,c,e,o;if(n&&!t&&n instanceof f)return n;if(n)if(typeof n=="string")if(e=n.trim(),e.indexOf("<")>=0&&e.indexOf(">")>=0)for(o="div",e.indexOf("<li")===0&&(o="ul"),e.indexOf("<tr")===0&&(o="tbody"),(e.indexOf("<td")===0||e.indexOf("<th")===0)&&(o="tr"),e.indexOf("<tbody")===0&&(o="table"),e.indexOf("<option")===0&&(o="select"),c=u.createElement(o),c.innerHTML=e,r=0;r<c.childNodes.length;r+=1)s.push(c.childNodes[r]);else for(h=t||n[0]!=="#"||n.match(/[ .<>:~]/)?(t||u).querySelectorAll(n.trim()):[u.getElementById(n.trim().split("#")[1])],r=0;r<h.length;r+=1)h[r]&&s.push(h[r]);else if(n.nodeType||n===i||n===u)s.push(n);else if(n.length>0&&n[0].nodeType)for(r=0;r<n.length;r+=1)s.push(n[r]);return new f(s)}function g(n){for(var i=[],t=0;t<n.length;t+=1)i.indexOf(n[t])===-1&&i.push(n[t]);return i}function ei(n){var r,i,t;if(typeof n=="undefined")return this;for(r=n.split(" "),i=0;i<r.length;i+=1)for(t=0;t<this.length;t+=1)typeof this[t]!="undefined"&&typeof this[t].classList!="undefined"&&this[t].classList.add(r[i]);return this}function oi(n){for(var t,r=n.split(" "),i=0;i<r.length;i+=1)for(t=0;t<this.length;t+=1)typeof this[t]!="undefined"&&typeof this[t].classList!="undefined"&&this[t].classList.remove(r[i]);return this}function si(n){return this[0]?this[0].classList.contains(n):!1}function hi(n){for(var t,r=n.split(" "),i=0;i<r.length;i+=1)for(t=0;t<this.length;t+=1)typeof this[t]!="undefined"&&typeof this[t].classList!="undefined"&&this[t].classList.toggle(r[i]);return this}function ci(n,t){var u=arguments,i,r;if(arguments.length===1&&typeof n=="string")return this[0]?this[0].getAttribute(n):undefined;for(i=0;i<this.length;i+=1)if(u.length===2)this[i].setAttribute(n,t);else for(r in n)this[i][r]=n[r],this[i].setAttribute(r,n[r]);return this}function li(n){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(n);return this}function ai(n,t){var i,u,r;if(typeof t=="undefined")return(i=this[0],i)?i.dom7ElementDataStorage&&n in i.dom7ElementDataStorage?i.dom7ElementDataStorage[n]:(u=i.getAttribute("data-"+n),u)?u:undefined:undefined;for(r=0;r<this.length;r+=1)i=this[r],i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[n]=t;return this}function vi(n){for(var i,t=0;t<this.length;t+=1)i=this[t].style,i.webkitTransform=n,i.transform=n;return this}function yi(n){var t,i;for(typeof n!="string"&&(n=n+"ms"),t=0;t<this.length;t+=1)i=this[t].style,i.webkitTransitionDuration=n,i.transitionDuration=n;return this}function pi(){function y(n){var f=n.target,i,e,r;if(f)if(i=n.target.dom7EventData||[],i.indexOf(n)<0&&i.unshift(n),t(f).is(c))u.apply(f,i);else for(e=t(f).parents(),r=0;r<e.length;r+=1)t(e[r]).is(c)&&u.apply(e[r],i)}function p(n){var t=n&&n.target?n.target.dom7EventData||[]:[];t.indexOf(n)<0&&t.unshift(n);u.apply(this,t)}for(var h,r=[],a=arguments.length,e,i,l,n,o,s;a--;)r[a]=arguments[a];var v=r[0],c=r[1],u=r[2],f=r[3];for(typeof r[1]=="function"&&(h=r,v=h[0],u=h[1],f=h[2],c=undefined),f||(f=!1),e=v.split(" "),l=0;l<this.length;l+=1)if(n=this[l],c)for(i=0;i<e.length;i+=1)s=e[i],n.dom7LiveListeners||(n.dom7LiveListeners={}),n.dom7LiveListeners[s]||(n.dom7LiveListeners[s]=[]),n.dom7LiveListeners[s].push({listener:u,proxyListener:y}),n.addEventListener(s,y,f);else for(i=0;i<e.length;i+=1)o=e[i],n.dom7Listeners||(n.dom7Listeners={}),n.dom7Listeners[o]||(n.dom7Listeners[o]=[]),n.dom7Listeners[o].push({listener:u,proxyListener:p}),n.addEventListener(o,p,f);return this}function wi(){for(var e,t=[],l=arguments.length,v,s,f,h,i,n,r,c;l--;)t[l]=arguments[l];var y=t[0],a=t[1],o=t[2],u=t[3];for(typeof t[1]=="function"&&(e=t,y=e[0],o=e[1],u=e[2],a=undefined),u||(u=!1),v=y.split(" "),s=0;s<v.length;s+=1)for(f=v[s],h=0;h<this.length;h+=1)if(i=this[h],n=void 0,!a&&i.dom7Listeners?n=i.dom7Listeners[f]:a&&i.dom7LiveListeners&&(n=i.dom7LiveListeners[f]),n&&n.length)for(r=n.length-1;r>=0;r-=1)c=n[r],o&&c.listener===o?(i.removeEventListener(f,c.proxyListener,u),n.splice(r,1)):o||(i.removeEventListener(f,c.proxyListener,u),n.splice(r,1));return this}function bi(){for(var r=[],o=arguments.length,s,h,f,c,e,t,n;o--;)r[o]=arguments[o];for(s=r[0].split(" "),h=r[1],f=0;f<s.length;f+=1)for(c=s[f],e=0;e<this.length;e+=1){t=this[e];n=void 0;try{n=new i.CustomEvent(c,{detail:h,bubbles:!0,cancelable:!0})}catch(l){n=u.createEvent("Event");n.initEvent(c,!0,!0);n.detail=h}t.dom7EventData=r.filter(function(n,t){return t>0});t.dispatchEvent(n);t.dom7EventData=[];delete t.dom7EventData}return this}function ki(n){function u(f){if(f.target===this)for(n.call(this,f),t=0;t<i.length;t+=1)r.off(i[t],u)}var i=["webkitTransitionEnd","transitionend"],r=this,t;if(n)for(t=0;t<i.length;t+=1)r.on(i[t],u);return this}function di(n){if(this.length>0){if(n){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function gi(n){if(this.length>0){if(n){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function nr(){if(this.length>0){var n=this[0],t=n.getBoundingClientRect(),r=u.body,f=n.clientTop||r.clientTop||0,e=n.clientLeft||r.clientLeft||0,o=n===i?i.scrollY:n.scrollTop,s=n===i?i.scrollX:n.scrollLeft;return{top:t.top+o-f,left:t.left+s-e}}return null}function tr(){return this[0]?i.getComputedStyle(this[0],null):{}}function ir(n,t){var r,u;if(arguments.length===1)if(typeof n=="string"){if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(n)}else{for(r=0;r<this.length;r+=1)for(u in n)this[r].style[u]=n[u];return this}if(arguments.length===2&&typeof n=="string"){for(r=0;r<this.length;r+=1)this[r].style[n]=t;return this}return this}function rr(n){if(!n)return this;for(var t=0;t<this.length;t+=1)if(n.call(this[t],t,this[t])===!1)return this;return this}function ur(n){if(typeof n=="undefined")return this[0]?this[0].innerHTML:undefined;for(var t=0;t<this.length;t+=1)this[t].innerHTML=n;return this}function fr(n){if(typeof n=="undefined")return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=n;return this}function er(n){var r=this[0],o,e;if(!r||typeof n=="undefined")return!1;if(typeof n=="string"){if(r.matches)return r.matches(n);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(r.msMatchesSelector)return r.msMatchesSelector(n);for(o=t(n),e=0;e<o.length;e+=1)if(o[e]===r)return!0;return!1}if(n===u)return r===u;if(n===i)return r===i;if(n.nodeType||n instanceof f){for(o=n.nodeType?[n]:n,e=0;e<o.length;e+=1)if(o[e]===r)return!0;return!1}return!1}function or(){var n=this[0],t;if(n){for(t=0;(n=n.previousSibling)!==null;)n.nodeType===1&&(t+=1);return t}return undefined}function sr(n){if(typeof n=="undefined")return this;var i=this.length,t;return n>i-1?new f([]):n<0?(t=i+n,t<0)?new f([]):new f([this[t]]):new f([this[n]])}function hr(){for(var o=[],s=arguments.length,n,i,t,r,e;s--;)o[s]=arguments[s];for(i=0;i<o.length;i+=1)for(n=o[i],t=0;t<this.length;t+=1)if(typeof n=="string")for(r=u.createElement("div"),r.innerHTML=n;r.firstChild;)this[t].appendChild(r.firstChild);else if(n instanceof f)for(e=0;e<n.length;e+=1)this[t].appendChild(n[e]);else this[t].appendChild(n);return this}function cr(n){for(var i,r,t=0;t<this.length;t+=1)if(typeof n=="string")for(r=u.createElement("div"),r.innerHTML=n,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0]);else if(n instanceof f)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this}function lr(n){return this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?new f([this[0].nextElementSibling]):new f([]):this[0].nextElementSibling?new f([this[0].nextElementSibling]):new f([]):new f([])}function ar(n){var u=[],r=this[0],i;if(!r)return new f([]);while(r.nextElementSibling)i=r.nextElementSibling,n?t(i).is(n)&&u.push(i):u.push(i),r=i;return new f(u)}function vr(n){if(this.length>0){var i=this[0];return n?i.previousElementSibling&&t(i.previousElementSibling).is(n)?new f([i.previousElementSibling]):new f([]):i.previousElementSibling?new f([i.previousElementSibling]):new f([])}return new f([])}function yr(n){var u=[],r=this[0],i;if(!r)return new f([]);while(r.previousElementSibling)i=r.previousElementSibling,n?t(i).is(n)&&u.push(i):u.push(i),r=i;return new f(u)}function pr(n){for(var r=[],i=0;i<this.length;i+=1)this[i].parentNode!==null&&(n?t(this[i].parentNode).is(n)&&r.push(this[i].parentNode):r.push(this[i].parentNode));return t(g(r))}function wr(n){for(var i,r=[],u=0;u<this.length;u+=1)for(i=this[u].parentNode;i;)n?t(i).is(n)&&r.push(i):r.push(i),i=i.parentNode;return t(g(r))}function br(n){var t=this;return typeof n=="undefined"?new f([]):(t.is(n)||(t=t.parents(n).eq(0)),t)}function kr(n){for(var r,t,u=[],i=0;i<this.length;i+=1)for(r=this[i].querySelectorAll(n),t=0;t<r.length;t+=1)u.push(r[t]);return new f(u)}function dr(n){for(var r,i,u=[],e=0;e<this.length;e+=1)for(r=this[e].childNodes,i=0;i<r.length;i+=1)n?r[i].nodeType===1&&t(r[i]).is(n)&&u.push(r[i]):r[i].nodeType===1&&u.push(r[i]);return new f(g(u))}function gr(){for(var n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}function nu(){for(var u=[],f=arguments.length,n,i,r,e;f--;)u[f]=arguments[f];for(n=this,i=0;i<u.length;i+=1)for(e=t(u[i]),r=0;r<e.length;r+=1)n[n.length]=e[r],n.length+=1;return n}function tu(){var t=this,i,r,u=t.$el;(i=typeof t.params.width!="undefined"?t.params.width:u[0].clientWidth,r=typeof t.params.height!="undefined"?t.params.height:u[0].clientHeight,i===0&&t.isHorizontal()||r===0&&t.isVertical())||(i=i-parseInt(u.css("padding-left"),10)-parseInt(u.css("padding-right"),10),r=r-parseInt(u.css("padding-top"),10)-parseInt(u.css("padding-bottom"),10),n.extend(t,{width:i,height:r,size:t.isHorizontal()?i:r}))}function iu(){var u=this,t=u.params,b=u.$wrapperEl,v=u.size,st=u.rtlTranslate,ei=u.wrongRTL,wt=u.virtual&&t.virtual.enabled,oi=wt?u.virtual.slides.length:u.slides.length,c=b.children("."+u.params.slideClass),w=wt?u.virtual.slides.length:c.length,f=[],k=[],ht=[],ct=t.slidesOffsetBefore,ft,d,s,l,tt,it,et,rt,ot,ut,pt;typeof ct=="function"&&(ct=t.slidesOffsetBefore.call(u));ft=t.slidesOffsetAfter;typeof ft=="function"&&(ft=t.slidesOffsetAfter.call(u));var si=u.snapGrid.length,hi=u.snapGrid.length,h=t.spaceBetween,e=-ct,lt=0,at=0;if(typeof v!="undefined"){typeof h=="string"&&h.indexOf("%")>=0&&(h=parseFloat(h.replace("%",""))/100*v);u.virtualSize=-h;st?c.css({marginLeft:"",marginTop:""}):c.css({marginRight:"",marginBottom:""});t.slidesPerColumn>1&&(d=Math.floor(w/t.slidesPerColumn)===w/u.params.slidesPerColumn?w:Math.ceil(w/t.slidesPerColumn)*t.slidesPerColumn,t.slidesPerView!=="auto"&&t.slidesPerColumnFill==="row"&&(d=Math.max(d,t.slidesPerView*t.slidesPerColumn)));var o,g=t.slidesPerColumn,bt=d/g,kt=Math.floor(w/t.slidesPerColumn);for(s=0;s<w;s+=1){if(o=0,l=c.eq(s),t.slidesPerColumn>1){var nt=void 0,p=void 0,y=void 0;t.slidesPerColumnFill==="column"?(p=Math.floor(s/g),y=s-p*g,(p>kt||p===kt&&y===g-1)&&(y+=1,y>=g&&(y=0,p+=1)),nt=p+y*d/g,l.css({"-webkit-box-ordinal-group":nt,"-moz-box-ordinal-group":nt,"-ms-flex-order":nt,"-webkit-order":nt,order:nt})):(y=Math.floor(s/bt),p=s-y*bt);l.css("margin-"+(u.isHorizontal()?"top":"left"),y!==0&&t.spaceBetween&&t.spaceBetween+"px").attr("data-swiper-column",p).attr("data-swiper-row",y)}if(l.css("display")!=="none"){if(t.slidesPerView==="auto"){var a=i.getComputedStyle(l[0],null),vt=l[0].style.transform,yt=l[0].style.webkitTransform;if(vt&&(l[0].style.transform="none"),yt&&(l[0].style.webkitTransform="none"),t.roundLengths)o=u.isHorizontal()?l.outerWidth(!0):l.outerHeight(!0);else if(u.isHorizontal()){var dt=parseFloat(a.getPropertyValue("width")),ci=parseFloat(a.getPropertyValue("padding-left")),li=parseFloat(a.getPropertyValue("padding-right")),gt=parseFloat(a.getPropertyValue("margin-left")),ni=parseFloat(a.getPropertyValue("margin-right")),ti=a.getPropertyValue("box-sizing");o=ti&&ti==="border-box"?dt+gt+ni:dt+ci+li+gt+ni}else{var ii=parseFloat(a.getPropertyValue("height")),ai=parseFloat(a.getPropertyValue("padding-top")),vi=parseFloat(a.getPropertyValue("padding-bottom")),ri=parseFloat(a.getPropertyValue("margin-top")),ui=parseFloat(a.getPropertyValue("margin-bottom")),fi=a.getPropertyValue("box-sizing");o=fi&&fi==="border-box"?ii+ri+ui:ii+ai+vi+ri+ui}vt&&(l[0].style.transform=vt);yt&&(l[0].style.webkitTransform=yt);t.roundLengths&&(o=Math.floor(o))}else o=(v-(t.slidesPerView-1)*h)/t.slidesPerView,t.roundLengths&&(o=Math.floor(o)),c[s]&&(u.isHorizontal()?c[s].style.width=o+"px":c[s].style.height=o+"px");c[s]&&(c[s].swiperSlideSize=o);ht.push(o);t.centeredSlides?(e=e+o/2+lt/2+h,lt===0&&s!==0&&(e=e-v/2-h),s===0&&(e=e-v/2-h),Math.abs(e)<1/1e3&&(e=0),t.roundLengths&&(e=Math.floor(e)),at%t.slidesPerGroup==0&&f.push(e),k.push(e)):(t.roundLengths&&(e=Math.floor(e)),at%t.slidesPerGroup==0&&f.push(e),k.push(e),e=e+o+h);u.virtualSize+=o+h;lt=o;at+=1}}if(u.virtualSize=Math.max(u.virtualSize,v)+ft,st&&ei&&(t.effect==="slide"||t.effect==="coverflow")&&b.css({width:u.virtualSize+t.spaceBetween+"px"}),(!r.flexbox||t.setWrapperSize)&&(u.isHorizontal()?b.css({width:u.virtualSize+t.spaceBetween+"px"}):b.css({height:u.virtualSize+t.spaceBetween+"px"})),t.slidesPerColumn>1&&(u.virtualSize=(o+t.spaceBetween)*d,u.virtualSize=Math.ceil(u.virtualSize/t.slidesPerColumn)-t.spaceBetween,u.isHorizontal()?b.css({width:u.virtualSize+t.spaceBetween+"px"}):b.css({height:u.virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){for(tt=[],it=0;it<f.length;it+=1)et=f[it],t.roundLengths&&(et=Math.floor(et)),f[it]<u.virtualSize+f[0]&&tt.push(et);f=tt}if(!t.centeredSlides){for(tt=[],rt=0;rt<f.length;rt+=1)ot=f[rt],t.roundLengths&&(ot=Math.floor(ot)),f[rt]<=u.virtualSize-v&&tt.push(ot);f=tt;Math.floor(u.virtualSize-v)-Math.floor(f[f.length-1])>1&&f.push(u.virtualSize-v)}f.length===0&&(f=[0]);t.spaceBetween!==0&&(u.isHorizontal()?st?c.css({marginLeft:h+"px"}):c.css({marginRight:h+"px"}):c.css({marginBottom:h+"px"}));t.centerInsufficientSlides&&(ut=0,ht.forEach(function(n){ut+=n+(t.spaceBetween?t.spaceBetween:0)}),ut-=t.spaceBetween,ut<v&&(pt=(v-ut)/2,f.forEach(function(n,t){f[t]=n-pt}),k.forEach(function(n,t){k[t]=n+pt})));n.extend(u,{slides:c,snapGrid:f,slidesGrid:k,slidesSizesGrid:ht});w!==oi&&u.emit("slidesLengthChange");f.length!==si&&(u.params.watchOverflow&&u.checkOverflow(),u.emit("snapGridLengthChange"));k.length!==hi&&u.emit("slidesGridLengthChange");(t.watchSlidesProgress||t.watchSlidesVisibility)&&u.updateSlidesOffset()}}function ru(n){var t=this,r=[],u=0,i,f,e;if(typeof n=="number"?t.setTransition(n):n===!0&&t.setTransition(t.params.speed),t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){if(f=t.activeIndex+i,f>t.slides.length)break;r.push(t.slides.eq(f)[0])}else r.push(t.slides.eq(t.activeIndex)[0]);for(i=0;i<r.length;i+=1)typeof r[i]!="undefined"&&(e=r[i].offsetHeight,u=e>u?e:u);u&&t.$wrapperEl.css("height",u+"px")}function uu(){for(var i=this,t=i.slides,n=0;n<t.length;n+=1)t[n].swiperSlideOffset=i.isHorizontal()?t[n].offsetLeft:t[n].offsetTop}function fu(n){var o,r,f,h;n===void 0&&(n=this&&this.translate||0);var i=this,e=i.params,u=i.slides,l=i.rtlTranslate;if(u.length!==0){for(typeof u[0].swiperSlideOffset=="undefined"&&i.updateSlidesOffset(),o=-n,l&&(o=n),u.removeClass(e.slideVisibleClass),i.visibleSlidesIndexes=[],i.visibleSlides=[],r=0;r<u.length;r+=1){if(f=u[r],h=(o+(e.centeredSlides?i.minTranslate():0)-f.swiperSlideOffset)/(f.swiperSlideSize+e.spaceBetween),e.watchSlidesVisibility){var s=-(o-f.swiperSlideOffset),c=s+i.slidesSizesGrid[r],a=s>=0&&s<i.size||c>0&&c<=i.size||s<=0&&c>=i.size;a&&(i.visibleSlides.push(f),i.visibleSlidesIndexes.push(r),u.eq(r).addClass(e.slideVisibleClass))}f.progress=l?-h:h}i.visibleSlides=t(i.visibleSlides)}}function eu(t){t===void 0&&(t=this&&this.translate||0);var i=this,e=i.params,o=i.maxTranslate()-i.minTranslate(),r=i.progress,u=i.isBeginning,f=i.isEnd,s=u,h=f;o===0?(r=0,u=!0,f=!0):(r=(t-i.minTranslate())/o,u=r<=0,f=r>=1);n.extend(i,{progress:r,isBeginning:u,isEnd:f});(e.watchSlidesProgress||e.watchSlidesVisibility)&&i.updateSlidesProgress(t);u&&!s&&i.emit("reachBeginning toEdge");f&&!h&&i.emit("reachEnd toEdge");(s&&!u||h&&!f)&&i.emit("fromEdge");i.emit("progress",r)}function ou(){var t=this,e=t.slides,n=t.params,u=t.$wrapperEl,o=t.activeIndex,s=t.realIndex,h=t.virtual&&n.virtual.enabled,f,i,r;e.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass);f=h?t.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+o+'"]'):e.eq(o);f.addClass(n.slideActiveClass);n.loop&&(f.hasClass(n.slideDuplicateClass)?u.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(n.slideDuplicateActiveClass):u.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(n.slideDuplicateActiveClass));i=f.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&i.length===0&&(i=e.eq(0),i.addClass(n.slideNextClass));r=f.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&r.length===0&&(r=e.eq(-1),r.addClass(n.slidePrevClass));n.loop&&(i.hasClass(n.slideDuplicateClass)?u.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):u.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),r.hasClass(n.slideDuplicateClass)?u.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):u.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass))}function su(t){var i=this,e=i.rtlTranslate?i.translate:-i.translate,f=i.slidesGrid,s=i.snapGrid,c=i.params,l=i.activeIndex,a=i.realIndex,v=i.snapIndex,u=t,o,r,h;if(typeof u=="undefined"){for(r=0;r<f.length;r+=1)typeof f[r+1]!="undefined"?e>=f[r]&&e<f[r+1]-(f[r+1]-f[r])/2?u=r:e>=f[r]&&e<f[r+1]&&(u=r+1):e>=f[r]&&(u=r);c.normalizeSlideIndex&&(u<0||typeof u=="undefined")&&(u=0)}if(o=s.indexOf(e)>=0?s.indexOf(e):Math.floor(u/c.slidesPerGroup),o>=s.length&&(o=s.length-1),u===l){o!==v&&(i.snapIndex=o,i.emit("snapIndexChange"));return}h=parseInt(i.slides.eq(u).attr("data-swiper-slide-index")||u,10);n.extend(i,{snapIndex:o,realIndex:h,previousIndex:l,activeIndex:u});i.emit("activeIndexChange");i.emit("snapIndexChange");a!==h&&i.emit("realIndexChange");i.emit("slideChange")}function hu(n){var i=this,f=i.params,r=t(n.target).closest("."+f.slideClass)[0],e=!1,u;if(r)for(u=0;u<i.slides.length;u+=1)i.slides[u]===r&&(e=!0);if(r&&e)i.clickedSlide=r,i.clickedIndex=i.virtual&&i.params.virtual.enabled?parseInt(t(r).attr("data-swiper-slide-index"),10):t(r).index();else{i.clickedSlide=undefined;i.clickedIndex=undefined;return}f.slideToClickedSlide&&i.clickedIndex!==undefined&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}function cu(t){var r;t===void 0&&(t=this.isHorizontal()?"x":"y");var i=this,e=i.params,u=i.rtlTranslate,f=i.translate,o=i.$wrapperEl;return e.virtualTranslate?u?-f:f:(r=n.getTranslate(o[0],t),u&&(r=-r),r||0)}function lu(n,t){var i=this,c=i.rtlTranslate,o=i.params,s=i.$wrapperEl,l=i.progress,u=0,f=0,h,e;i.isHorizontal()?u=c?-n:n:f=n;o.roundLengths&&(u=Math.floor(u),f=Math.floor(f));o.virtualTranslate||(r.transforms3d?s.transform("translate3d("+u+"px, "+f+"px, 0px)"):s.transform("translate("+u+"px, "+f+"px)"));i.previousTranslate=i.translate;i.translate=i.isHorizontal()?u:f;e=i.maxTranslate()-i.minTranslate();h=e===0?0:(n-i.minTranslate())/e;h!==l&&i.updateProgress(n);i.emit("setTranslate",i.translate,t)}function au(){return-this.snapGrid[0]}function vu(){return-this.snapGrid[this.snapGrid.length-1]}function yu(n,t){var i=this;i.$wrapperEl.transition(n);i.emit("setTransition",n,t)}function pu(n,t){var r;n===void 0&&(n=!0);var i=this,u=i.activeIndex,e=i.params,f=i.previousIndex;if(e.autoHeight&&i.updateAutoHeight(),r=t,r||(r=u>f?"next":u<f?"prev":"reset"),i.emit("transitionStart"),n&&u!==f){if(r==="reset"){i.emit("slideResetTransitionStart");return}i.emit("slideChangeTransitionStart");r==="next"?i.emit("slideNextTransitionStart"):i.emit("slidePrevTransitionStart")}}function wu(n,t){var r;n===void 0&&(n=!0);var i=this,u=i.activeIndex,f=i.previousIndex;if(i.animating=!1,i.setTransition(0),r=t,r||(r=u>f?"next":u<f?"prev":"reset"),i.emit("transitionEnd"),n&&u!==f){if(r==="reset"){i.emit("slideResetTransitionEnd");return}i.emit("slideChangeTransitionEnd");r==="next"?i.emit("slideNextTransitionEnd"):i.emit("slidePrevTransitionEnd")}}function bu(n,t,i,u){var f,e,a,o,l,s;n===void 0&&(n=0);t===void 0&&(t=this.params.speed);i===void 0&&(i=!0);f=this;e=n;e<0&&(e=0);var h=f.params,v=f.snapGrid,y=f.slidesGrid,w=f.previousIndex,c=f.activeIndex,p=f.rtlTranslate;if(f.animating&&h.preventInteractionOnTransition)return!1;if(a=Math.floor(e/h.slidesPerGroup),a>=v.length&&(a=v.length-1),(c||h.initialSlide||0)===(w||0)&&i&&f.emit("beforeSlideChangeStart"),o=-v[a],f.updateProgress(o),h.normalizeSlideIndex)for(l=0;l<y.length;l+=1)-Math.floor(o*100)>=Math.floor(y[l]*100)&&(e=l);return f.initialized&&e!==c&&(!f.allowSlideNext&&o<f.translate&&o<f.minTranslate()||!f.allowSlidePrev&&o>f.translate&&o>f.maxTranslate()&&(c||0)!==e)?!1:(s=e>c?"next":e<c?"prev":"reset",p&&-o===f.translate||!p&&o===f.translate)?(f.updateActiveIndex(e),h.autoHeight&&f.updateAutoHeight(),f.updateSlidesClasses(),h.effect!=="slide"&&f.setTranslate(o),s!=="reset"&&(f.transitionStart(i,s),f.transitionEnd(i,s)),!1):(t!==0&&r.transition?(f.setTransition(t),f.setTranslate(o),f.updateActiveIndex(e),f.updateSlidesClasses(),f.emit("beforeTransitionStart",t,u),f.transitionStart(i,s),f.animating||(f.animating=!0,f.onSlideToWrapperTransitionEnd||(f.onSlideToWrapperTransitionEnd=function(n){f&&!f.destroyed&&n.target===this&&(f.$wrapperEl[0].removeEventListener("transitionend",f.onSlideToWrapperTransitionEnd),f.$wrapperEl[0].removeEventListener("webkitTransitionEnd",f.onSlideToWrapperTransitionEnd),f.onSlideToWrapperTransitionEnd=null,delete f.onSlideToWrapperTransitionEnd,f.transitionEnd(i,s))}),f.$wrapperEl[0].addEventListener("transitionend",f.onSlideToWrapperTransitionEnd),f.$wrapperEl[0].addEventListener("webkitTransitionEnd",f.onSlideToWrapperTransitionEnd))):(f.setTransition(0),f.setTranslate(o),f.updateActiveIndex(e),f.updateSlidesClasses(),f.emit("beforeTransitionStart",t,u),f.transitionStart(i,s),f.transitionEnd(i,s)),!0)}function ku(n,t,i,r){n===void 0&&(n=0);t===void 0&&(t=this.params.speed);i===void 0&&(i=!0);var u=this,f=n;return u.params.loop&&(f+=u.loopedSlides),u.slideTo(f,t,i,r)}function du(n,t,i){n===void 0&&(n=this.params.speed);t===void 0&&(t=!0);var r=this,u=r.params,f=r.animating;return u.loop?f?!1:(r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft,r.slideTo(r.activeIndex+u.slidesPerGroup,n,t,i)):r.slideTo(r.activeIndex+u.slidesPerGroup,n,t,i)}function gu(n,t,i){function e(n){return n<0?-Math.floor(Math.abs(n)):Math.floor(n)}var s;n===void 0&&(n=this.params.speed);t===void 0&&(t=!0);var r=this,a=r.params,v=r.animating,f=r.snapGrid,o=r.slidesGrid,y=r.rtlTranslate;if(a.loop){if(v)return!1;r.loopFix();r._clientLeft=r.$wrapperEl[0].clientLeft}s=y?r.translate:-r.translate;var h=e(s),c=f.map(function(n){return e(n)}),p=o.map(function(n){return e(n)}),w=f[c.indexOf(h)],l=f[c.indexOf(h)-1],u;return typeof l!="undefined"&&(u=o.indexOf(l),u<0&&(u=r.activeIndex-1)),r.slideTo(u,n,t,i)}function nf(n,t,i){n===void 0&&(n=this.params.speed);t===void 0&&(t=!0);var r=this;return r.slideTo(r.activeIndex,n,t,i)}function tf(n,t,i){n===void 0&&(n=this.params.speed);t===void 0&&(t=!0);var r=this,u=r.activeIndex,f=Math.floor(u/r.params.slidesPerGroup);if(f<r.snapGrid.length-1){var o=r.rtlTranslate?r.translate:-r.translate,e=r.snapGrid[f],s=r.snapGrid[f+1];o-e>(s-e)/2&&(u=r.params.slidesPerGroup)}return r.slideTo(u,n,t,i)}function rf(){var i=this,u=i.params,o=i.$wrapperEl,f=u.slidesPerView==="auto"?i.slidesPerViewDynamic():u.slidesPerView,r=i.clickedIndex,e;if(u.loop){if(i.animating)return;e=parseInt(t(i.clickedSlide).attr("data-swiper-slide-index"),10);u.centeredSlides?r<i.loopedSlides-f/2||r>i.slides.length-i.loopedSlides+f/2?(i.loopFix(),r=o.children("."+u.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+u.slideDuplicateClass+")").eq(0).index(),n.nextTick(function(){i.slideTo(r)})):i.slideTo(r):r>i.slides.length-f?(i.loopFix(),r=o.children("."+u.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+u.slideDuplicateClass+")").eq(0).index(),n.nextTick(function(){i.slideTo(r)})):i.slideTo(r)}else i.slideTo(r)}function uf(){var r=this,n=r.params,f=r.$wrapperEl,i,c,l,a,e,o,s,h;if(f.children("."+n.slideClass+"."+n.slideDuplicateClass).remove(),i=f.children("."+n.slideClass),n.loopFillGroupWithBlank&&(c=n.slidesPerGroup-i.length%n.slidesPerGroup,c!==n.slidesPerGroup)){for(l=0;l<c;l+=1)a=t(u.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass),f.append(a);i=f.children("."+n.slideClass)}for(n.slidesPerView!=="auto"||n.loopedSlides||(n.loopedSlides=i.length),r.loopedSlides=parseInt(n.loopedSlides||n.slidesPerView,10),r.loopedSlides+=n.loopAdditionalSlides,r.loopedSlides>i.length&&(r.loopedSlides=i.length),e=[],o=[],i.each(function(n,u){var f=t(u);n<r.loopedSlides&&o.push(u);n<i.length&&n>=i.length-r.loopedSlides&&e.push(u);f.attr("data-swiper-slide-index",n)}),s=0;s<o.length;s+=1)f.append(t(o[s].cloneNode(!0)).addClass(n.slideDuplicateClass));for(h=e.length-1;h>=0;h-=1)f.prepend(t(e[h].cloneNode(!0)).addClass(n.slideDuplicateClass))}function ff(){var n=this,c=n.params,i=n.activeIndex,f=n.slides,t=n.loopedSlides,l=n.allowSlidePrev,a=n.allowSlideNext,v=n.snapGrid,e=n.rtlTranslate,r,o,u,s,h;n.allowSlidePrev=!0;n.allowSlideNext=!0;o=-v[i];u=o-n.getTranslate();i<t?(r=f.length-t*3+i,r+=t,s=n.slideTo(r,0,!1,!0),s&&u!==0&&n.setTranslate((e?-n.translate:n.translate)-u)):(c.slidesPerView==="auto"&&i>=t*2||i>=f.length-t)&&(r=-f.length+i+t,r+=t,h=n.slideTo(r,0,!1,!0),h&&u!==0&&n.setTranslate((e?-n.translate:n.translate)-u));n.allowSlidePrev=l;n.allowSlideNext=a}function ef(){var t=this,i=t.$wrapperEl,n=t.params,r=t.slides;i.children("."+n.slideClass+"."+n.slideDuplicateClass+",."+n.slideClass+"."+n.slideBlankClass).remove();r.removeAttr("data-swiper-slide-index")}function sf(n){var i=this,t;r.touch||!i.params.simulateTouch||i.params.watchOverflow&&i.isLocked||(t=i.el,t.style.cursor="move",t.style.cursor=n?"-webkit-grabbing":"-webkit-grab",t.style.cursor=n?"-moz-grabbin":"-moz-grab",t.style.cursor=n?"grabbing":"grab")}function hf(){var n=this;r.touch||n.params.watchOverflow&&n.isLocked||(n.el.style.cursor="")}function cf(n){var t=this,f=t.$wrapperEl,u=t.params,i;if(u.loop&&t.loopDestroy(),typeof n=="object"&&"length"in n)for(i=0;i<n.length;i+=1)n[i]&&f.append(n[i]);else f.append(n);u.loop&&t.loopCreate();u.observer&&r.observer||t.update()}function lf(n){var t=this,u=t.params,e=t.$wrapperEl,o=t.activeIndex,f,i;if(u.loop&&t.loopDestroy(),f=o+1,typeof n=="object"&&"length"in n){for(i=0;i<n.length;i+=1)n[i]&&e.prepend(n[i]);f=o+n.length}else e.prepend(n);u.loop&&t.loopCreate();u.observer&&r.observer||t.update();t.slideTo(f,0,!1)}function af(n,t){var i=this,o=i.$wrapperEl,f=i.params,y=i.activeIndex,u=y,a,s,h,c,v,e,l;if(f.loop&&(u-=i.loopedSlides,i.loopDestroy(),i.slides=o.children("."+f.slideClass)),a=i.slides.length,n<=0){i.prependSlide(t);return}if(n>=a){i.appendSlide(t);return}for(s=u>n?u+1:u,h=[],c=a-1;c>=n;c-=1)v=i.slides.eq(c),v.remove(),h.unshift(v);if(typeof t=="object"&&"length"in t){for(e=0;e<t.length;e+=1)t[e]&&o.append(t[e]);s=u>n?u+t.length:u}else o.append(t);for(l=0;l<h.length;l+=1)o.append(h[l]);f.loop&&i.loopCreate();f.observer&&r.observer||i.update();f.loop?i.slideTo(s+i.loopedSlides,0,!1):i.slideTo(s,0,!1)}function vf(n){var t=this,f=t.params,s=t.$wrapperEl,h=t.activeIndex,o=h,i,u,e;if(f.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.slides=s.children("."+f.slideClass)),i=o,typeof n=="object"&&"length"in n){for(e=0;e<n.length;e+=1)u=n[e],t.slides[u]&&t.slides.eq(u).remove(),u<i&&(i-=1);i=Math.max(i,0)}else u=n,t.slides[u]&&t.slides.eq(u).remove(),u<i&&(i-=1),i=Math.max(i,0);f.loop&&t.loopCreate();f.observer&&r.observer||t.update();f.loop?t.slideTo(i+t.loopedSlides,0,!1):t.slideTo(i,0,!1)}function yf(){for(var t=this,i=[],n=0;n<t.slides.length;n+=1)i.push(n);t.removeSlide(i)}function pf(r){var o=this,s=o.touchEventsData,e=o.params,h=o.touches,f,l,v;if((!o.animating||!e.preventInteractionOnTransition)&&(f=r,f.originalEvent&&(f=f.originalEvent),s.isTouchEvent=f.type==="touchstart",s.isTouchEvent||!("which"in f)||f.which!==3)&&(s.isTouchEvent||!("button"in f)||!(f.button>0))&&(!s.isTouched||!s.isMoved)){if(e.noSwiping&&t(f.target).closest(e.noSwipingSelector?e.noSwipingSelector:"."+e.noSwipingClass)[0]){o.allowClick=!0;return}if(!e.swipeHandler||t(f).closest(e.swipeHandler)[0]){h.currentX=f.type==="touchstart"?f.targetTouches[0].pageX:f.pageX;h.currentY=f.type==="touchstart"?f.targetTouches[0].pageY:f.pageY;var c=h.currentX,y=h.currentY,p=e.edgeSwipeDetection||e.iOSEdgeSwipeDetection,a=e.edgeSwipeThreshold||e.iOSEdgeSwipeThreshold;p&&(c<=a||c>=i.screen.width-a)||(n.extend(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:undefined,startMoving:undefined}),h.startX=c,h.startY=y,s.touchStartTime=n.now(),o.allowClick=!0,o.updateSize(),o.swipeDirection=undefined,e.threshold>0&&(s.allowThresholdMove=!1),f.type!=="touchstart"&&(l=!0,t(f.target).is(s.formElements)&&(l=!1),u.activeElement&&t(u.activeElement).is(s.formElements)&&u.activeElement!==f.target&&u.activeElement.blur(),v=l&&o.allowTouchMove&&e.touchStartPreventDefault,(e.touchStartForcePreventDefault||v)&&f.preventDefault()),o.emit("touchStart",f))}}}function wf(i){var f=this,r=f.touchEventsData,s=f.params,e=f.touches,b=f.rtlTranslate,o=i,c,l,a,v,w,h,y,p;if(o.originalEvent&&(o=o.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&f.emit("touchMoveOpposite",o);return}if(!r.isTouchEvent||o.type!=="mousemove"){if(c=o.type==="touchmove"?o.targetTouches[0].pageX:o.pageX,l=o.type==="touchmove"?o.targetTouches[0].pageY:o.pageY,o.preventedByNestedSwiper){e.startX=c;e.startY=l;return}if(!f.allowTouchMove){f.allowClick=!1;r.isTouched&&(n.extend(e,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=n.now());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(f.isVertical()){if(l<e.startY&&f.translate<=f.maxTranslate()||l>e.startY&&f.translate>=f.minTranslate()){r.isTouched=!1;r.isMoved=!1;return}}else if(c<e.startX&&f.translate<=f.maxTranslate()||c>e.startX&&f.translate>=f.minTranslate())return;if(r.isTouchEvent&&u.activeElement&&o.target===u.activeElement&&t(o.target).is(r.formElements)){r.isMoved=!0;f.allowClick=!1;return}if((r.allowTouchCallbacks&&f.emit("touchMove",o),!o.targetTouches||!(o.targetTouches.length>1))&&(e.currentX=c,e.currentY=l,a=e.currentX-e.startX,v=e.currentY-e.startY,!f.params.threshold||!(Math.sqrt(Math.pow(a,2)+Math.pow(v,2))<f.params.threshold))){if(typeof r.isScrolling=="undefined"&&(f.isHorizontal()&&e.currentY===e.startY||f.isVertical()&&e.currentX===e.startX?r.isScrolling=!1:a*a+v*v>=25&&(w=Math.atan2(Math.abs(v),Math.abs(a))*180/Math.PI,r.isScrolling=f.isHorizontal()?w>s.touchAngle:90-w>s.touchAngle)),r.isScrolling&&f.emit("touchMoveOpposite",o),typeof r.startMoving=="undefined"&&(e.currentX!==e.startX||e.currentY!==e.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(r.startMoving){if(f.allowClick=!1,o.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&o.stopPropagation(),r.isMoved||(s.loop&&f.loopFix(),r.startTranslate=f.getTranslate(),f.setTransition(0),f.animating&&f.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(f.allowSlideNext===!0||f.allowSlidePrev===!0)&&f.setGrabCursor(!0),f.emit("sliderFirstMove",o)),f.emit("sliderMove",o),r.isMoved=!0,h=f.isHorizontal()?a:v,e.diff=h,h*=s.touchRatio,b&&(h=-h),f.swipeDirection=h>0?"prev":"next",r.currentTranslate=h+r.startTranslate,y=!0,p=s.resistanceRatio,s.touchReleaseOnEdges&&(p=0),h>0&&r.currentTranslate>f.minTranslate()?(y=!1,s.resistance&&(r.currentTranslate=f.minTranslate()-1+Math.pow(-f.minTranslate()+r.startTranslate+h,p))):h<0&&r.currentTranslate<f.maxTranslate()&&(y=!1,s.resistance&&(r.currentTranslate=f.maxTranslate()+1-Math.pow(f.maxTranslate()-r.startTranslate-h,p))),y&&(o.preventedByNestedSwiper=!0),!f.allowSlideNext&&f.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!f.allowSlidePrev&&f.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(h)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0;e.startX=e.currentX;e.startY=e.currentY;r.currentTranslate=r.startTranslate;e.diff=f.isHorizontal()?e.currentX-e.startX:e.currentY-e.startY;return}}else{r.currentTranslate=r.startTranslate;return}s.followFinger&&((s.freeMode||s.watchSlidesProgress||s.watchSlidesVisibility)&&(f.updateActiveIndex(),f.updateSlidesClasses()),s.freeMode&&(r.velocities.length===0&&r.velocities.push({position:e[f.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:e[f.isHorizontal()?"currentX":"currentY"],time:n.now()})),f.updateProgress(r.currentTranslate),f.setTranslate(r.currentTranslate))}}}}function bf(t){var i=this,r=i.touchEventsData,u=i.params,ot=i.touches,nt=i.rtlTranslate,tt=i.$wrapperEl,e=i.slidesGrid,h=i.snapGrid,c=t,w,a,l,k,d,v,rt,y,p,s,g,o,ut;if(c.originalEvent&&(c=c.originalEvent),r.allowTouchCallbacks&&i.emit("touchEnd",c),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&u.grabCursor&&i.setGrabCursor(!1);r.isMoved=!1;r.startMoving=!1;return}if(u.grabCursor&&r.isMoved&&r.isTouched&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!1),w=n.now(),a=w-r.touchStartTime,i.allowClick&&(i.updateClickedSlide(c),i.emit("tap",c),a<300&&w-r.lastClickTime>300&&(r.clickTimeout&&clearTimeout(r.clickTimeout),r.clickTimeout=n.nextTick(function(){i&&!i.destroyed&&i.emit("click",c)},300)),a<300&&w-r.lastClickTime<300&&(r.clickTimeout&&clearTimeout(r.clickTimeout),i.emit("doubleTap",c))),r.lastClickTime=n.now(),n.nextTick(function(){i.destroyed||(i.allowClick=!0)}),!r.isTouched||!r.isMoved||!i.swipeDirection||ot.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=!1;r.isMoved=!1;r.startMoving=!1;return}if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,l=u.followFinger?nt?i.translate:-i.translate:-r.currentTranslate,u.freeMode){if(l<-i.minTranslate()){i.slideTo(i.activeIndex);return}if(l>-i.maxTranslate()){i.slides.length<h.length?i.slideTo(h.length-1):i.slideTo(i.slides.length-1);return}if(u.freeModeMomentum){if(r.velocities.length>1){var it=r.velocities.pop(),ft=r.velocities.pop(),st=it.position-ft.position,et=it.time-ft.time;i.velocity=st/et;i.velocity/=2;Math.abs(i.velocity)<u.freeModeMinimumVelocity&&(i.velocity=0);(et>150||n.now()-it.time>300)&&(i.velocity=0)}else i.velocity=0;i.velocity*=u.freeModeMomentumVelocityRatio;r.velocities.length=0;var b=1e3*u.freeModeMomentumRatio,ht=i.velocity*b,f=i.translate+ht;if(nt&&(f=-f),k=!1,v=Math.abs(i.velocity)*20*u.freeModeMomentumBounceRatio,f<i.maxTranslate())u.freeModeMomentumBounce?(f+i.maxTranslate()<-v&&(f=i.maxTranslate()-v),d=i.maxTranslate(),k=!0,r.allowMomentumBounce=!0):f=i.maxTranslate(),u.loop&&u.centeredSlides&&(rt=!0);else if(f>i.minTranslate())u.freeModeMomentumBounce?(f-i.minTranslate()>v&&(f=i.minTranslate()+v),d=i.minTranslate(),k=!0,r.allowMomentumBounce=!0):f=i.minTranslate(),u.loop&&u.centeredSlides&&(rt=!0);else if(u.freeModeSticky){for(p=0;p<h.length;p+=1)if(h[p]>-f){y=p;break}f=Math.abs(h[y]-f)<Math.abs(h[y-1]-f)||i.swipeDirection==="next"?h[y]:h[y-1];f=-f}if(rt)i.once("transitionEnd",function(){i.loopFix()});if(i.velocity!==0)b=nt?Math.abs((-f-i.translate)/i.velocity):Math.abs((f-i.translate)/i.velocity);else if(u.freeModeSticky){i.slideToClosest();return}u.freeModeMomentumBounce&&k?(i.updateProgress(d),i.setTransition(b),i.setTranslate(f),i.transitionStart(!0,i.swipeDirection),i.animating=!0,tt.transitionEnd(function(){i&&!i.destroyed&&r.allowMomentumBounce&&(i.emit("momentumBounce"),i.setTransition(u.speed),i.setTranslate(d),tt.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd()}))})):i.velocity?(i.updateProgress(f),i.setTransition(b),i.setTranslate(f),i.transitionStart(!0,i.swipeDirection),i.animating||(i.animating=!0,tt.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd()}))):i.updateProgress(f);i.updateActiveIndex();i.updateSlidesClasses()}else if(u.freeModeSticky){i.slideToClosest();return}(!u.freeModeMomentum||a>=u.longSwipesMs)&&(i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses());return}for(s=0,g=i.slidesSizesGrid[0],o=0;o<e.length;o+=u.slidesPerGroup)typeof e[o+u.slidesPerGroup]!="undefined"?l>=e[o]&&l<e[o+u.slidesPerGroup]&&(s=o,g=e[o+u.slidesPerGroup]-e[o]):l>=e[o]&&(s=o,g=e[e.length-1]-e[e.length-2]);if(ut=(l-e[s])/g,a>u.longSwipesMs){if(!u.longSwipes){i.slideTo(i.activeIndex);return}i.swipeDirection==="next"&&(ut>=u.longSwipesRatio?i.slideTo(s+u.slidesPerGroup):i.slideTo(s));i.swipeDirection==="prev"&&(ut>1-u.longSwipesRatio?i.slideTo(s+u.slidesPerGroup):i.slideTo(s))}else{if(!u.shortSwipes){i.slideTo(i.activeIndex);return}i.swipeDirection==="next"&&i.slideTo(s+u.slidesPerGroup);i.swipeDirection==="prev"&&i.slideTo(s)}}function pt(){var n=this,t=n.params,i=n.el,r;if(!i||i.offsetWidth!==0){t.breakpoints&&n.setBreakpoint();var u=n.allowSlideNext,f=n.allowSlidePrev,e=n.snapGrid;n.allowSlideNext=!0;n.allowSlidePrev=!0;n.updateSize();n.updateSlides();t.freeMode?(r=Math.min(Math.max(n.translate,n.maxTranslate()),n.minTranslate()),n.setTranslate(r),n.updateActiveIndex(),n.updateSlidesClasses(),t.autoHeight&&n.updateAutoHeight()):(n.updateSlidesClasses(),(t.slidesPerView==="auto"||t.slidesPerView>1)&&n.isEnd&&!n.params.centeredSlides?n.slideTo(n.slides.length-1,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0));n.allowSlidePrev=f;n.allowSlideNext=u;n.params.watchOverflow&&e!==n.snapGrid&&n.checkOverflow()}}function kf(n){var t=this;t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function df(){var n=this,t=n.params,i=n.touchEvents,h=n.el,c=n.wrapperEl,f,o,s;n.onTouchStart=pf.bind(n);n.onTouchMove=wf.bind(n);n.onTouchEnd=bf.bind(n);n.onClick=kf.bind(n);f=t.touchEventsTarget==="container"?h:c;o=!!t.nested;!r.touch&&(r.pointerEvents||r.prefixedPointerEvents)?(f.addEventListener(i.start,n.onTouchStart,!1),u.addEventListener(i.move,n.onTouchMove,o),u.addEventListener(i.end,n.onTouchEnd,!1)):(r.touch&&(s=i.start==="touchstart"&&r.passiveListener&&t.passiveListeners?{passive:!0,capture:!1}:!1,f.addEventListener(i.start,n.onTouchStart,s),f.addEventListener(i.move,n.onTouchMove,r.passiveListener?{passive:!1,capture:o}:o),f.addEventListener(i.end,n.onTouchEnd,s)),(t.simulateTouch&&!e.ios&&!e.android||t.simulateTouch&&!r.touch&&e.ios)&&(f.addEventListener("mousedown",n.onTouchStart,!1),u.addEventListener("mousemove",n.onTouchMove,o),u.addEventListener("mouseup",n.onTouchEnd,!1)));(t.preventClicks||t.preventClicksPropagation)&&f.addEventListener("click",n.onClick,!0);n.on(e.ios||e.android?"resize orientationchange observerUpdate":"resize observerUpdate",pt,!0)}function gf(){var n=this,t=n.params,i=n.touchEvents,h=n.el,c=n.wrapperEl,f=t.touchEventsTarget==="container"?h:c,o=!!t.nested,s;!r.touch&&(r.pointerEvents||r.prefixedPointerEvents)?(f.removeEventListener(i.start,n.onTouchStart,!1),u.removeEventListener(i.move,n.onTouchMove,o),u.removeEventListener(i.end,n.onTouchEnd,!1)):(r.touch&&(s=i.start==="onTouchStart"&&r.passiveListener&&t.passiveListeners?{passive:!0,capture:!1}:!1,f.removeEventListener(i.start,n.onTouchStart,s),f.removeEventListener(i.move,n.onTouchMove,o),f.removeEventListener(i.end,n.onTouchEnd,s)),(t.simulateTouch&&!e.ios&&!e.android||t.simulateTouch&&!r.touch&&e.ios)&&(f.removeEventListener("mousedown",n.onTouchStart,!1),u.removeEventListener("mousemove",n.onTouchMove,o),u.removeEventListener("mouseup",n.onTouchEnd,!1)));(t.preventClicks||t.preventClicksPropagation)&&f.removeEventListener("click",n.onClick,!0);n.off(e.ios||e.android?"resize orientationchange observerUpdate":"resize observerUpdate",pt)}function ne(){var t=this,h=t.activeIndex,c=t.initialized,o=t.loopedSlides,f,i,u,r,e,s;(o===void 0&&(o=0),f=t.params,i=f.breakpoints,i&&(!i||Object.keys(i).length!==0))&&(u=t.getBreakpoint(i),u&&t.currentBreakpoint!==u&&(r=u in i?i[u]:undefined,r&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(n){var t=r[n];typeof t!="undefined"&&(r[n]=n==="slidesPerView"&&(t==="AUTO"||t==="auto")?"auto":n==="slidesPerView"?parseFloat(t):parseInt(t,10))}),e=r||t.originalParams,s=f.loop&&e.slidesPerView!==f.slidesPerView,n.extend(t.params,e),n.extend(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=u,s&&c&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(h-o+t.loopedSlides,0,!1)),t.emit("breakpoint",e)))}function te(n){var e=this,t,r,f,u;if(!n)return undefined;for(t=!1,r=[],Object.keys(n).forEach(function(n){r.push(n)}),r.sort(function(n,t){return parseInt(n,10)-parseInt(t,10)}),f=0;f<r.length;f+=1)u=r[f],e.params.breakpointsInverse?u<=i.innerWidth&&(t=u):u>=i.innerWidth&&!t&&(t=u);return t||"max"}function ie(){var i=this,u=i.classNames,t=i.params,f=i.rtl,o=i.$el,n=[];n.push(t.direction);t.freeMode&&n.push("free-mode");r.flexbox||n.push("no-flexbox");t.autoHeight&&n.push("autoheight");f&&n.push("rtl");t.slidesPerColumn>1&&n.push("multirow");e.android&&n.push("android");e.ios&&n.push("ios");(a.isIE||a.isEdge)&&(r.pointerEvents||r.prefixedPointerEvents)&&n.push("wp8-"+t.direction);n.forEach(function(n){u.push(t.containerModifierClass+n)});o.addClass(u.join(" "))}function re(){var n=this,t=n.$el,i=n.classNames;t.removeClass(i.join(" "))}function ue(n,t,r,u,f,e){function s(){e&&e()}var o;n.complete&&f?s():t?(o=new i.Image,o.onload=s,o.onerror=s,u&&(o.sizes=u),r&&(o.srcset=r),t&&(o.src=t)):s()}function fe(){function r(){typeof n!="undefined"&&n!==null&&n&&!n.destroyed&&(n.imagesLoaded!==undefined&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}var n=this,i,t;for(n.imagesToLoad=n.$el.find("img"),i=0;i<n.imagesToLoad.length;i+=1)t=n.imagesToLoad[i],n.loadImage(t,t.currentSrc||t.getAttribute("src"),t.srcset||t.getAttribute("srcset"),t.sizes||t.getAttribute("sizes"),!0,r)}function ee(){var n=this,t=n.isLocked;n.isLocked=n.snapGrid.length===1;n.allowSlideNext=!n.isLocked;n.allowSlidePrev=!n.isLocked;t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock");t&&t!==n.isLocked&&(n.isEnd=!1,n.navigation.update())}function pe(){var t="onwheel",n=t in u,i;return n||(i=u.createElement("div"),i.setAttribute(t,"return;"),n=typeof i[t]=="function"),!n&&u.implementation&&u.implementation.hasFeature&&u.implementation.hasFeature("","")!==!0&&(n=u.implementation.hasFeature("Events.wheel","3.0")),n}var u=typeof document=="undefined"?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,i=typeof window=="undefined"?{document:u,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,f=function(n){for(var i=this,t=0;t<n.length;t+=1)i[t]=n[t];return i.length=n.length,this},nt,st,ht,ct,lt,at,vt,yt,e,wt,bt,a,kt,dt;t.fn=f.prototype;t.Class=f;t.Dom7=f;nt={addClass:ei,removeClass:oi,hasClass:si,toggleClass:hi,attr:ci,removeAttr:li,data:ai,transform:vi,transition:yi,on:pi,off:wi,trigger:bi,transitionEnd:ki,outerWidth:di,outerHeight:gi,offset:nr,css:ir,each:rr,html:ur,text:fr,is:er,index:or,eq:sr,append:hr,prepend:cr,next:lr,nextAll:ar,prev:vr,prevAll:yr,parent:pr,parents:wr,closest:br,find:kr,children:dr,remove:gr,add:nu,styles:tr};Object.keys(nt).forEach(function(n){t.fn[n]=nt[n]});var n={deleteProps:function(n){var t=n;Object.keys(t).forEach(function(n){try{t[n]=null}catch(i){}try{delete t[n]}catch(i){}})},nextTick:function(n,t){return t===void 0&&(t=0),setTimeout(n,t)},now:function(){return Date.now()},getTranslate:function(n,t){t===void 0&&(t="x");var f,r,e,u=i.getComputedStyle(n,null);return i.WebKitCSSMatrix?(r=u.transform||u.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(n){return n.replace(",",".")}).join(", ")),e=new i.WebKitCSSMatrix(r==="none"?"":r)):(e=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),f=e.toString().split(",")),t==="x"&&(r=i.WebKitCSSMatrix?e.m41:f.length===16?parseFloat(f[12]):parseFloat(f[4])),t==="y"&&(r=i.WebKitCSSMatrix?e.m42:f.length===16?parseFloat(f[13]):parseFloat(f[5])),r||0},parseUrlQuery:function(n){var e={},t=n||i.location.href,r,f,u,o;if(typeof t=="string"&&t.length)for(t=t.indexOf("?")>-1?t.replace(/\S*\?/,""):"",f=t.split("&").filter(function(n){return n!==""}),o=f.length,r=0;r<o;r+=1)u=f[r].replace(/#\S+/g,"").split("="),e[decodeURIComponent(u[0])]=typeof u[1]=="undefined"?undefined:decodeURIComponent(u[1])||"";return e},isObject:function(n){return typeof n=="object"&&n!==null&&n.constructor&&n.constructor===Object},extend:function(){for(var u=[],o=arguments.length,r,f,i,s,e,c,t,h;o--;)u[o]=arguments[o];for(r=Object(u[0]),f=1;f<u.length;f+=1)if(i=u[f],i!==undefined&&i!==null)for(s=Object.keys(Object(i)),e=0,c=s.length;e<c;e+=1)t=s[e],h=Object.getOwnPropertyDescriptor(i,t),h!==undefined&&h.enumerable&&(n.isObject(r[t])&&n.isObject(i[t])?n.extend(r[t],i[t]):!n.isObject(r[t])&&n.isObject(i[t])?(r[t]={},n.extend(r[t],i[t])):r[t]=i[t]);return r}},r=function(){var n=u.createElement("div");return{touch:i.Modernizr&&i.Modernizr.touch===!0||function(){return!!(i.navigator.maxTouchPoints>0||"ontouchstart"in i||i.DocumentTouch&&u instanceof i.DocumentTouch)}(),pointerEvents:!!(i.navigator.pointerEnabled||i.PointerEvent||"maxTouchPoints"in i.navigator),prefixedPointerEvents:!!i.navigator.msPointerEnabled,transition:function(){var t=n.style;return"transition"in t||"webkitTransition"in t||"MozTransition"in t}(),transforms3d:i.Modernizr&&i.Modernizr.csstransforms3d===!0||function(){var t=n.style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var r=n.style,i="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<i.length;t+=1)if(i[t]in r)return!0;return!1}(),observer:function(){return"MutationObserver"in i||"WebkitMutationObserver"in i}(),passiveListener:function(){var n=!1,t;try{t=Object.defineProperty({},"passive",{get:function(){n=!0}});i.addEventListener("testPassiveListener",null,t)}catch(u){}return n}(),gestures:function(){return"ongesturestart"in i}()}}(),h=function(n){n===void 0&&(n={});var t=this;t.params=n;t.eventsListeners={};t.params&&t.params.on&&Object.keys(t.params.on).forEach(function(n){t.on(n,t.params.on[n])})},ot={components:{configurable:!0}};h.prototype.on=function(n,t,i){var r=this,u;return typeof t!="function"?r:(u=i?"unshift":"push",n.split(" ").forEach(function(n){r.eventsListeners[n]||(r.eventsListeners[n]=[]);r.eventsListeners[n][u](t)}),r)};h.prototype.once=function(n,t,i){function u(){for(var f=[],i=arguments.length;i--;)f[i]=arguments[i];t.apply(r,f);r.off(n,u)}var r=this;return typeof t!="function"?r:r.on(n,u,i)};h.prototype.off=function(n,t){var i=this;return i.eventsListeners?(n.split(" ").forEach(function(n){typeof t=="undefined"?i.eventsListeners[n]=[]:i.eventsListeners[n]&&i.eventsListeners[n].length&&i.eventsListeners[n].forEach(function(r,u){r===t&&i.eventsListeners[n].splice(u,1)})}),i):i};h.prototype.emit=function(){for(var n=[],r=arguments.length,t,i,u,f,e;r--;)n[r]=arguments[r];return(t=this,!t.eventsListeners)?t:(typeof n[0]=="string"||Array.isArray(n[0])?(i=n[0],u=n.slice(1,n.length),f=t):(i=n[0].events,u=n[0].data,f=n[0].context||t),e=Array.isArray(i)?i:i.split(" "),e.forEach(function(n){if(t.eventsListeners&&t.eventsListeners[n]){var i=[];t.eventsListeners[n].forEach(function(n){i.push(n)});i.forEach(function(n){n.apply(f,u)})}}),t)};h.prototype.useModulesParams=function(t){var i=this;i.modules&&Object.keys(i.modules).forEach(function(r){var u=i.modules[r];u.params&&n.extend(t,u.params)})};h.prototype.useModules=function(n){n===void 0&&(n={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i],u=n[i]||{};r.instance&&Object.keys(r.instance).forEach(function(n){var i=r.instance[n];t[n]=typeof i=="function"?i.bind(t):i});r.on&&t.on&&Object.keys(r.on).forEach(function(n){t.on(n,r.on[n])});r.create&&r.create.bind(t)(u)})};ot.components.set=function(n){var t=this;t.use&&t.use(n)};h.installModule=function(t){for(var u=[],r=arguments.length-1,i,f;r-->0;)u[r]=arguments[r+1];return i=this,i.prototype.modules||(i.prototype.modules={}),f=t.name||Object.keys(i.prototype.modules).length+"_"+n.now(),i.prototype.modules[f]=t,t.proto&&Object.keys(t.proto).forEach(function(n){i.prototype[n]=t.proto[n]}),t.static&&Object.keys(t.static).forEach(function(n){i[n]=t.static[n]}),t.install&&t.install.apply(i,u),i};h.use=function(n){for(var r=[],i=arguments.length-1,t;i-->0;)r[i]=arguments[i+1];return(t=this,Array.isArray(n))?(n.forEach(function(n){return t.installModule(n)}),t):t.installModule.apply(t,[n].concat(r))};Object.defineProperties(h,ot);st={updateSize:tu,updateSlides:iu,updateAutoHeight:ru,updateSlidesOffset:uu,updateSlidesProgress:fu,updateProgress:eu,updateSlidesClasses:ou,updateActiveIndex:su,updateClickedSlide:hu};ht={getTranslate:cu,setTranslate:lu,minTranslate:au,maxTranslate:vu};ct={setTransition:yu,transitionStart:pu,transitionEnd:wu};lt={slideTo:bu,slideToLoop:ku,slideNext:du,slidePrev:gu,slideReset:nf,slideToClosest:tf,slideToClickedSlide:rf};at={loopCreate:uf,loopFix:ff,loopDestroy:ef};vt={setGrabCursor:sf,unsetGrabCursor:hf};yt={appendSlide:cf,prependSlide:lf,addSlide:af,removeSlide:vf,removeAllSlides:yf};e=function(){var t=i.navigator.userAgent,n={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:i.cordova||i.phonegap,phonegap:i.cordova||i.phonegap},s=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),c=t.match(/(Android);?[\s\/]+([\d.]+)?/),f=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),e=!f&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),o,h;return s&&(n.os="windows",n.osVersion=s[2],n.windows=!0),c&&!s&&(n.os="android",n.osVersion=c[2],n.android=!0,n.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(f||e||r)&&(n.os="ios",n.ios=!0),e&&!r&&(n.osVersion=e[2].replace(/_/g,"."),n.iphone=!0),f&&(n.osVersion=f[2].replace(/_/g,"."),n.ipad=!0),r&&(n.osVersion=r[3]?r[3].replace(/_/g,"."):null,n.iphone=!0),n.ios&&n.osVersion&&t.indexOf("Version/")>=0&&n.osVersion.split(".")[0]==="10"&&(n.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),n.desktop=!(n.os||n.android||n.webView),n.webView=(e||f||r)&&t.match(/.*AppleWebKit(?!.*Safari)/i),n.os&&n.os==="ios"&&(o=n.osVersion.split("."),h=u.querySelector('meta[name="viewport"]'),n.minimalUi=!n.webView&&(r||e)&&(o[0]*1==7?o[1]*1>=1:o[0]*1>7)&&h&&h.getAttribute("content").indexOf("minimal-ui")>=0),n.pixelRatio=i.devicePixelRatio||1,n}();wt={attachEvents:df,detachEvents:gf};bt={setBreakpoint:ne,getBreakpoint:te};a=function(){function n(){var n=i.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isIE:!!i.navigator.userAgent.match(/Trident/g)||!!i.navigator.userAgent.match(/MSIE/g),isEdge:!!i.navigator.userAgent.match(/Edge/g),isSafari:n(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)}}();kt={addClasses:ie,removeClasses:re};dt={loadImage:ue,preloadImages:fe};var oe={checkOverflow:ee},gt={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:undefined,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},tt={update:st,translate:ht,transition:ct,slide:lt,loop:at,grabCursor:vt,manipulation:yt,events:wt,breakpoints:bt,checkOverflow:oe,classes:kt,images:dt},it={},o=function(i){function u(){for(var l,h=[],a=arguments.length,o,e,f,v,s,y,c;a--;)h[a]=arguments[a];return(h.length===1&&h[0].constructor&&h[0].constructor===Object?e=h[0]:(l=h,o=l[0],e=l[1]),e||(e={}),e=n.extend({},e),o&&!e.el&&(e.el=o),i.call(this,e),Object.keys(tt).forEach(function(n){Object.keys(tt[n]).forEach(function(t){u.prototype[t]||(u.prototype[t]=tt[n][t])})}),f=this,typeof f.modules=="undefined"&&(f.modules={}),Object.keys(f.modules).forEach(function(n){var r=f.modules[n],t,i;if(r.params){if(t=Object.keys(r.params)[0],i=r.params[t],typeof i!="object"||i===null)return;if(!(t in e&&"enabled"in i))return;e[t]===!0&&(e[t]={enabled:!0});typeof e[t]!="object"||"enabled"in e[t]||(e[t].enabled=!0);e[t]||(e[t]={enabled:!1})}}),v=n.extend({},gt),f.useModulesParams(v),f.params=n.extend({},v,it,e),f.originalParams=n.extend({},f.params),f.passedParams=n.extend({},e),f.$=t,s=t(f.params.el),o=s[0],!o)?undefined:s.length>1?(y=[],s.each(function(t,i){var r=n.extend({},e,{el:i});y.push(new u(r))}),y):(o.swiper=f,s.data("swiper",f),c=s.children("."+f.params.wrapperClass),n.extend(f,{$el:s,el:o,$wrapperEl:c,wrapperEl:c[0],classNames:[],slides:t(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return f.params.direction==="horizontal"},isVertical:function(){return f.params.direction==="vertical"},rtl:o.dir.toLowerCase()==="rtl"||s.css("direction")==="rtl",rtlTranslate:f.params.direction==="horizontal"&&(o.dir.toLowerCase()==="rtl"||s.css("direction")==="rtl"),wrongRTL:c.css("display")==="-webkit-box",activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEvents:function(){var t=["touchstart","touchmove","touchend"],n=["mousedown","mousemove","mouseup"];return r.pointerEvents?n=["pointerdown","pointermove","pointerup"]:r.prefixedPointerEvents&&(n=["MSPointerDown","MSPointerMove","MSPointerUp"]),f.touchEventsTouch={start:t[0],move:t[1],end:t[2]},f.touchEventsDesktop={start:n[0],move:n[1],end:n[2]},r.touch||!f.params.simulateTouch?f.touchEventsTouch:f.touchEventsDesktop}(),touchEventsData:{isTouched:undefined,isMoved:undefined,allowTouchCallbacks:undefined,touchStartTime:undefined,isScrolling:undefined,currentTranslate:undefined,startTranslate:undefined,allowThresholdMove:undefined,formElements:"input, select, option, textarea, button, video",lastClickTime:n.now(),clickTimeout:undefined,velocities:[],allowMomentumBounce:undefined,isTouchEvent:undefined,startMoving:undefined},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.useModules(),f.params.init&&f.init(),f)}i&&(u.__proto__=i);u.prototype=Object.create(i&&i.prototype);u.prototype.constructor=u;var f={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return u.prototype.slidesPerViewDynamic=function(){var t=this,l=t.params,n=t.slides,c=t.slidesGrid,h=t.size,i=t.activeIndex,e=1,r,o,u,f,s;if(l.centeredSlides){for(r=n[i].swiperSlideSize,u=i+1;u<n.length;u+=1)n[u]&&!o&&(r+=n[u].swiperSlideSize,e+=1,r>h&&(o=!0));for(f=i-1;f>=0;f-=1)n[f]&&!o&&(r+=n[f].swiperSlideSize,e+=1,r>h&&(o=!0))}else for(s=i+1;s<n.length;s+=1)c[s]-c[i]<h&&(e+=1);return e},u.prototype.update=function(){function r(){var t=n.rtlTranslate?n.translate*-1:n.translate,i=Math.min(Math.max(t,n.maxTranslate()),n.minTranslate());n.setTranslate(i);n.updateActiveIndex();n.updateSlidesClasses()}var n=this,i,t,u;n&&!n.destroyed&&(i=n.snapGrid,t=n.params,t.breakpoints&&n.setBreakpoint(),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.params.freeMode?(r(),n.params.autoHeight&&n.updateAutoHeight()):(u=(n.params.slidesPerView==="auto"||n.params.slidesPerView>1)&&n.isEnd&&!n.params.centeredSlides?n.slideTo(n.slides.length-1,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),u||r()),t.watchOverflow&&i!==n.snapGrid&&n.checkOverflow(),n.emit("update"))},u.prototype.init=function(){var n=this;n.initialized||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit),n.attachEvents(),n.initialized=!0,n.emit("init"))},u.prototype.destroy=function(t,i){t===void 0&&(t=!0);i===void 0&&(i=!0);var r=this,u=r.params,e=r.$el,o=r.$wrapperEl,f=r.slides;return typeof r.params=="undefined"||r.destroyed?null:(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),u.loop&&r.loopDestroy(),i&&(r.removeClasses(),e.removeAttr("style"),o.removeAttr("style"),f&&f.length&&f.removeClass([u.slideVisibleClass,u.slideActiveClass,u.slideNextClass,u.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(function(n){r.off(n)}),t!==!1&&(r.$el[0].swiper=null,r.$el.data("swiper",null),n.deleteProps(r)),r.destroyed=!0,null)},u.extendDefaults=function(t){n.extend(it,t)},f.extendedDefaults.get=function(){return it},f.defaults.get=function(){return gt},f.Class.get=function(){return i},f.$.get=function(){return t},Object.defineProperties(u,f),u}(h),se={name:"device",proto:{device:e},"static":{device:e}},he={name:"support",proto:{support:r},"static":{support:r}},ce={name:"browser",proto:{browser:a},"static":{browser:a}},le={name:"resize",create:function(){var t=this;n.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){var n=this;i.addEventListener("resize",n.resize.resizeHandler);i.addEventListener("orientationchange",n.resize.orientationChangeHandler)},destroy:function(){var n=this;i.removeEventListener("resize",n.resize.resizeHandler);i.removeEventListener("orientationchange",n.resize.orientationChangeHandler)}}},p={func:i.MutationObserver||i.WebkitMutationObserver,attach:function(n,t){t===void 0&&(t={});var r=this,f=p.func,u=new f(function(n){if(n.length===1){r.emit("observerUpdate",n[0]);return}var t=function(){r.emit("observerUpdate",n[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)});u.observe(n,{attributes:typeof t.attributes=="undefined"?!0:t.attributes,childList:typeof t.childList=="undefined"?!0:t.childList,characterData:typeof t.characterData=="undefined"?!0:t.characterData});r.observer.observers.push(u)},init:function(){var n=this,i,t;if(r.observer&&n.params.observer){if(n.params.observeParents)for(i=n.$el.parents(),t=0;t<i.length;t+=1)n.observer.attach(i[t]);n.observer.attach(n.$el[0],{childList:n.params.observeSlideChildren});n.observer.attach(n.$wrapperEl[0],{attributes:!1})}},destroy:function(){var n=this;n.observer.observers.forEach(function(n){n.disconnect()});n.observer.observers=[]}},ae={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){var t=this;n.extend(t,{observer:{init:p.init.bind(t),attach:p.attach.bind(t),destroy:p.destroy.bind(t),observers:[]}})},on:{init:function(){var n=this;n.observer.init()},destroy:function(){var n=this;n.observer.destroy()}}},w={update:function(t){function ut(){i.updateSlides();i.updateProgress();i.updateSlidesClasses();i.lazy&&i.params.lazy.enabled&&i.lazy.load()}var i=this,v=i.params,y=v.slidesPerView,c=v.slidesPerGroup,ft=v.centeredSlides,nt=i.params.virtual,tt=nt.addSlidesBefore,it=nt.addSlidesAfter,f=i.virtual,p=f.from,l=f.to,s=f.slides,et=f.slidesGrid,rt=f.renderSlide,ot=f.offset,w,b,k,d,g,a,o,r;i.updateActiveIndex();w=i.activeIndex||0;b=i.rtlTranslate?"right":i.isHorizontal()?"left":"top";ft?(k=Math.floor(y/2)+c+tt,d=Math.floor(y/2)+c+it):(k=y+(c-1)+tt,d=c+it);var u=Math.max((w||0)-d,0),e=Math.min((w||0)+k,s.length-1),h=(i.slidesGrid[u]||0)-(i.slidesGrid[0]||0);if(n.extend(i.virtual,{from:u,to:e,offset:h,slidesGrid:i.slidesGrid}),p===u&&l===e&&!t){i.slidesGrid!==et&&h!==ot&&i.slides.css(b,h+"px");i.updateProgress();return}if(i.params.virtual.renderExternal){i.params.virtual.renderExternal.call(i,{offset:h,from:u,to:e,slides:function(){for(var t=[],n=u;n<=e;n+=1)t.push(s[n]);return t}()});ut();return}if(g=[],a=[],t)i.$wrapperEl.find("."+i.params.slideClass).remove();else for(o=p;o<=l;o+=1)(o<u||o>e)&&i.$wrapperEl.find("."+i.params.slideClass+'[data-swiper-slide-index="'+o+'"]').remove();for(r=0;r<s.length;r+=1)r>=u&&r<=e&&(typeof l=="undefined"||t?a.push(r):(r>l&&a.push(r),r<p&&g.push(r)));a.forEach(function(n){i.$wrapperEl.append(rt(s[n],n))});g.sort(function(n,t){return t-n}).forEach(function(n){i.$wrapperEl.prepend(rt(s[n],n))});i.$wrapperEl.children(".swiper-slide").css(b,h+"px");ut()},renderSlide:function(n,i){var r=this,f=r.params.virtual,u;return f.cache&&r.virtual.cache[i]?r.virtual.cache[i]:(u=f.renderSlide?t(f.renderSlide.call(r,n,i)):t('<div class="'+r.params.slideClass+'" data-swiper-slide-index="'+i+'">'+n+"<\/div>"),u.attr("data-swiper-slide-index")||u.attr("data-swiper-slide-index",i),f.cache&&(r.virtual.cache[i]=u),u)},appendSlide:function(n){var t=this;t.virtual.slides.push(n);t.virtual.update(!0)},prependSlide:function(n){var t=this,i,r;t.virtual.slides.unshift(n);t.params.virtual.cache&&(i=t.virtual.cache,r={},Object.keys(i).forEach(function(n){r[n+1]=i[n]}),t.virtual.cache=r);t.virtual.update(!0);t.slideNext(0)}},ve={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){var t=this;n.extend(t,{virtual:{update:w.update.bind(t),appendSlide:w.appendSlide.bind(t),prependSlide:w.prependSlide.bind(t),renderSlide:w.renderSlide.bind(t),slides:t.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){var t=this,i;t.params.virtual.enabled&&(t.classNames.push(t.params.containerModifierClass+"virtual"),i={watchSlidesProgress:!0},n.extend(t.params,i),n.extend(t.originalParams,i),t.params.initialSlide||t.virtual.update())},setTranslate:function(){var n=this;n.params.virtual.enabled&&n.virtual.update()}}},rt={handle:function(n){var t=this,o=t.rtlTranslate,f=n,r,c,l,h,s;if((f.originalEvent&&(f=f.originalEvent),r=f.keyCode||f.charCode,!t.allowSlideNext&&(t.isHorizontal()&&r===39||t.isVertical()&&r===40))||!t.allowSlidePrev&&(t.isHorizontal()&&r===37||t.isVertical()&&r===38))return!1;if(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey||u.activeElement&&u.activeElement.nodeName&&(u.activeElement.nodeName.toLowerCase()==="input"||u.activeElement.nodeName.toLowerCase()==="textarea"))return undefined;if(t.params.keyboard.onlyInViewport&&(r===37||r===39||r===38||r===40)){if(c=!1,t.$el.parents("."+t.params.slideClass).length>0&&t.$el.parents("."+t.params.slideActiveClass).length===0)return undefined;var a=i.innerWidth,v=i.innerHeight,e=t.$el.offset();for(o&&(e.left-=t.$el[0].scrollLeft),l=[[e.left,e.top],[e.left+t.width,e.top],[e.left,e.top+t.height],[e.left+t.width,e.top+t.height]],h=0;h<l.length;h+=1)s=l[h],s[0]>=0&&s[0]<=a&&s[1]>=0&&s[1]<=v&&(c=!0);if(!c)return undefined}return t.isHorizontal()?((r===37||r===39)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(r===39&&!o||r===37&&o)&&t.slideNext(),(r===37&&!o||r===39&&o)&&t.slidePrev()):((r===38||r===40)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),r===40&&t.slideNext(),r===38&&t.slidePrev()),t.emit("keyPress",r),undefined},enable:function(){var n=this;if(!n.keyboard.enabled){t(u).on("keydown",n.keyboard.handle);n.keyboard.enabled=!0}},disable:function(){var n=this;n.keyboard.enabled&&(t(u).off("keydown",n.keyboard.handle),n.keyboard.enabled=!1)}},ye={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){var t=this;n.extend(t,{keyboard:{enabled:!1,enable:rt.enable.bind(t),disable:rt.disable.bind(t),handle:rt.handle.bind(t)}})},on:{init:function(){var n=this;n.params.keyboard.enabled&&n.keyboard.enable()},destroy:function(){var n=this;n.keyboard.enabled&&n.keyboard.disable()}}};var c={lastScrollTime:n.now(),event:function(){return i.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":pe()?"wheel":"mousewheel"}(),normalize:function(n){var f=10,e=40,o=800,u=0,t=0,i=0,r=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(u=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(u=t,t=0),i=u*f,r=t*f,"deltaY"in n&&(r=n.deltaY),"deltaX"in n&&(i=n.deltaX),(i||r)&&n.deltaMode&&(n.deltaMode===1?(i*=e,r*=e):(i*=o,r*=o)),i&&!u&&(u=i<1?-1:1),r&&!t&&(t=r<1?-1:1),{spinX:u,spinY:t,pixelX:i,pixelY:r}},handleMouseEnter:function(){var n=this;n.mouseEntered=!0},handleMouseLeave:function(){var n=this;n.mouseEntered=!1},handle:function(t){var u=t,r=this,s=r.params.mousewheel;if(!r.mouseEntered&&!s.releaseOnEdges)return!0;u.originalEvent&&(u=u.originalEvent);var e=0,h=r.rtlTranslate?-1:1,f=c.normalize(u);if(s.forceToAxis)if(r.isHorizontal())if(Math.abs(f.pixelX)>Math.abs(f.pixelY))e=f.pixelX*h;else return!0;else if(Math.abs(f.pixelY)>Math.abs(f.pixelX))e=f.pixelY;else return!0;else e=Math.abs(f.pixelX)>Math.abs(f.pixelY)?-f.pixelX*h:-f.pixelY;if(e===0)return!0;if(s.invert&&(e=-e),r.params.freeMode){r.params.loop&&r.loopFix();var o=r.getTranslate()+e*s.sensitivity,l=r.isBeginning,a=r.isEnd;if(o>=r.minTranslate()&&(o=r.minTranslate()),o<=r.maxTranslate()&&(o=r.maxTranslate()),r.setTransition(0),r.setTranslate(o),r.updateProgress(),r.updateActiveIndex(),r.updateSlidesClasses(),(!l&&r.isBeginning||!a&&r.isEnd)&&r.updateSlidesClasses(),r.params.freeModeSticky&&(clearTimeout(r.mousewheel.timeout),r.mousewheel.timeout=n.nextTick(function(){r.slideToClosest()},300)),r.emit("scroll",u),r.params.autoplay&&r.params.autoplayDisableOnInteraction&&r.autoplay.stop(),o===r.minTranslate()||o===r.maxTranslate())return!0}else{if(n.now()-r.mousewheel.lastScrollTime>60)if(e<0)if(r.isEnd&&!r.params.loop||r.animating){if(s.releaseOnEdges)return!0}else r.slideNext(),r.emit("scroll",u);else if(r.isBeginning&&!r.params.loop||r.animating){if(s.releaseOnEdges)return!0}else r.slidePrev(),r.emit("scroll",u);r.mousewheel.lastScrollTime=(new i.Date).getTime()}return u.preventDefault?u.preventDefault():u.returnValue=!1,!1},enable:function(){var n=this,i;if(!c.event||n.mousewheel.enabled)return!1;i=n.$el;n.params.mousewheel.eventsTarged!=="container"&&(i=t(n.params.mousewheel.eventsTarged));i.on("mouseenter",n.mousewheel.handleMouseEnter);i.on("mouseleave",n.mousewheel.handleMouseLeave);i.on(c.event,n.mousewheel.handle);return n.mousewheel.enabled=!0,!0},disable:function(){var n=this,i;return c.event?n.mousewheel.enabled?(i=n.$el,n.params.mousewheel.eventsTarged!=="container"&&(i=t(n.params.mousewheel.eventsTarged)),i.off(c.event,n.mousewheel.handle),n.mousewheel.enabled=!1,!0):!1:!1}},we={name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){var t=this;n.extend(t,{mousewheel:{enabled:!1,enable:c.enable.bind(t),disable:c.disable.bind(t),handle:c.handle.bind(t),handleMouseEnter:c.handleMouseEnter.bind(t),handleMouseLeave:c.handleMouseLeave.bind(t),lastScrollTime:n.now()}})},on:{init:function(){var n=this;n.params.mousewheel.enabled&&n.mousewheel.enable()},destroy:function(){var n=this;n.mousewheel.enabled&&n.mousewheel.disable()}}},v={update:function(){var n=this,t=n.params.navigation;if(!n.params.loop){var u=n.navigation,i=u.$nextEl,r=u.$prevEl;r&&r.length>0&&(n.isBeginning?r.addClass(t.disabledClass):r.removeClass(t.disabledClass),r[n.params.watchOverflow&&n.isLocked?"addClass":"removeClass"](t.lockClass));i&&i.length>0&&(n.isEnd?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[n.params.watchOverflow&&n.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(n){var t=this;(n.preventDefault(),!t.isBeginning||t.params.loop)&&t.slidePrev()},onNextClick:function(n){var t=this;(n.preventDefault(),!t.isEnd||t.params.loop)&&t.slideNext()},init:function(){var r=this,i=r.params.navigation,u,f;if(i.nextEl||i.prevEl){if(i.nextEl&&(u=t(i.nextEl),r.params.uniqueNavElements&&typeof i.nextEl=="string"&&u.length>1&&r.$el.find(i.nextEl).length===1&&(u=r.$el.find(i.nextEl))),i.prevEl&&(f=t(i.prevEl),r.params.uniqueNavElements&&typeof i.prevEl=="string"&&f.length>1&&r.$el.find(i.prevEl).length===1&&(f=r.$el.find(i.prevEl))),u&&u.length>0)u.on("click",r.navigation.onNextClick);if(f&&f.length>0)f.on("click",r.navigation.onPrevClick);n.extend(r.navigation,{$nextEl:u,nextEl:u&&u[0],$prevEl:f,prevEl:f&&f[0]})}},destroy:function(){var n=this,r=n.navigation,t=r.$nextEl,i=r.$prevEl;t&&t.length&&(t.off("click",n.navigation.onNextClick),t.removeClass(n.params.navigation.disabledClass));i&&i.length&&(i.off("click",n.navigation.onPrevClick),i.removeClass(n.params.navigation.disabledClass))}},be={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){var t=this;n.extend(t,{navigation:{init:v.init.bind(t),update:v.update.bind(t),destroy:v.destroy.bind(t),onNextClick:v.onNextClick.bind(t),onPrevClick:v.onPrevClick.bind(t)}})},on:{init:function(){var n=this;n.navigation.init();n.navigation.update()},toEdge:function(){var n=this;n.navigation.update()},fromEdge:function(){var n=this;n.navigation.update()},destroy:function(){var n=this;n.navigation.destroy()},click:function(n){var i=this,f=i.navigation,r=f.$nextEl,u=f.$prevEl;!i.params.navigation.hideOnClick||t(n.target).is(u)||t(n.target).is(r)||(r&&r.toggleClass(i.params.navigation.hiddenClass),u&&u.toggleClass(i.params.navigation.hiddenClass))}}},b={update:function(){var n=this,d=n.rtl,i=n.params.pagination,u,e,s,l,a,v,y,h,p;if(i.el&&n.pagination.el&&n.pagination.$el&&n.pagination.$el.length!==0){var c=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,f=n.pagination.$el,r,o=n.params.loop?Math.ceil((c-n.loopedSlides*2)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(r=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup),r>c-1-n.loopedSlides*2&&(r-=c-n.loopedSlides*2),r>o-1&&(r-=o),r<0&&n.params.paginationType!=="bullets"&&(r=o+r)):r=typeof n.snapIndex!="undefined"?n.snapIndex:n.activeIndex||0,i.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){if(u=n.pagination.bullets,i.dynamicBullets&&(n.pagination.bulletSize=u.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),f.css(n.isHorizontal()?"width":"height",n.pagination.bulletSize*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&n.previousIndex!==undefined&&(n.pagination.dynamicBulletIndex+=r-n.previousIndex,n.pagination.dynamicBulletIndex>i.dynamicMainBullets-1?n.pagination.dynamicBulletIndex=i.dynamicMainBullets-1:n.pagination.dynamicBulletIndex<0&&(n.pagination.dynamicBulletIndex=0)),e=r-n.pagination.dynamicBulletIndex,s=e+(Math.min(u.length,i.dynamicMainBullets)-1),l=(s+e)/2),u.removeClass(i.bulletActiveClass+" "+i.bulletActiveClass+"-next "+i.bulletActiveClass+"-next-next "+i.bulletActiveClass+"-prev "+i.bulletActiveClass+"-prev-prev "+i.bulletActiveClass+"-main"),f.length>1)u.each(function(n,u){var f=t(u),o=f.index();o===r&&f.addClass(i.bulletActiveClass);i.dynamicBullets&&(o>=e&&o<=s&&f.addClass(i.bulletActiveClass+"-main"),o===e&&f.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),o===s&&f.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next"))});else if(a=u.eq(r),a.addClass(i.bulletActiveClass),i.dynamicBullets){for(v=u.eq(e),y=u.eq(s),h=e;h<=s;h+=1)u.eq(h).addClass(i.bulletActiveClass+"-main");v.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev");y.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next")}if(i.dynamicBullets){var g=Math.min(u.length,i.dynamicMainBullets+4),nt=(n.pagination.bulletSize*g-n.pagination.bulletSize)/2-l*n.pagination.bulletSize,tt=d?"right":"left";u.css(n.isHorizontal()?tt:"top",nt+"px")}}if(i.type==="fraction"&&(f.find("."+i.currentClass).text(i.formatFractionCurrent(r+1)),f.find("."+i.totalClass).text(i.formatFractionTotal(o))),i.type==="progressbar"){p=i.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var w=(r+1)/o,b=1,k=1;p==="horizontal"?b=w:k=w;f.find("."+i.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+b+") scaleY("+k+")").transition(n.params.speed)}i.type==="custom"&&i.renderCustom?(f.html(i.renderCustom(n,r+1,o)),n.emit("paginationRender",n,f[0])):n.emit("paginationUpdate",n,f[0]);f[n.params.watchOverflow&&n.isLocked?"addClass":"removeClass"](i.lockClass)}},render:function(){var t=this,n=t.params.pagination,f,u;if(n.el&&t.pagination.el&&t.pagination.$el&&t.pagination.$el.length!==0){var e=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el,i="";if(n.type==="bullets"){for(f=t.params.loop?Math.ceil((e-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length,u=0;u<f;u+=1)i+=n.renderBullet?n.renderBullet.call(t,u,n.bulletClass):"<"+n.bulletElement+' class="'+n.bulletClass+'"><\/'+n.bulletElement+">";r.html(i);t.pagination.bullets=r.find("."+n.bulletClass)}n.type==="fraction"&&(i=n.renderFraction?n.renderFraction.call(t,n.currentClass,n.totalClass):'<span class="'+n.currentClass+'"><\/span> / <span class="'+n.totalClass+'"><\/span>',r.html(i));n.type==="progressbar"&&(i=n.renderProgressbar?n.renderProgressbar.call(t,n.progressbarFillClass):'<span class="'+n.progressbarFillClass+'"><\/span>',r.html(i));n.type!=="custom"&&t.emit("paginationRender",t.pagination.$el[0])}},init:function(){var u=this,i=u.params.pagination,r;if(i.el&&(r=t(i.el),r.length!==0)){if(u.params.uniqueNavElements&&typeof i.el=="string"&&r.length>1&&u.$el.find(i.el).length===1&&(r=u.$el.find(i.el)),i.type==="bullets"&&i.clickable&&r.addClass(i.clickableClass),r.addClass(i.modifierClass+i.type),i.type==="bullets"&&i.dynamicBullets&&(r.addClass(""+i.modifierClass+i.type+"-dynamic"),u.pagination.dynamicBulletIndex=0,i.dynamicMainBullets<1&&(i.dynamicMainBullets=1)),i.type==="progressbar"&&i.progressbarOpposite&&r.addClass(i.progressbarOppositeClass),i.clickable)r.on("click","."+i.bulletClass,function(n){n.preventDefault();var i=t(this).index()*u.params.slidesPerGroup;u.params.loop&&(i+=u.loopedSlides);u.slideTo(i)});n.extend(u.pagination,{$el:r,el:r[0]})}},destroy:function(){var n=this,t=n.params.pagination,i;t.el&&n.pagination.el&&n.pagination.$el&&n.pagination.$el.length!==0&&(i=n.pagination.$el,i.removeClass(t.hiddenClass),i.removeClass(t.modifierClass+t.type),n.pagination.bullets&&n.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&i.off("click","."+t.bulletClass))}},ke={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(n){return n},formatFractionTotal:function(n){return n},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){var t=this;n.extend(t,{pagination:{init:b.init.bind(t),render:b.render.bind(t),update:b.update.bind(t),destroy:b.destroy.bind(t),dynamicBulletIndex:0}})},on:{init:function(){var n=this;n.pagination.init();n.pagination.render();n.pagination.update()},activeIndexChange:function(){var n=this;n.params.loop?n.pagination.update():typeof n.snapIndex=="undefined"&&n.pagination.update()},snapIndexChange:function(){var n=this;n.params.loop||n.pagination.update()},slidesLengthChange:function(){var n=this;n.params.loop&&(n.pagination.render(),n.pagination.update())},snapGridLengthChange:function(){var n=this;n.params.loop||(n.pagination.render(),n.pagination.update())},destroy:function(){var n=this;n.pagination.destroy()},click:function(n){var i=this;i.params.pagination.el&&i.params.pagination.hideOnClick&&i.pagination.$el.length>0&&!t(n.target).hasClass(i.params.pagination.bulletClass)&&i.pagination.$el.toggleClass(i.params.pagination.hiddenClass)}}},s={setTranslate:function(){var t=this;if(t.params.scrollbar.el&&t.scrollbar.el){var o=t.scrollbar,h=t.rtlTranslate,c=t.progress,i=o.dragSize,e=o.trackSize,u=o.$dragEl,s=o.$el,l=t.params.scrollbar,f=i,n=(e-i)*c;h?(n=-n,n>0?(f=i-n,n=0):-n+i>e&&(f=e+n)):n<0?(f=i+n,n=0):n+i>e&&(f=e-n);t.isHorizontal()?(r.transforms3d?u.transform("translate3d("+n+"px, 0, 0)"):u.transform("translateX("+n+"px)"),u[0].style.width=f+"px"):(r.transforms3d?u.transform("translate3d(0px, "+n+"px, 0)"):u.transform("translateY("+n+"px)"),u[0].style.height=f+"px");l.hide&&(clearTimeout(t.scrollbar.timeout),s[0].style.opacity=1,t.scrollbar.timeout=setTimeout(function(){s[0].style.opacity=0;s.transition(400)},1e3))}},setTransition:function(n){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(n)},updateSize:function(){var t=this;if(t.params.scrollbar.el&&t.scrollbar.el){var i=t.scrollbar,r=i.$dragEl,u=i.$el;r[0].style.width="";r[0].style.height="";var o=t.isHorizontal()?u[0].offsetWidth:u[0].offsetHeight,f=t.size/t.virtualSize,s=f*(o/t.size),e;e=t.params.scrollbar.dragSize==="auto"?o*f:parseInt(t.params.scrollbar.dragSize,10);t.isHorizontal()?r[0].style.width=e+"px":r[0].style.height=e+"px";u[0].style.display=f>=1?"none":"";t.params.scrollbarHide&&(u[0].style.opacity=0);n.extend(i,{trackSize:o,divider:f,moveDivider:s,dragSize:e});i.$el[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}},setDragPosition:function(n){var t=this,r=t.scrollbar,o=t.rtlTranslate,s=r.$el,f=r.dragSize,h=r.trackSize,e,i,u;e=t.isHorizontal()?n.type==="touchstart"||n.type==="touchmove"?n.targetTouches[0].pageX:n.pageX||n.clientX:n.type==="touchstart"||n.type==="touchmove"?n.targetTouches[0].pageY:n.pageY||n.clientY;i=(e-s.offset()[t.isHorizontal()?"left":"top"]-f/2)/(h-f);i=Math.max(Math.min(i,1),0);o&&(i=1-i);u=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*i;t.updateProgress(u);t.setTranslate(u);t.updateActiveIndex();t.updateSlidesClasses()},onDragStart:function(n){var t=this,u=t.params.scrollbar,i=t.scrollbar,f=t.$wrapperEl,r=i.$el,e=i.$dragEl;t.scrollbar.isTouched=!0;n.preventDefault();n.stopPropagation();f.transition(100);e.transition(100);i.setDragPosition(n);clearTimeout(t.scrollbar.dragTimeout);r.transition(0);u.hide&&r.css("opacity",1);t.emit("scrollbarDragStart",n)},onDragMove:function(n){var t=this,i=t.scrollbar,r=t.$wrapperEl,u=i.$el,f=i.$dragEl;t.scrollbar.isTouched&&(n.preventDefault?n.preventDefault():n.returnValue=!1,i.setDragPosition(n),r.transition(0),u.transition(0),f.transition(0),t.emit("scrollbarDragMove",n))},onDragEnd:function(t){var i=this,r=i.params.scrollbar,f=i.scrollbar,u=f.$el;i.scrollbar.isTouched&&(i.scrollbar.isTouched=!1,r.hide&&(clearTimeout(i.scrollbar.dragTimeout),i.scrollbar.dragTimeout=n.nextTick(function(){u.css("opacity",0);u.transition(400)},1e3)),i.emit("scrollbarDragEnd",t),r.snapOnRelease&&i.slideToClosest())},enableDraggable:function(){var n=this;if(n.params.scrollbar.el){var h=n.scrollbar,f=n.touchEventsTouch,e=n.touchEventsDesktop,o=n.params,c=h.$el,t=c[0],i=r.passiveListener&&o.passiveListeners?{passive:!1,capture:!1}:!1,s=r.passiveListener&&o.passiveListeners?{passive:!0,capture:!1}:!1;r.touch?(t.addEventListener(f.start,n.scrollbar.onDragStart,i),t.addEventListener(f.move,n.scrollbar.onDragMove,i),t.addEventListener(f.end,n.scrollbar.onDragEnd,s)):(t.addEventListener(e.start,n.scrollbar.onDragStart,i),u.addEventListener(e.move,n.scrollbar.onDragMove,i),u.addEventListener(e.end,n.scrollbar.onDragEnd,s))}},disableDraggable:function(){var n=this;if(n.params.scrollbar.el){var h=n.scrollbar,f=n.touchEventsTouch,e=n.touchEventsDesktop,o=n.params,c=h.$el,t=c[0],i=r.passiveListener&&o.passiveListeners?{passive:!1,capture:!1}:!1,s=r.passiveListener&&o.passiveListeners?{passive:!0,capture:!1}:!1;r.touch?(t.removeEventListener(f.start,n.scrollbar.onDragStart,i),t.removeEventListener(f.move,n.scrollbar.onDragMove,i),t.removeEventListener(f.end,n.scrollbar.onDragEnd,s)):(t.removeEventListener(e.start,n.scrollbar.onDragStart,i),u.removeEventListener(e.move,n.scrollbar.onDragMove,i),u.removeEventListener(e.end,n.scrollbar.onDragEnd,s))}},init:function(){var i=this,u;if(i.params.scrollbar.el){var e=i.scrollbar,o=i.$el,f=i.params.scrollbar,r=t(f.el);i.params.uniqueNavElements&&typeof f.el=="string"&&r.length>1&&o.find(f.el).length===1&&(r=o.find(f.el));u=r.find("."+i.params.scrollbar.dragClass);u.length===0&&(u=t('<div class="'+i.params.scrollbar.dragClass+'"><\/div>'),r.append(u));n.extend(e,{$el:r,el:r[0],$dragEl:u,dragEl:u[0]});f.draggable&&e.enableDraggable()}},destroy:function(){var n=this;n.scrollbar.disableDraggable()}},de={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var t=this;n.extend(t,{scrollbar:{init:s.init.bind(t),destroy:s.destroy.bind(t),updateSize:s.updateSize.bind(t),setTranslate:s.setTranslate.bind(t),setTransition:s.setTransition.bind(t),enableDraggable:s.enableDraggable.bind(t),disableDraggable:s.disableDraggable.bind(t),setDragPosition:s.setDragPosition.bind(t),onDragStart:s.onDragStart.bind(t),onDragMove:s.onDragMove.bind(t),onDragEnd:s.onDragEnd.bind(t),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){var n=this;n.scrollbar.init();n.scrollbar.updateSize();n.scrollbar.setTranslate()},update:function(){var n=this;n.scrollbar.updateSize()},resize:function(){var n=this;n.scrollbar.updateSize()},observerUpdate:function(){var n=this;n.scrollbar.updateSize()},setTranslate:function(){var n=this;n.scrollbar.setTranslate()},setTransition:function(n){var t=this;t.scrollbar.setTransition(n)},destroy:function(){var n=this;n.scrollbar.destroy()}}},ut={setTransform:function(n,i){var s=this,v=s.rtl,f=t(n),h=v?-1:1,c=f.attr("data-swiper-parallax")||"0",r=f.attr("data-swiper-parallax-x"),u=f.attr("data-swiper-parallax-y"),e=f.attr("data-swiper-parallax-scale"),o=f.attr("data-swiper-parallax-opacity"),l,a;r||u?(r=r||"0",u=u||"0"):s.isHorizontal()?(r=c,u="0"):(u=c,r="0");r=r.indexOf("%")>=0?parseInt(r,10)*i*h+"%":r*i*h+"px";u=u.indexOf("%")>=0?parseInt(u,10)*i+"%":u*i+"px";typeof o!="undefined"&&o!==null&&(l=o-(o-1)*(1-Math.abs(i)),f[0].style.opacity=l);typeof e=="undefined"||e===null?f.transform("translate3d("+r+", "+u+", 0px)"):(a=e-(e-1)*(1-Math.abs(i)),f.transform("translate3d("+r+", "+u+", 0px) scale("+a+")"))},setTranslate:function(){var n=this,r=n.$el,u=n.slides,i=n.progress,f=n.snapGrid;r.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,r){n.parallax.setTransform(r,i)});u.each(function(r,u){var e=u.progress;n.params.slidesPerGroup>1&&n.params.slidesPerView!=="auto"&&(e+=Math.ceil(r/2)-i*(f.length-1));e=Math.min(Math.max(e,-1),1);t(u).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,i){n.parallax.setTransform(i,e)})})},setTransition:function(n){n===void 0&&(n=this.params.speed);var i=this,r=i.$el;r.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(i,r){var u=t(r),f=parseInt(u.attr("data-swiper-parallax-duration"),10)||n;n===0&&(f=0);u.transition(f)})}},ge={name:"parallax",params:{parallax:{enabled:!1}},create:function(){var t=this;n.extend(t,{parallax:{setTransform:ut.setTransform.bind(t),setTranslate:ut.setTranslate.bind(t),setTransition:ut.setTransition.bind(t)}})},on:{beforeInit:function(){var n=this;n.params.parallax.enabled&&(n.params.watchSlidesProgress=!0,n.originalParams.watchSlidesProgress=!0)},init:function(){var n=this;n.params.parallax&&n.parallax.setTranslate()},setTranslate:function(){var n=this;n.params.parallax&&n.parallax.setTranslate()},setTransition:function(n){var t=this;t.params.parallax&&t.parallax.setTransition(n)}}},ft={getDistanceBetweenTouches:function(n){if(n.targetTouches.length<2)return 1;var t=n.targetTouches[0].pageX,i=n.targetTouches[0].pageY,r=n.targetTouches[1].pageX,u=n.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(u-i,2))},onGestureStart:function(n){var u=this,e=u.params.zoom,f=u.zoom,i=f.gesture;if(f.fakeGestureTouched=!1,f.fakeGestureMoved=!1,!r.gestures){if(n.type!=="touchstart"||n.type==="touchstart"&&n.targetTouches.length<2)return;f.fakeGestureTouched=!0;i.scaleStart=ft.getDistanceBetweenTouches(n)}if((!i.$slideEl||!i.$slideEl.length)&&(i.$slideEl=t(n.target).closest(".swiper-slide"),i.$slideEl.length===0&&(i.$slideEl=u.slides.eq(u.activeIndex)),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+e.containerClass),i.maxRatio=i.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,i.$imageWrapEl.length===0)){i.$imageEl=undefined;return}i.$imageEl.transition(0);u.zoom.isScaling=!0},onGestureChange:function(n){var f=this,u=f.params.zoom,t=f.zoom,i=t.gesture;if(!r.gestures){if(n.type!=="touchmove"||n.type==="touchmove"&&n.targetTouches.length<2)return;t.fakeGestureMoved=!0;i.scaleMove=ft.getDistanceBetweenTouches(n)}i.$imageEl&&i.$imageEl.length!==0&&(t.scale=r.gestures?n.scale*t.currentScale:i.scaleMove/i.scaleStart*t.currentScale,t.scale>i.maxRatio&&(t.scale=i.maxRatio-1+Math.pow(t.scale-i.maxRatio+1,.5)),t.scale<u.minRatio&&(t.scale=u.minRatio+1-Math.pow(u.minRatio-t.scale+1,.5)),i.$imageEl.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(n){var u=this,f=u.params.zoom,t=u.zoom,i=t.gesture;if(!r.gestures){if(!t.fakeGestureTouched||!t.fakeGestureMoved)return;if(n.type!=="touchend"||n.type==="touchend"&&n.changedTouches.length<2&&!e.android)return;t.fakeGestureTouched=!1;t.fakeGestureMoved=!1}i.$imageEl&&i.$imageEl.length!==0&&(t.scale=Math.max(Math.min(t.scale,i.maxRatio),f.minRatio),i.$imageEl.transition(u.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,t.scale===1&&(i.$slideEl=undefined))},onTouchStart:function(n){var u=this,i=u.zoom,r=i.gesture,t=i.image;r.$imageEl&&r.$imageEl.length!==0&&(t.isTouched||(e.android&&n.preventDefault(),t.isTouched=!0,t.touchesStart.x=n.type==="touchstart"?n.targetTouches[0].pageX:n.pageX,t.touchesStart.y=n.type==="touchstart"?n.targetTouches[0].pageY:n.pageY))},onTouchMove:function(t){var e=this,f=e.zoom,u=f.gesture,i=f.image,r=f.velocity,o,s;if(u.$imageEl&&u.$imageEl.length!==0&&(e.allowClick=!1,i.isTouched&&u.$slideEl)&&(i.isMoved||(i.width=u.$imageEl[0].offsetWidth,i.height=u.$imageEl[0].offsetHeight,i.startX=n.getTranslate(u.$imageWrapEl[0],"x")||0,i.startY=n.getTranslate(u.$imageWrapEl[0],"y")||0,u.slideWidth=u.$slideEl[0].offsetWidth,u.slideHeight=u.$slideEl[0].offsetHeight,u.$imageWrapEl.transition(0),e.rtl&&(i.startX=-i.startX,i.startY=-i.startY)),o=i.width*f.scale,s=i.height*f.scale,!(o<u.slideWidth)||!(s<u.slideHeight))){if(i.minX=Math.min(u.slideWidth/2-o/2,0),i.maxX=-i.minX,i.minY=Math.min(u.slideHeight/2-s/2,0),i.maxY=-i.minY,i.touchesCurrent.x=t.type==="touchmove"?t.targetTouches[0].pageX:t.pageX,i.touchesCurrent.y=t.type==="touchmove"?t.targetTouches[0].pageY:t.pageY,!i.isMoved&&!f.isScaling){if(e.isHorizontal()&&(Math.floor(i.minX)===Math.floor(i.startX)&&i.touchesCurrent.x<i.touchesStart.x||Math.floor(i.maxX)===Math.floor(i.startX)&&i.touchesCurrent.x>i.touchesStart.x)){i.isTouched=!1;return}if(!e.isHorizontal()&&(Math.floor(i.minY)===Math.floor(i.startY)&&i.touchesCurrent.y<i.touchesStart.y||Math.floor(i.maxY)===Math.floor(i.startY)&&i.touchesCurrent.y>i.touchesStart.y)){i.isTouched=!1;return}}t.preventDefault();t.stopPropagation();i.isMoved=!0;i.currentX=i.touchesCurrent.x-i.touchesStart.x+i.startX;i.currentY=i.touchesCurrent.y-i.touchesStart.y+i.startY;i.currentX<i.minX&&(i.currentX=i.minX+1-Math.pow(i.minX-i.currentX+1,.8));i.currentX>i.maxX&&(i.currentX=i.maxX-1+Math.pow(i.currentX-i.maxX+1,.8));i.currentY<i.minY&&(i.currentY=i.minY+1-Math.pow(i.minY-i.currentY+1,.8));i.currentY>i.maxY&&(i.currentY=i.maxY-1+Math.pow(i.currentY-i.maxY+1,.8));r.prevPositionX||(r.prevPositionX=i.touchesCurrent.x);r.prevPositionY||(r.prevPositionY=i.touchesCurrent.y);r.prevTime||(r.prevTime=Date.now());r.x=(i.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2;r.y=(i.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2;Math.abs(i.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0);Math.abs(i.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0);r.prevPositionX=i.touchesCurrent.x;r.prevPositionY=i.touchesCurrent.y;r.prevTime=Date.now();u.$imageWrapEl.transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTouchEnd:function(){var l=this,i=l.zoom,r=i.gesture,n=i.image,t=i.velocity,s,h,c;if(r.$imageEl&&r.$imageEl.length!==0){if(!n.isTouched||!n.isMoved){n.isTouched=!1;n.isMoved=!1;return}n.isTouched=!1;n.isMoved=!1;var u=300,f=300,a=t.x*u,e=n.currentX+a,v=t.y*f,o=n.currentY+v;t.x!==0&&(u=Math.abs((e-n.currentX)/t.x));t.y!==0&&(f=Math.abs((o-n.currentY)/t.y));s=Math.max(u,f);n.currentX=e;n.currentY=o;h=n.width*i.scale;c=n.height*i.scale;n.minX=Math.min(r.slideWidth/2-h/2,0);n.maxX=-n.minX;n.minY=Math.min(r.slideHeight/2-c/2,0);n.maxY=-n.minY;n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX);n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY);r.$imageWrapEl.transition(s).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var t=this,i=t.zoom,n=i.gesture;n.$slideEl&&t.previousIndex!==t.activeIndex&&(n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl.transform("translate3d(0,0,0)"),i.scale=1,i.currentScale=1,n.$slideEl=undefined,n.$imageEl=undefined,n.$imageWrapEl=undefined)},toggle:function(n){var i=this,t=i.zoom;t.scale&&t.scale!==1?t.out():t.in(n)},"in":function(n){var e=this,r=e.zoom,o=e.params.zoom,i=r.gesture,c=r.image,l,a,b,k,d,g,u,f,nt,tt,it,rt,s,h,v,y,p,w;(i.$slideEl||(i.$slideEl=e.clickedSlide?t(e.clickedSlide):e.slides.eq(e.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+o.containerClass)),i.$imageEl&&i.$imageEl.length!==0)&&(i.$slideEl.addClass(""+o.zoomedSlideClass),typeof c.touchesStart.x=="undefined"&&n?(l=n.type==="touchend"?n.changedTouches[0].pageX:n.pageX,a=n.type==="touchend"?n.changedTouches[0].pageY:n.pageY):(l=c.touchesStart.x,a=c.touchesStart.y),r.scale=i.$imageWrapEl.attr("data-swiper-zoom")||o.maxRatio,r.currentScale=i.$imageWrapEl.attr("data-swiper-zoom")||o.maxRatio,n?(p=i.$slideEl[0].offsetWidth,w=i.$slideEl[0].offsetHeight,b=i.$slideEl.offset().left,k=i.$slideEl.offset().top,d=b+p/2-l,g=k+w/2-a,nt=i.$imageEl[0].offsetWidth,tt=i.$imageEl[0].offsetHeight,it=nt*r.scale,rt=tt*r.scale,s=Math.min(p/2-it/2,0),h=Math.min(w/2-rt/2,0),v=-s,y=-h,u=d*r.scale,f=g*r.scale,u<s&&(u=s),u>v&&(u=v),f<h&&(f=h),f>y&&(f=y)):(u=0,f=0),i.$imageWrapEl.transition(300).transform("translate3d("+u+"px, "+f+"px,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+r.scale+")"))},out:function(){var i=this,r=i.zoom,u=i.params.zoom,n=r.gesture;(n.$slideEl||(n.$slideEl=i.clickedSlide?t(i.clickedSlide):i.slides.eq(i.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent("."+u.containerClass)),n.$imageEl&&n.$imageEl.length!==0)&&(r.scale=1,r.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+u.zoomedSlideClass),n.$slideEl=undefined)},enable:function(){var n=this,t=n.zoom,i;if(!t.enabled){if(t.enabled=!0,i=n.touchEvents.start==="touchstart"&&r.passiveListener&&n.params.passiveListeners?{passive:!0,capture:!1}:!1,r.gestures){n.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,i);n.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,i);n.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,i)}else if(n.touchEvents.start==="touchstart"){n.$wrapperEl.on(n.touchEvents.start,".swiper-slide",t.onGestureStart,i);n.$wrapperEl.on(n.touchEvents.move,".swiper-slide",t.onGestureChange,i);n.$wrapperEl.on(n.touchEvents.end,".swiper-slide",t.onGestureEnd,i)}n.$wrapperEl.on(n.touchEvents.move,"."+n.params.zoom.containerClass,t.onTouchMove)}},disable:function(){var n=this,t=n.zoom,i;t.enabled&&(n.zoom.enabled=!1,i=n.touchEvents.start==="touchstart"&&r.passiveListener&&n.params.passiveListeners?{passive:!0,capture:!1}:!1,r.gestures?(n.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,i),n.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,i),n.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,i)):n.touchEvents.start==="touchstart"&&(n.$wrapperEl.off(n.touchEvents.start,".swiper-slide",t.onGestureStart,i),n.$wrapperEl.off(n.touchEvents.move,".swiper-slide",t.onGestureChange,i),n.$wrapperEl.off(n.touchEvents.end,".swiper-slide",t.onGestureEnd,i)),n.$wrapperEl.off(n.touchEvents.move,"."+n.params.zoom.containerClass,t.onTouchMove))}},no={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var t=this,r={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:undefined,slideWidth:undefined,slideHeight:undefined,$imageEl:undefined,$imageWrapEl:undefined,maxRatio:3},image:{isTouched:undefined,isMoved:undefined,currentX:undefined,currentY:undefined,minX:undefined,minY:undefined,maxX:undefined,maxY:undefined,width:undefined,height:undefined,startX:undefined,startY:undefined,touchesStart:{},touchesCurrent:{}},velocity:{x:undefined,y:undefined,prevPositionX:undefined,prevPositionY:undefined,prevTime:undefined}},i;"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(n){r[n]=ft[n].bind(t)});n.extend(t,{zoom:r});i=1;Object.defineProperty(t.zoom,"scale",{get:function(){return i},set:function(n){if(i!==n){var r=t.zoom.gesture.$imageEl?t.zoom.gesture.$imageEl[0]:undefined,u=t.zoom.gesture.$slideEl?t.zoom.gesture.$slideEl[0]:undefined;t.emit("zoomChange",n,r,u)}i=n}})},on:{init:function(){var n=this;n.params.zoom.enabled&&n.zoom.enable()},destroy:function(){var n=this;n.zoom.disable()},touchStart:function(n){var t=this;if(t.zoom.enabled)t.zoom.onTouchStart(n)},touchEnd:function(n){var t=this;if(t.zoom.enabled)t.zoom.onTouchEnd(n)},doubleTap:function(n){var t=this;t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&t.zoom.toggle(n)},transitionEnd:function(){var n=this;n.zoom.enabled&&n.params.zoom.enabled&&n.zoom.onTransitionEnd()}}},ni={loadInSlide:function(n,i){var r,u;if((i===void 0&&(i=!0),r=this,u=r.params.lazy,typeof n!="undefined")&&r.slides.length!==0){var o=r.virtual&&r.params.virtual.enabled,f=o?r.$wrapperEl.children("."+r.params.slideClass+'[data-swiper-slide-index="'+n+'"]'):r.slides.eq(n),e=f.find("."+u.elementClass+":not(."+u.loadedClass+"):not(."+u.loadingClass+")");(!f.hasClass(u.elementClass)||f.hasClass(u.loadedClass)||f.hasClass(u.loadingClass)||(e=e.add(f[0])),e.length!==0)&&e.each(function(n,e){var o=t(e);o.addClass(u.loadingClass);var s=o.attr("data-background"),h=o.attr("data-src"),c=o.attr("data-srcset"),l=o.attr("data-sizes");r.loadImage(o[0],h||s,c,l,!1,function(){var n,t,e;typeof r!="undefined"&&r!==null&&r&&(!r||r.params)&&!r.destroyed&&(s?(o.css("background-image",'url("'+s+'")'),o.removeAttr("data-background")):(c&&(o.attr("srcset",c),o.removeAttr("data-srcset")),l&&(o.attr("sizes",l),o.removeAttr("data-sizes")),h&&(o.attr("src",h),o.removeAttr("data-src"))),o.addClass(u.loadedClass).removeClass(u.loadingClass),f.find("."+u.preloaderClass).remove(),r.params.loop&&i&&(n=f.attr("data-swiper-slide-index"),f.hasClass(r.params.slideDuplicateClass)?(t=r.$wrapperEl.children('[data-swiper-slide-index="'+n+'"]:not(.'+r.params.slideDuplicateClass+")"),r.lazy.loadInSlide(t.index(),!1)):(e=r.$wrapperEl.children("."+r.params.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]'),r.lazy.loadInSlide(e.index(),!1))),r.emit("lazyImageReady",f[0],o[0]))});r.emit("lazyImageLoad",f[0],o[0])})}},load:function(){function l(n){if(c){if(s.children("."+i.slideClass+'[data-swiper-slide-index="'+n+'"]').length)return!0}else if(p[n])return!0;return!1}function w(n){return c?t(n).attr("data-swiper-slide-index"):t(n).index()}var n=this,s=n.$wrapperEl,i=n.params,p=n.slides,r=n.activeIndex,c=n.virtual&&i.virtual.enabled,h=i.lazy,u=i.slidesPerView,f,e,o,v,y;if(u==="auto"&&(u=0),n.lazy.initialImageLoaded||(n.lazy.initialImageLoaded=!0),n.params.watchSlidesVisibility)s.children("."+i.slideVisibleClass).each(function(i,r){var u=c?t(r).attr("data-swiper-slide-index"):t(r).index();n.lazy.loadInSlide(u)});else if(u>1)for(f=r;f<r+u;f+=1)l(f)&&n.lazy.loadInSlide(f);else n.lazy.loadInSlide(r);if(h.loadPrevNext)if(u>1||h.loadPrevNextAmount&&h.loadPrevNextAmount>1){var b=h.loadPrevNextAmount,a=u,k=Math.min(r+a+Math.max(b,a),p.length),d=Math.max(r-Math.max(a,b),0);for(e=r+u;e<k;e+=1)l(e)&&n.lazy.loadInSlide(e);for(o=d;o<r;o+=1)l(o)&&n.lazy.loadInSlide(o)}else v=s.children("."+i.slideNextClass),v.length>0&&n.lazy.loadInSlide(w(v)),y=s.children("."+i.slidePrevClass),y.length>0&&n.lazy.loadInSlide(w(y))}},to={name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){var t=this;n.extend(t,{lazy:{initialImageLoaded:!1,load:ni.load.bind(t),loadInSlide:ni.loadInSlide.bind(t)}})},on:{beforeInit:function(){var n=this;n.params.lazy.enabled&&n.params.preloadImages&&(n.params.preloadImages=!1)},init:function(){var n=this;n.params.lazy.enabled&&!n.params.loop&&n.params.initialSlide===0&&n.lazy.load()},scroll:function(){var n=this;n.params.freeMode&&!n.params.freeModeSticky&&n.lazy.load()},resize:function(){var n=this;n.params.lazy.enabled&&n.lazy.load()},scrollbarDragMove:function(){var n=this;n.params.lazy.enabled&&n.lazy.load()},transitionStart:function(){var n=this;n.params.lazy.enabled&&(!n.params.lazy.loadOnTransitionStart&&(n.params.lazy.loadOnTransitionStart||n.lazy.initialImageLoaded)||n.lazy.load())},transitionEnd:function(){var n=this;n.params.lazy.enabled&&!n.params.lazy.loadOnTransitionStart&&n.lazy.load()}}},y={LinearSpline:function(n,t){var u=function(){var n,t,i;return function(r,u){for(t=-1,n=r.length;n-t>1;)i=n+t>>1,r[i]<=u?t=i:n=i;return n}}(),i,r;return this.x=n,this.y=t,this.lastIndex=n.length-1,this.interpolate=function(n){return n?(r=u(this.x,n),i=r-1,(n-this.x[i])*(this.y[r]-this.y[i])/(this.x[r]-this.x[i])+this.y[i]):0},this},getInterpolateFunction:function(n){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new y.LinearSpline(t.slidesGrid,n.slidesGrid):new y.LinearSpline(t.snapGrid,n.snapGrid))},setTranslate:function(n,t){function s(n){var t=i.rtlTranslate?-i.translate:i.translate;i.params.controller.by==="slide"&&(i.controller.getInterpolateFunction(n),u=-i.controller.spline.interpolate(-t));u&&i.params.controller.by!=="container"||(e=(n.maxTranslate()-n.minTranslate())/(i.maxTranslate()-i.minTranslate()),u=(t-i.minTranslate())*e+n.minTranslate());i.params.controller.inverse&&(u=n.maxTranslate()-u);n.updateProgress(u);n.setTranslate(u,i);n.updateActiveIndex();n.updateSlidesClasses()}var i=this,r=i.controller.control,e,u,f;if(Array.isArray(r))for(f=0;f<r.length;f+=1)r[f]!==t&&r[f]instanceof o&&s(r[f]);else r instanceof o&&t!==r&&s(r)},setTransition:function(t,i){function e(i){i.setTransition(t,f);t!==0&&(i.transitionStart(),i.params.autoHeight&&n.nextTick(function(){i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(function(){r&&(i.params.loop&&f.params.controller.by==="slide"&&i.loopFix(),i.transitionEnd())}))}var f=this,r=f.controller.control,u;if(Array.isArray(r))for(u=0;u<r.length;u+=1)r[u]!==i&&r[u]instanceof o&&e(r[u]);else r instanceof o&&i!==r&&e(r)}},io={name:"controller",params:{controller:{control:undefined,inverse:!1,by:"slide"}},create:function(){var t=this;n.extend(t,{controller:{control:t.params.controller.control,getInterpolateFunction:y.getInterpolateFunction.bind(t),setTranslate:y.setTranslate.bind(t),setTransition:y.setTransition.bind(t)}})},on:{update:function(){var n=this;n.controller.control&&n.controller.spline&&(n.controller.spline=undefined,delete n.controller.spline)},resize:function(){var n=this;n.controller.control&&n.controller.spline&&(n.controller.spline=undefined,delete n.controller.spline)},observerUpdate:function(){var n=this;n.controller.control&&n.controller.spline&&(n.controller.spline=undefined,delete n.controller.spline)},setTranslate:function(n,t){var i=this;i.controller.control&&i.controller.setTranslate(n,t)},setTransition:function(n,t){var i=this;i.controller.control&&i.controller.setTransition(n,t)}}},ti={makeElFocusable:function(n){return n.attr("tabIndex","0"),n},addElRole:function(n,t){return n.attr("role",t),n},addElLabel:function(n,t){return n.attr("aria-label",t),n},disableEl:function(n){return n.attr("aria-disabled",!0),n},enableEl:function(n){return n.attr("aria-disabled",!1),n},onEnterKey:function(n){var i=this,u=i.params.a11y,r;n.keyCode===13&&(r=t(n.target),i.navigation&&i.navigation.$nextEl&&r.is(i.navigation.$nextEl)&&(i.isEnd&&!i.params.loop||i.slideNext(),i.isEnd?i.a11y.notify(u.lastSlideMessage):i.a11y.notify(u.nextSlideMessage)),i.navigation&&i.navigation.$prevEl&&r.is(i.navigation.$prevEl)&&(i.isBeginning&&!i.params.loop||i.slidePrev(),i.isBeginning?i.a11y.notify(u.firstSlideMessage):i.a11y.notify(u.prevSlideMessage)),i.pagination&&r.is("."+i.params.pagination.bulletClass)&&r[0].click())},notify:function(n){var i=this,t=i.a11y.liveRegion;t.length!==0&&(t.html(""),t.html(n))},updateNavigation:function(){var n=this;if(!n.params.loop){var r=n.navigation,t=r.$nextEl,i=r.$prevEl;i&&i.length>0&&(n.isBeginning?n.a11y.disableEl(i):n.a11y.enableEl(i));t&&t.length>0&&(n.isEnd?n.a11y.disableEl(t):n.a11y.enableEl(t))}},updatePagination:function(){var n=this,i=n.params.a11y;n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.bullets.each(function(r,u){var f=t(u);n.a11y.makeElFocusable(f);n.a11y.addElRole(f,"button");n.a11y.addElLabel(f,i.paginationBulletMessage.replace(/{{index}}/,f.index()+1))})},init:function(){var n=this,r,t,i;if(n.$el.append(n.a11y.liveRegion),r=n.params.a11y,n.navigation&&n.navigation.$nextEl&&(t=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(i=n.navigation.$prevEl),t){n.a11y.makeElFocusable(t);n.a11y.addElRole(t,"button");n.a11y.addElLabel(t,r.nextSlideMessage);t.on("keydown",n.a11y.onEnterKey)}if(i){n.a11y.makeElFocusable(i);n.a11y.addElRole(i,"button");n.a11y.addElLabel(i,r.prevSlideMessage);i.on("keydown",n.a11y.onEnterKey)}if(n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length)n.pagination.$el.on("keydown","."+n.params.pagination.bulletClass,n.a11y.onEnterKey)},destroy:function(){var n=this,t,i;n.a11y.liveRegion&&n.a11y.liveRegion.length>0&&n.a11y.liveRegion.remove();n.navigation&&n.navigation.$nextEl&&(t=n.navigation.$nextEl);n.navigation&&n.navigation.$prevEl&&(i=n.navigation.$prevEl);t&&t.off("keydown",n.a11y.onEnterKey);i&&i.off("keydown",n.a11y.onEnterKey);n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.$el.off("keydown","."+n.params.pagination.bulletClass,n.a11y.onEnterKey)}},ro={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var i=this;n.extend(i,{a11y:{liveRegion:t('<span class="'+i.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"><\/span>')}});Object.keys(ti).forEach(function(n){i.a11y[n]=ti[n].bind(i)})},on:{init:function(){var n=this;n.params.a11y.enabled&&(n.a11y.init(),n.a11y.updateNavigation())},toEdge:function(){var n=this;n.params.a11y.enabled&&n.a11y.updateNavigation()},fromEdge:function(){var n=this;n.params.a11y.enabled&&n.a11y.updateNavigation()},paginationUpdate:function(){var n=this;n.params.a11y.enabled&&n.a11y.updatePagination()},destroy:function(){var n=this;n.params.a11y.enabled&&n.a11y.destroy()}}},l={init:function(){var n=this,t;if(n.params.history){if(!i.history||!i.history.pushState){n.params.history.enabled=!1;n.params.hashNavigation.enabled=!0;return}(t=n.history,t.initialized=!0,t.paths=l.getPathValues(),t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,n.params.runCallbacksOnInit),n.params.history.replaceState||i.addEventListener("popstate",n.history.setHistoryPopState))}},destroy:function(){var n=this;n.params.history.replaceState||i.removeEventListener("popstate",n.history.setHistoryPopState)},setHistoryPopState:function(){var n=this;n.history.paths=l.getPathValues();n.history.scrollToSlide(n.params.speed,n.history.paths.value,!1)},getPathValues:function(){var n=i.location.pathname.slice(1).split("/").filter(function(n){return n!==""}),t=n.length,r=n[t-2],u=n[t-1];return{key:r,value:u}},setHistory:function(n,t){var u=this,e,r,f;u.history.initialized&&u.params.history.enabled&&((e=u.slides.eq(t),r=l.slugify(e.attr("data-history")),i.location.pathname.includes(n)||(r=n+"/"+r),f=i.history.state,f&&f.value===r)||(u.params.history.replaceState?i.history.replaceState({value:r},null,r):i.history.pushState({value:r},null,r)))},slugify:function(n){return n.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(n,t,i){var r=this,u,e,f,o,s;if(t)for(u=0,e=r.slides.length;u<e;u+=1)f=r.slides.eq(u),o=l.slugify(f.attr("data-history")),o!==t||f.hasClass(r.params.slideDuplicateClass)||(s=f.index(),r.slideTo(s,n,i));else r.slideTo(0,n,i)}},uo={name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){var t=this;n.extend(t,{history:{init:l.init.bind(t),setHistory:l.setHistory.bind(t),setHistoryPopState:l.setHistoryPopState.bind(t),scrollToSlide:l.scrollToSlide.bind(t),destroy:l.destroy.bind(t)}})},on:{init:function(){var n=this;n.params.history.enabled&&n.history.init()},destroy:function(){var n=this;n.params.history.enabled&&n.history.destroy()},transitionEnd:function(){var n=this;n.history.initialized&&n.history.setHistory(n.params.history.key,n.activeIndex)}}},k={onHashCange:function(){var n=this,i=u.location.hash.replace("#",""),r=n.slides.eq(n.activeIndex).attr("data-hash"),t;if(i!==r){if(t=n.$wrapperEl.children("."+n.params.slideClass+'[data-hash="'+i+'"]').index(),typeof t=="undefined")return;n.slideTo(t)}},setHash:function(){var n=this,t,r;n.hashNavigation.initialized&&n.params.hashNavigation.enabled&&(n.params.hashNavigation.replaceState&&i.history&&i.history.replaceState?i.history.replaceState(null,null,"#"+n.slides.eq(n.activeIndex).attr("data-hash")||""):(t=n.slides.eq(n.activeIndex),r=t.attr("data-hash")||t.attr("data-history"),u.location.hash=r||""))},init:function(){var n=this,e,o,f,s,r,h,c;if(n.params.hashNavigation.enabled&&(!n.params.history||!n.params.history.enabled)){if(n.hashNavigation.initialized=!0,e=u.location.hash.replace("#",""),e)for(o=0,f=0,s=n.slides.length;f<s;f+=1)r=n.slides.eq(f),h=r.attr("data-hash")||r.attr("data-history"),h!==e||r.hasClass(n.params.slideDuplicateClass)||(c=r.index(),n.slideTo(c,o,n.params.runCallbacksOnInit,!0));if(n.params.hashNavigation.watchState)t(i).on("hashchange",n.hashNavigation.onHashCange)}},destroy:function(){var n=this;n.params.hashNavigation.watchState&&t(i).off("hashchange",n.hashNavigation.onHashCange)}},fo={name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){var t=this;n.extend(t,{hashNavigation:{initialized:!1,init:k.init.bind(t),destroy:k.destroy.bind(t),setHash:k.setHash.bind(t),onHashCange:k.onHashCange.bind(t)}})},on:{init:function(){var n=this;n.params.hashNavigation.enabled&&n.hashNavigation.init()},destroy:function(){var n=this;n.params.hashNavigation.enabled&&n.hashNavigation.destroy()},transitionEnd:function(){var n=this;n.hashNavigation.initialized&&n.hashNavigation.setHash()}}},d={run:function(){var t=this,i=t.slides.eq(t.activeIndex),r=t.params.autoplay.delay;i.attr("data-swiper-autoplay")&&(r=i.attr("data-swiper-autoplay")||t.params.autoplay.delay);t.autoplay.timeout=n.nextTick(function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))},r)},start:function(){var n=this;return typeof n.autoplay.timeout!="undefined"?!1:n.autoplay.running?!1:(n.autoplay.running=!0,n.emit("autoplayStart"),n.autoplay.run(),!0)},stop:function(){var n=this;return n.autoplay.running?typeof n.autoplay.timeout=="undefined"?!1:(n.autoplay.timeout&&(clearTimeout(n.autoplay.timeout),n.autoplay.timeout=undefined),n.autoplay.running=!1,n.emit("autoplayStop"),!0):!1},pause:function(n){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,n!==0&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))}},eo={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var t=this;n.extend(t,{autoplay:{running:!1,paused:!1,run:d.run.bind(t),start:d.start.bind(t),stop:d.stop.bind(t),pause:d.pause.bind(t),onTransitionEnd:function(n){t&&!t.destroyed&&t.$wrapperEl&&n.target===this&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}}})},on:{init:function(){var n=this;n.params.autoplay.enabled&&n.autoplay.start()},beforeTransitionStart:function(n,t){var i=this;i.autoplay.running&&(t||!i.params.autoplay.disableOnInteraction?i.autoplay.pause(n):i.autoplay.stop())},sliderFirstMove:function(){var n=this;n.autoplay.running&&(n.params.autoplay.disableOnInteraction?n.autoplay.stop():n.autoplay.pause())},destroy:function(){var n=this;n.autoplay.running&&n.autoplay.stop()}}},ii={setTranslate:function(){for(var u,f,n=this,e=n.slides,r=0;r<e.length;r+=1){var t=n.slides.eq(r),o=t[0].swiperSlideOffset,i=-o;n.params.virtualTranslate||(i-=n.translate);u=0;n.isHorizontal()||(u=i,i=0);f=n.params.fadeEffect.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:f}).transform("translate3d("+i+"px, "+u+"px, 0px)")}},setTransition:function(n){var t=this,r=t.slides,u=t.$wrapperEl,i;r.transition(n);t.params.virtualTranslate&&n!==0&&(i=!1,r.transitionEnd(function(){var r,n;if(!i&&t&&!t.destroyed)for(i=!0,t.animating=!1,r=["webkitTransitionEnd","transitionend"],n=0;n<r.length;n+=1)u.trigger(r[n])}))}},oo={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){var t=this;n.extend(t,{fadeEffect:{setTranslate:ii.setTranslate.bind(t),setTransition:ii.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this,i;t.params.effect==="fade"&&(t.classNames.push(t.params.containerModifierClass+"fade"),i={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0},n.extend(t.params,i),n.extend(t.originalParams,i))},setTranslate:function(){var n=this;n.params.effect==="fade"&&n.fadeEffect.setTranslate()},setTransition:function(n){var t=this;t.params.effect==="fade"&&t.fadeEffect.setTransition(n)}}},ri={setTranslate:function(){var n=this,nt=n.$el,k=n.$wrapperEl,tt=n.slides,d=n.width,it=n.height,g=n.rtlTranslate,i=n.size,s=n.params.cubeEffect,f=n.isHorizontal(),st=n.virtual&&n.params.virtual.enabled,c=0,r,w,u,e,h,l,ut,y,p,ot;for(s.shadow&&(f?(r=k.find(".swiper-cube-shadow"),r.length===0&&(r=t('<div class="swiper-cube-shadow"><\/div>'),k.append(r)),r.css({height:d+"px"})):(r=nt.find(".swiper-cube-shadow"),r.length===0&&(r=t('<div class="swiper-cube-shadow"><\/div>'),nt.append(r)))),w=0;w<tt.length;w+=1){u=tt.eq(w);e=w;st&&(e=parseInt(u.attr("data-swiper-slide-index"),10));h=e*90;l=Math.floor(h/360);g&&(h=-h,l=Math.floor(-h/360));var v=Math.max(Math.min(u[0].progress,1),-1),o=0,rt=0,b=0;e%4==0?(o=-l*4*i,b=0):(e-1)%4==0?(o=0,b=-l*4*i):(e-2)%4==0?(o=i+l*4*i,b=i):(e-3)%4==0&&(o=-i,b=3*i+i*4*l);g&&(o=-o);f||(rt=o,o=0);ut="rotateX("+(f?0:-h)+"deg) rotateY("+(f?h:0)+"deg) translate3d("+o+"px, "+rt+"px, "+b+"px)";v<=1&&v>-1&&(c=e*90+v*90,g&&(c=-e*90-v*90));u.transform(ut);s.slideShadows&&(y=f?u.find(".swiper-slide-shadow-left"):u.find(".swiper-slide-shadow-top"),p=f?u.find(".swiper-slide-shadow-right"):u.find(".swiper-slide-shadow-bottom"),y.length===0&&(y=t('<div class="swiper-slide-shadow-'+(f?"left":"top")+'"><\/div>'),u.append(y)),p.length===0&&(p=t('<div class="swiper-slide-shadow-'+(f?"right":"bottom")+'"><\/div>'),u.append(p)),y.length&&(y[0].style.opacity=Math.max(-v,0)),p.length&&(p[0].style.opacity=Math.max(v,0)))}if(k.css({"-webkit-transform-origin":"50% 50% -"+i/2+"px","-moz-transform-origin":"50% 50% -"+i/2+"px","-ms-transform-origin":"50% 50% -"+i/2+"px","transform-origin":"50% 50% -"+i/2+"px"}),s.shadow)if(f)r.transform("translate3d(0px, "+(d/2+s.shadowOffset)+"px, "+-d/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.shadowScale+")");else{var ft=Math.abs(c)-Math.floor(Math.abs(c)/90)*90,ht=1.5-(Math.sin(ft*2*Math.PI/360)/2+Math.cos(ft*2*Math.PI/360)/2),ct=s.shadowScale,et=s.shadowScale/ht,lt=s.shadowOffset;r.transform("scale3d("+ct+", 1, "+et+") translate3d(0px, "+(it/2+lt)+"px, "+-it/2/et+"px) rotateX(-90deg)")}ot=a.isSafari||a.isUiWebView?-i/2:0;k.transform("translate3d(0px,0,"+ot+"px) rotateX("+(n.isHorizontal()?0:c)+"deg) rotateY("+(n.isHorizontal()?-c:0)+"deg)")},setTransition:function(n){var t=this,i=t.$el,r=t.slides;r.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n);t.params.cubeEffect.shadow&&!t.isHorizontal()&&i.find(".swiper-cube-shadow").transition(n)}},so={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){var t=this;n.extend(t,{cubeEffect:{setTranslate:ri.setTranslate.bind(t),setTransition:ri.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this,i;t.params.effect==="cube"&&(t.classNames.push(t.params.containerModifierClass+"cube"),t.classNames.push(t.params.containerModifierClass+"3d"),i={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0},n.extend(t.params,i),n.extend(t.originalParams,i))},setTranslate:function(){var n=this;n.params.effect==="cube"&&n.cubeEffect.setTranslate()},setTransition:function(n){var t=this;t.params.effect==="cube"&&t.cubeEffect.setTransition(n)}}},ui={setTranslate:function(){for(var n,r,u,f,i=this,o=i.slides,a=i.rtlTranslate,s=0;s<o.length;s+=1){n=o.eq(s);r=n[0].progress;i.params.flipEffect.limitRotation&&(r=Math.max(Math.min(n[0].progress,1),-1));var v=n[0].swiperSlideOffset,y=-180*r,e=y,c=0,h=-v,l=0;i.isHorizontal()?a&&(e=-e):(l=h,h=0,c=-e,e=0);n[0].style.zIndex=-Math.abs(Math.round(r))+o.length;i.params.flipEffect.slideShadows&&(u=i.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),f=i.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom"),u.length===0&&(u=t('<div class="swiper-slide-shadow-'+(i.isHorizontal()?"left":"top")+'"><\/div>'),n.append(u)),f.length===0&&(f=t('<div class="swiper-slide-shadow-'+(i.isHorizontal()?"right":"bottom")+'"><\/div>'),n.append(f)),u.length&&(u[0].style.opacity=Math.max(-r,0)),f.length&&(f[0].style.opacity=Math.max(r,0)));n.transform("translate3d("+h+"px, "+l+"px, 0px) rotateX("+c+"deg) rotateY("+e+"deg)")}},setTransition:function(n){var t=this,r=t.slides,u=t.activeIndex,f=t.$wrapperEl,i;r.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n);t.params.virtualTranslate&&n!==0&&(i=!1,r.eq(u).transitionEnd(function(){var r,n;if(!i&&t&&!t.destroyed)for(i=!0,t.animating=!1,r=["webkitTransitionEnd","transitionend"],n=0;n<r.length;n+=1)f.trigger(r[n])}))}},ho={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){var t=this;n.extend(t,{flipEffect:{setTranslate:ui.setTranslate.bind(t),setTransition:ui.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this,i;t.params.effect==="flip"&&(t.classNames.push(t.params.containerModifierClass+"flip"),t.classNames.push(t.params.containerModifierClass+"3d"),i={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0},n.extend(t.params,i),n.extend(t.originalParams,i))},setTranslate:function(){var n=this;n.params.effect==="flip"&&n.flipEffect.setTranslate()},setTransition:function(n){var t=this;t.params.effect==="flip"&&t.flipEffect.setTransition(n)}}},fi={setTranslate:function(){for(var g,o,s,nt,f=this,tt=f.width,it=f.height,p=f.slides,rt=f.$wrapperEl,ut=f.slidesSizesGrid,e=f.params.coverflowEffect,n=f.isHorizontal(),w=f.translate,b=n?-w+tt/2:-w+it/2,k=n?e.rotate:-e.rotate,ft=e.depth,h=0,et=p.length;h<et;h+=1){var u=p.eq(h),d=ut[h],ot=u[0].swiperSlideOffset,i=(b-ot-d/2)/d*e.modifier,c=n?k*i:0,l=n?0:k*i,a=-ft*Math.abs(i),v=n?0:e.stretch*i,y=n?e.stretch*i:0;Math.abs(y)<.001&&(y=0);Math.abs(v)<.001&&(v=0);Math.abs(a)<.001&&(a=0);Math.abs(c)<.001&&(c=0);Math.abs(l)<.001&&(l=0);g="translate3d("+y+"px,"+v+"px,"+a+"px)  rotateX("+l+"deg) rotateY("+c+"deg)";u.transform(g);u[0].style.zIndex=-Math.abs(Math.round(i))+1;e.slideShadows&&(o=n?u.find(".swiper-slide-shadow-left"):u.find(".swiper-slide-shadow-top"),s=n?u.find(".swiper-slide-shadow-right"):u.find(".swiper-slide-shadow-bottom"),o.length===0&&(o=t('<div class="swiper-slide-shadow-'+(n?"left":"top")+'"><\/div>'),u.append(o)),s.length===0&&(s=t('<div class="swiper-slide-shadow-'+(n?"right":"bottom")+'"><\/div>'),u.append(s)),o.length&&(o[0].style.opacity=i>0?i:0),s.length&&(s[0].style.opacity=-i>0?-i:0))}(r.pointerEvents||r.prefixedPointerEvents)&&(nt=rt[0].style,nt.perspectiveOrigin=b+"px 50%")},setTransition:function(n){var t=this;t.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n)}},co={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){var t=this;n.extend(t,{coverflowEffect:{setTranslate:fi.setTranslate.bind(t),setTransition:fi.setTransition.bind(t)}})},on:{beforeInit:function(){var n=this;n.params.effect==="coverflow"&&(n.classNames.push(n.params.containerModifierClass+"coverflow"),n.classNames.push(n.params.containerModifierClass+"3d"),n.params.watchSlidesProgress=!0,n.originalParams.watchSlidesProgress=!0)},setTranslate:function(){var n=this;n.params.effect==="coverflow"&&n.coverflowEffect.setTranslate()},setTransition:function(n){var t=this;t.params.effect==="coverflow"&&t.coverflowEffect.setTransition(n)}}},et={init:function(){var t=this,u=t.params,i=u.thumbs,r=t.constructor;i.swiper instanceof r?(t.thumbs.swiper=i.swiper,n.extend(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),n.extend(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):n.isObject(i.swiper)&&(t.thumbs.swiper=new r(n.extend({},i.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),t.thumbs.swiperCreated=!0);t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass);t.thumbs.swiper.on("tap",t.thumbs.onThumbClick)},onThumbClick:function(){var n=this,r=n.thumbs.swiper,o,s,u,i,f,e;r&&((o=r.clickedIndex,s=r.clickedSlide,s&&t(s).hasClass(n.params.thumbs.slideThumbActiveClass))||typeof o!="undefined"&&o!==null&&(u=r.params.loop?parseInt(t(r.clickedSlide).attr("data-swiper-slide-index"),10):o,n.params.loop&&(i=n.activeIndex,n.slides.eq(i).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,i=n.activeIndex),f=n.slides.eq(i).prevAll('[data-swiper-slide-index="'+u+'"]').eq(0).index(),e=n.slides.eq(i).nextAll('[data-swiper-slide-index="'+u+'"]').eq(0).index(),u=typeof f=="undefined"?e:typeof e=="undefined"?f:e-i<i-f?e:f),n.slideTo(u)))},update:function(n){var r=this,t=r.thumbs.swiper,o,i,u,f,e,s,h,c,l;if(t)if(o=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView,r.realIndex!==t.realIndex&&(i=t.activeIndex,t.params.loop?(t.slides.eq(i).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,i=t.activeIndex),f=t.slides.eq(i).prevAll('[data-swiper-slide-index="'+r.realIndex+'"]').eq(0).index(),e=t.slides.eq(i).nextAll('[data-swiper-slide-index="'+r.realIndex+'"]').eq(0).index(),u=typeof f=="undefined"?e:typeof e=="undefined"?f:e-i==i-f?i:e-i<i-f?e:f):u=r.realIndex,t.visibleSlidesIndexes.indexOf(u)<0&&(t.params.centeredSlides?u=u>i?u-Math.floor(o/2)+1:u+Math.floor(o/2)-1:u>i&&(u=u-o+1),t.slideTo(u,n?0:undefined))),s=1,h=r.params.thumbs.slideThumbActiveClass,r.params.slidesPerView>1&&!r.params.centeredSlides&&(s=r.params.slidesPerView),t.slides.removeClass(h),t.params.loop)for(c=0;c<s;c+=1)t.$wrapperEl.children('[data-swiper-slide-index="'+(r.realIndex+c)+'"]').addClass(h);else for(l=0;l<s;l+=1)t.slides.eq(r.realIndex+l).addClass(h)}},lo={name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){var t=this;n.extend(t,{thumbs:{swiper:null,init:et.init.bind(t),update:et.update.bind(t),onThumbClick:et.onThumbClick.bind(t)}})},on:{beforeInit:function(){var n=this,i=n.params,t=i.thumbs;t&&t.swiper&&(n.thumbs.init(),n.thumbs.update(!0))},slideChange:function(){var n=this;n.thumbs.swiper&&n.thumbs.update()},update:function(){var n=this;n.thumbs.swiper&&n.thumbs.update()},resize:function(){var n=this;n.thumbs.swiper&&n.thumbs.update()},observerUpdate:function(){var n=this;n.thumbs.swiper&&n.thumbs.update()},setTransition:function(n){var i=this,t=i.thumbs.swiper;t&&t.setTransition(n)},beforeDestroy:function(){var t=this,n=t.thumbs.swiper;n&&t.thumbs.swiperCreated&&n&&n.destroy()}}},ao=[se,he,ce,le,ae,ve,ye,we,be,ke,de,ge,no,to,io,ro,uo,fo,eo,oo,so,ho,co,lo];return typeof o.use=="undefined"&&(o.use=o.Class.use,o.installModule=o.Class.installModule),o.use(ao),o});!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AOS=t():n.AOS=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="dist/",t(0)}([function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var v=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},y=i(1),p=(f(y),i(6)),w=f(p),b=i(7),s=f(b),k=i(8),d=f(k),g=i(9),o=f(g),nt=i(10),h=f(nt),tt=i(11),it=f(tt),rt=i(14),c=f(rt),u=[],l=!1,r={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},e=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n&&(l=!0),l)return u=it.default(u,r),h.default(u,r.once),u},a=function(){u=c.default();e()},ut=function(){u.forEach(function(n){n.node.removeAttribute("data-aos");n.node.removeAttribute("data-aos-easing");n.node.removeAttribute("data-aos-duration");n.node.removeAttribute("data-aos-delay")})},ft=function(n){return n===!0||"mobile"===n&&o.default.mobile()||"phone"===n&&o.default.phone()||"tablet"===n&&o.default.tablet()||"function"==typeof n&&n()===!0},et=function(n){r=v(r,n);u=c.default();var t=document.all&&!window.atob;return ft(r.disable)||t?ut():(document.querySelector("body").setAttribute("data-aos-easing",r.easing),document.querySelector("body").setAttribute("data-aos-duration",r.duration),document.querySelector("body").setAttribute("data-aos-delay",r.delay),"DOMContentLoaded"===r.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?e(!0):"load"===r.startEvent?window.addEventListener(r.startEvent,function(){e(!0)}):document.addEventListener(r.startEvent,function(){e(!0)}),window.addEventListener("resize",s.default(e,r.debounceDelay,!0)),window.addEventListener("orientationchange",s.default(e,r.debounceDelay,!0)),window.addEventListener("scroll",w.default(function(){h.default(u,r.once)},r.throttleDelay)),r.disableMutationObserver||d.default("[data-aos]",a),u)};n.exports={init:et,refresh:e,refreshHard:a}},function(){},,,,,function(n,t){(function(t){"use strict";function s(n,t,i){function w(t){var i=h,r=c;return h=c=void 0,a=t,l=n.apply(r,i)}function tt(n){return a=n,o=setTimeout(y,t),nt?w(n):l}function ut(n){var r=n-s,u=n-a,i=t-r;return v?rt(i,p-u):i}function d(n){var i=n-s,r=n-a;return void 0===s||i>=t||i<0||v&&r>=p}function y(){var n=u();return d(n)?g(n):void(o=setTimeout(y,ut(n)))}function g(n){return o=void 0,k&&h?w(n):(h=c=void 0,l)}function ft(){void 0!==o&&clearTimeout(o);a=0;h=s=c=o=void 0}function et(){return void 0===o?l:g(u())}function b(){var n=u(),i=d(n);if(h=arguments,c=this,s=n,i){if(void 0===o)return tt(s);if(v)return o=setTimeout(y,t),w(s)}return void 0===o&&(o=setTimeout(y,t)),l}var h,c,p,l,o,s,a=0,nt=!1,v=!1,k=!0;if("function"!=typeof n)throw new TypeError(e);return t=f(t)||0,r(i)&&(nt=!!i.leading,v="maxWait"in i,p=v?it(f(i.maxWait)||0,t):p,k="trailing"in i?!!i.trailing:k),b.cancel=ft,b.flush=et,b}function h(n,t,i){var u=!0,f=!0;if("function"!=typeof n)throw new TypeError(e);return r(i)&&(u="leading"in i?!!i.leading:u,f="trailing"in i?!!i.trailing:f),s(n,t,{leading:u,maxWait:t,trailing:f})}function r(n){var t="undefined"==typeof n?"undefined":i(n);return!!n&&("object"==t||"function"==t)}function c(n){return!!n&&"object"==("undefined"==typeof n?"undefined":i(n))}function l(n){return"symbol"==("undefined"==typeof n?"undefined":i(n))||c(n)&&tt.call(n)==a}function f(n){var t,i;return"number"==typeof n?n:l(n)?o:(r(n)&&(t="function"==typeof n.valueOf?n.valueOf():n,n=r(t)?t+"":t),"string"!=typeof n)?0===n?n:+n:(n=n.replace(v,""),i=p.test(n),i||w.test(n)?b(n.slice(2),i?2:8):y.test(n)?o:+n)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e="Expected a function",o=NaN,a="[object Symbol]",v=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,w=/^0o[0-7]+$/i,b=parseInt,k="object"==("undefined"==typeof t?"undefined":i(t))&&t&&t.Object===Object&&t,d="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,g=k||d||Function("return this")(),nt=Object.prototype,tt=nt.toString,it=Math.max,rt=Math.min,u=function(){return g.Date.now()};n.exports=h}).call(t,function(){return this}())},function(n,t){(function(t){"use strict";function o(n,t,i){function w(t){var i=s,r=h;return s=h=void 0,a=t,l=n.apply(r,i)}function rt(n){return a=n,e=setTimeout(y,t),nt?w(n):l}function ut(n){var r=n-o,u=n-a,i=t-r;return v?it(i,p-u):i}function d(n){var i=n-o,r=n-a;return void 0===o||i>=t||i<0||v&&r>=p}function y(){var n=u();return d(n)?g(n):void(e=setTimeout(y,ut(n)))}function g(n){return e=void 0,k&&s?w(n):(s=h=void 0,l)}function ft(){void 0!==e&&clearTimeout(e);a=0;s=o=h=e=void 0}function et(){return void 0===e?l:g(u())}function b(){var n=u(),i=d(n);if(s=arguments,h=this,o=n,i){if(void 0===e)return rt(o);if(v)return e=setTimeout(y,t),w(o)}return void 0===e&&(e=setTimeout(y,t)),l}var s,h,p,l,e,o,a=0,nt=!1,v=!1,k=!0;if("function"!=typeof n)throw new TypeError(c);return t=f(t)||0,r(i)&&(nt=!!i.leading,v="maxWait"in i,p=v?tt(f(i.maxWait)||0,t):p,k="trailing"in i?!!i.trailing:k),b.cancel=ft,b.flush=et,b}function r(n){var t="undefined"==typeof n?"undefined":i(n);return!!n&&("object"==t||"function"==t)}function s(n){return!!n&&"object"==("undefined"==typeof n?"undefined":i(n))}function h(n){return"symbol"==("undefined"==typeof n?"undefined":i(n))||s(n)&&nt.call(n)==l}function f(n){var t,i;return"number"==typeof n?n:h(n)?e:(r(n)&&(t="function"==typeof n.valueOf?n.valueOf():n,n=r(t)?t+"":t),"string"!=typeof n)?0===n?n:+n:(n=n.replace(a,""),i=y.test(n),i||p.test(n)?w(n.slice(2),i?2:8):v.test(n)?e:+n)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c="Expected a function",e=NaN,l="[object Symbol]",a=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,p=/^0o[0-7]+$/i,w=parseInt,b="object"==("undefined"==typeof t?"undefined":i(t))&&t&&t.Object===Object&&t,k="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,d=b||k||Function("return this")(),g=Object.prototype,nt=g.toString,tt=Math.max,it=Math.min,u=function(){return d.Date.now()};n.exports=o}).call(t,function(){return this}())},function(n,t){"use strict";function r(n,t){var r=window.document,f=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,e=new f(u);i=t;e.observe(r.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(n){n&&n.forEach(function(n){var t=Array.prototype.slice.call(n.addedNodes),r=Array.prototype.slice.call(n.removedNodes),u=t.concat(r).filter(function(n){return n.hasAttribute&&n.hasAttribute("data-aos")}).length;u&&i()})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.default=r},function(n,t){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,s=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function n(){r(this,n)}return u(n,[{key:"phone",value:function(){var n=i();return!(!f.test(n)&&!e.test(n.substr(0,4)))}},{key:"mobile",value:function(){var n=i();return!(!o.test(n)&&!s.test(n.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),n}();t.default=new h},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(n,t,i){var r=n.node.getAttribute("data-aos-once");t>n.position?n.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!i&&"true"!==r)&&n.node.classList.remove("aos-animate")},r=function(n,t){var r=window.pageYOffset,u=window.innerHeight;n.forEach(function(n){i(n,u+r,t)})};t.default=r},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(12),f=r(u),e=function(n,t){return n.forEach(function(n){n.node.classList.add("aos-init");n.position=f.default(n.node,t.offset)}),n};t.default=e},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(13),f=r(u),e=function(n,t){var i=0,e=0,u=window.innerHeight,r={offset:n.getAttribute("data-aos-offset"),anchor:n.getAttribute("data-aos-anchor"),anchorPlacement:n.getAttribute("data-aos-anchor-placement")};switch(r.offset&&!isNaN(r.offset)&&(e=parseInt(r.offset)),r.anchor&&document.querySelectorAll(r.anchor)&&(n=document.querySelectorAll(r.anchor)[0]),i=f.default(n).top,r.anchorPlacement){case"center-bottom":i+=n.offsetHeight/2;break;case"bottom-bottom":i+=n.offsetHeight;break;case"top-center":i+=u/2;break;case"bottom-center":i+=u/2+n.offsetHeight;break;case"center-center":i+=u/2+n.offsetHeight/2;break;case"top-top":i+=u;break;case"bottom-top":i+=n.offsetHeight+u;break;case"center-top":i+=n.offsetHeight/2+u}return r.anchorPlacement||r.offset||isNaN(t)||(e=t),i+e};t.default=e},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){for(var t=0,i=0;n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop);)t+=n.offsetLeft-("BODY"!=n.tagName?n.scrollLeft:0),i+=n.offsetTop-("BODY"!=n.tagName?n.scrollTop:0),n=n.offsetParent;return{top:i,left:t}};t.default=i},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){return n=n||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(n,function(n){return{node:n}})};t.default=i}])}),function(n,t,i,r){"use strict";function c(n,t){var r=[],o=0,u,s,f;n&&n.isDefaultPrevented()||(n.preventDefault(),t=t||{},n&&n.data&&(t=e(n.data.options,t)),u=t.$target||i(n.currentTarget).trigger("blur"),f=i.fancybox.getInstance(),f&&f.$trigger&&f.$trigger.is(u))||(t.selector?r=i(t.selector):(s=u.attr("data-fancybox")||"",s?(r=n.data?n.data.items:[],r=r.length?r.filter('[data-fancybox="'+s+'"]'):i('[data-fancybox="'+s+'"]')):r=[u]),o=i(r).index(u),o<0&&(o=0),f=i.fancybox.open(r,t,o),f.$trigger=u)}if(n.console=n.console||{info:function(){}},i){if(i.fn.fancybox){console.info("fancyBox already initialized");return}var a={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""><\/iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download<\/a> and watch with your favorite video player!<\/video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"><\/div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index><\/span>&nbsp;/&nbsp;<span data-fancybox-count><\/span><\/div><div class="fancybox-toolbar">{{buttons}}<\/div><div class="fancybox-navigation">{{arrows}}<\/div><div class="fancybox-stage"><\/div><div class="fancybox-caption"><\/div><\/div><\/div>',spinnerTpl:'<div class="fancybox-loading"><\/div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<\/p><\/div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/><\/svg><\/a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/><\/svg><\/button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/><\/svg><\/button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/><\/svg><\/div><\/button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/><\/svg><\/div><\/button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/><\/svg><\/button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop,onActivate:i.noop,onDeactivate:i.noop,clickContent:function(n){return n.type==="image"?"zoom":!1},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(n){return n.type==="image"?"toggleControls":!1},clickSlide:function(n){return n.type==="image"?"toggleControls":"close"},dblclickContent:function(n){return n.type==="image"?"zoom":!1},dblclickSlide:function(n){return n.type==="image"?"zoom":!1}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},o=i(n),u=i(t),v=0,y=function(n){return n&&n.hasOwnProperty&&n instanceof i},l=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||function(t){return n.setTimeout(t,1e3/60)}}(),p=function(){return n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||function(t){n.clearTimeout(t)}}(),s=function(){var u=t.createElement("fakeelement"),n,i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in i)if(u.style[n]!==r)return i[n];return"transitionend"}(),f=function(n){return n&&n.length&&n[0].offsetHeight},e=function(n,t){var r=i.extend(!0,{},n,t);return i.each(t,function(n,t){i.isArray(t)&&(r[n]=t)}),r},w=function(n){var r,u;return!n||n.ownerDocument!==t?!1:(i(".fancybox-container").css("pointer-events","none"),r={x:n.getBoundingClientRect().left+n.offsetWidth/2,y:n.getBoundingClientRect().top+n.offsetHeight/2},u=t.elementFromPoint(r.x,r.y)===n,i(".fancybox-container").css("pointer-events",""),u)},h=function(n,t,r){var u=this;(u.opts=e({index:r},i.fancybox.defaults),i.isPlainObject(t)&&(u.opts=e(u.opts,t)),i.fancybox.isMobile&&(u.opts=e(u.opts,u.opts.mobile)),u.id=u.opts.id||++v,u.currIndex=parseInt(u.opts.index,10)||0,u.prevIndex=null,u.prevPos=null,u.currPos=0,u.firstRun=!0,u.group=[],u.slides={},u.addContent(n),u.group.length)&&u.init()};i.extend(h.prototype,{init:function(){var r=this,o=r.group[r.currIndex],u=o.opts,f,e;u.closeExisting&&i.fancybox.close(!0);i("body").addClass("fancybox-active");!i.fancybox.getInstance()&&u.hideScrollbar!==!1&&!i.fancybox.isMobile&&t.body.scrollHeight>n.innerHeight&&(i("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(n.innerWidth-t.documentElement.clientWidth)+"px;}<\/style>"),i("body").addClass("compensate-for-scrollbar"));e="";i.each(u.buttons,function(n,t){e+=u.btnTpl[t]||""});f=i(r.translate(r,u.baseTpl.replace("{{buttons}}",e).replace("{{arrows}}",u.btnTpl.arrowLeft+u.btnTpl.arrowRight))).attr("id","fancybox-container-"+r.id).addClass(u.baseClass).data("FancyBox",r).appendTo(u.parentEl);r.$refs={container:f};["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(n){r.$refs[n]=f.find(".fancybox-"+n)});r.trigger("onInit");r.activate();r.jumpTo(r.currIndex)},translate:function(n,t){var i=n.opts.i18n[n.opts.lang]||n.opts.i18n.en;return t.replace(/\{\{(\w+)\}\}/g,function(n,t){return i[t]===r?n:i[t]})},addContent:function(n){var t=this,f=i.makeArray(n),u;i.each(f,function(n,u){var f={},o={},c,s,a,h,l;i.isPlainObject(u)?(f=u,o=u.opts||u):i.type(u)==="object"&&i(u).length?(c=i(u),o=c.data()||{},o=i.extend(!0,{},o,o.options),o.$orig=c,f.src=t.opts.src||o.src||c.attr("href"),f.type||f.src||(f.type="inline",f.src=u)):f={type:"html",src:u+""};f.opts=i.extend(!0,{},t.opts,o);i.isArray(o.buttons)&&(f.opts.buttons=o.buttons);i.fancybox.isMobile&&f.opts.mobile&&(f.opts=e(f.opts,f.opts.mobile));s=f.type||f.opts.type;h=f.src||"";!s&&h&&((a=h.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(s="video",f.opts.video.format||(f.opts.video.format="video/"+(a[1]==="ogv"?"ogg":a[1]))):h.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":h.match(/\.(pdf)((\?|#).*)?$/i)?(s="iframe",f=i.extend(!0,f,{contentType:"pdf",opts:{iframe:{preload:!1}}})):h.charAt(0)==="#"&&(s="inline"));s?f.type=s:t.trigger("objectNeedsType",f);f.contentType||(f.contentType=i.inArray(f.type,["html","inline","ajax"])>-1?"html":f.type);f.index=t.group.length;f.opts.smallBtn=="auto"&&(f.opts.smallBtn=i.inArray(f.type,["html","inline","ajax"])>-1);f.opts.toolbar==="auto"&&(f.opts.toolbar=!f.opts.smallBtn);f.$thumb=f.opts.$thumb||null;f.opts.$trigger&&f.index===t.opts.index&&(f.$thumb=f.opts.$trigger.find("img:first"),f.$thumb.length&&(f.opts.$orig=f.opts.$trigger));f.$thumb&&f.$thumb.length||!f.opts.$orig||(f.$thumb=f.opts.$orig.find("img:first"));f.$thumb&&!f.$thumb.length&&(f.$thumb=null);f.thumb=f.opts.thumb||(f.$thumb?f.$thumb[0].src:null);i.type(f.opts.caption)==="function"&&(f.opts.caption=f.opts.caption.apply(u,[t,f]));i.type(t.opts.caption)==="function"&&(f.opts.caption=t.opts.caption.apply(u,[t,f]));f.opts.caption instanceof i||(f.opts.caption=f.opts.caption===r?"":f.opts.caption+"");f.type==="ajax"&&(l=h.split(/\s+/,2),l.length>1&&(f.src=l.shift(),f.opts.filter=l.shift()));f.opts.modal&&(f.opts=i.extend(!0,f.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1}));t.group.push(f)});Object.keys(t.slides).length&&(t.updateControls(),u=t.Thumbs,u&&u.isActive&&(u.create(),u.focus()))},addEvents:function(){var t=this;t.removeEvents();t.$refs.container.on("click.fb-close","[data-fancybox-close]",function(n){n.stopPropagation();n.preventDefault();t.close(n)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(n){n.stopPropagation();n.preventDefault();t.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(n){n.stopPropagation();n.preventDefault();t.next()}).on("click.fb","[data-fancybox-zoom]",function(){t[t.isScaledDown()?"scaleToActual":"scaleToFit"]()});o.on("orientationchange.fb resize.fb",function(n){n&&n.originalEvent&&n.originalEvent.type==="resize"?(t.requestId&&p(t.requestId),t.requestId=l(function(){t.update(n)})):(t.current&&t.current.type==="iframe"&&t.$refs.stage.hide(),setTimeout(function(){t.$refs.stage.show();t.update(n)},i.fancybox.isMobile?600:250))});u.on("keydown.fb",function(n){var f=i.fancybox?i.fancybox.getInstance():null,u=f.current,r=n.keyCode||n.which;if(r==9){u.opts.trapFocus&&t.focus(n);return}if(u.opts.keyboard&&!n.ctrlKey&&!n.altKey&&!n.shiftKey&&!i(n.target).is("input,textarea,video,audio")){if(r===8||r===27){n.preventDefault();t.close(n);return}if(r===37||r===38){n.preventDefault();t.previous();return}if(r===39||r===40){n.preventDefault();t.next();return}t.trigger("afterKeydown",n,r)}});if(t.group[t.currIndex].opts.idleTime){t.idleSecondsCounter=0;u.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){t.idleSecondsCounter=0;t.isIdle&&t.showControls();t.isIdle=!1});t.idleInterval=n.setInterval(function(){t.idleSecondsCounter++;t.idleSecondsCounter>=t.group[t.currIndex].opts.idleTime&&!t.isDragging&&(t.isIdle=!0,t.idleSecondsCounter=0,t.hideControls())},1e3)}},removeEvents:function(){var t=this;o.off("orientationchange.fb resize.fb");u.off("keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");t.idleInterval&&(n.clearInterval(t.idleInterval),t.idleInterval=null)},previous:function(n){return this.jumpTo(this.currPos-1,n)},next:function(n){return this.jumpTo(this.currPos+1,n)},jumpTo:function(n,t){var u=this,l=u.group.length,h,v,c,e,o,s,y,a,p;if(!u.isDragging&&!u.isClosing&&(!u.isAnimating||!u.firstRun)){if(n=parseInt(n,10),c=u.current?u.current.opts.loop:u.opts.loop,!c&&(n<0||n>=l))return!1;if(h=u.firstRun=!Object.keys(u.slides).length,o=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,e=u.createSlide(n),l>1&&((c||e.index<l-1)&&u.createSlide(n+1),(c||e.index>0)&&u.createSlide(n-1)),u.current=e,u.currIndex=e.index,u.currPos=e.pos,u.trigger("beforeShow",h),u.updateControls(),e.forcedDuration=r,i.isNumeric(t)?e.forcedDuration=t:t=e.opts[h?"animationDuration":"transitionDuration"],t=parseInt(t,10),v=u.isMoved(e),e.$slide.addClass("fancybox-slide--current"),h){e.opts.animationEffect&&t&&u.$refs.container.css("transition-duration",t+"ms");u.$refs.container.addClass("fancybox-is-open").trigger("focus");u.loadSlide(e);u.preload("image");return}s=i.fancybox.getTranslate(o.$slide);y=i.fancybox.getTranslate(u.$refs.stage);i.each(u.slides,function(n,t){i.fancybox.stop(t.$slide,!0)});o.pos!==e.pos&&(o.isComplete=!1);o.$slide.removeClass("fancybox-slide--complete fancybox-slide--current");v?(p=s.left-(o.pos*s.width+o.pos*o.opts.gutter),i.each(u.slides,function(n,r){r.$slide.removeClass("fancybox-animated").removeClass(function(n,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var o=r.pos*s.width+r.pos*r.opts.gutter;i.fancybox.setTranslate(r.$slide,{top:0,left:o-y.left+p});r.pos!==e.pos&&r.$slide.addClass("fancybox-slide--"+(r.pos>e.pos?"next":"previous"));f(r.$slide);i.fancybox.animate(r.$slide,{top:0,left:(r.pos-e.pos)*s.width+(r.pos-e.pos)*r.opts.gutter},t,function(){r.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous");r.pos===u.currPos&&u.complete()})})):t&&e.opts.transitionEffect&&(a="fancybox-animated fancybox-fx-"+e.opts.transitionEffect,o.$slide.addClass("fancybox-slide--"+(o.pos>e.pos?"next":"previous")),i.fancybox.animate(o.$slide,a,t,function(){o.$slide.removeClass(a).removeClass("fancybox-slide--next fancybox-slide--previous")},!1));e.isLoaded?u.revealContent(e):u.loadSlide(e);u.preload("image")}},createSlide:function(n){var t=this,u,r;return r=n%t.group.length,r=r<0?t.group.length+r:r,!t.slides[n]&&t.group[r]&&(u=i('<div class="fancybox-slide"><\/div>').appendTo(t.$refs.stage),t.slides[n]=i.extend(!0,{},t.group[r],{pos:n,$slide:u,isLoaded:!1}),t.updateSlide(t.slides[n])),t.slides[n]},scaleToActual:function(n,t,u){var e=this,f=e.current,y=f.$content,a=i.fancybox.getTranslate(f.$slide).width,v=i.fancybox.getTranslate(f.$slide).height,c=f.width,l=f.height,o,s,h,p,w;e.isAnimating||e.isMoved()||!y||f.type!="image"||!f.isLoaded||f.hasError||(e.isAnimating=!0,i.fancybox.stop(y),n=n===r?a*.5:n,t=t===r?v*.5:t,o=i.fancybox.getTranslate(y),o.top-=i.fancybox.getTranslate(f.$slide).top,o.left-=i.fancybox.getTranslate(f.$slide).left,p=c/o.width,w=l/o.height,s=a*.5-c*.5,h=v*.5-l*.5,c>a&&(s=o.left*p-(n*p-n),s>0&&(s=0),s<a-c&&(s=a-c)),l>v&&(h=o.top*w-(t*w-t),h>0&&(h=0),h<v-l&&(h=v-l)),e.updateCursor(c,l),i.fancybox.animate(y,{top:h,left:s,scaleX:p,scaleY:w},u||366,function(){e.isAnimating=!1}),e.SlideShow&&e.SlideShow.isActive&&e.SlideShow.stop())},scaleToFit:function(n){var t=this,u=t.current,f=u.$content,r;t.isAnimating||t.isMoved()||!f||u.type!="image"||!u.isLoaded||u.hasError||(t.isAnimating=!0,i.fancybox.stop(f),r=t.getFitPos(u),t.updateCursor(r.width,r.height),i.fancybox.animate(f,{top:r.top,left:r.left,scaleX:r.width/f.width(),scaleY:r.height/f.height()},n||366,function(){t.isAnimating=!1}))},getFitPos:function(n){var l=this,e=n.$content,o=n.$slide,t=n.width||n.opts.width,r=n.height||n.opts.height,u,f,c,s,h={};return!n.isLoaded||!e||!e.length?!1:(u=i.fancybox.getTranslate(l.$refs.stage).width,f=i.fancybox.getTranslate(l.$refs.stage).height,u-=parseFloat(o.css("paddingLeft"))+parseFloat(o.css("paddingRight"))+parseFloat(e.css("marginLeft"))+parseFloat(e.css("marginRight")),f-=parseFloat(o.css("paddingTop"))+parseFloat(o.css("paddingBottom"))+parseFloat(e.css("marginTop"))+parseFloat(e.css("marginBottom")),t&&r||(t=u,r=f),c=Math.min(1,u/t,f/r),t=c*t,r=c*r,t>u-.5&&(t=u),r>f-.5&&(r=f),n.type==="image"?(h.top=Math.floor((f-r)*.5)+parseFloat(o.css("paddingTop")),h.left=Math.floor((u-t)*.5)+parseFloat(o.css("paddingLeft"))):n.contentType==="video"&&(s=n.opts.width&&n.opts.height?t/r:n.opts.ratio||16/9,r>t/s?r=t/s:t>r*s&&(t=r*s)),h.width=t,h.height=r,h)},update:function(n){var t=this;i.each(t.slides,function(i,r){t.updateSlide(r,n)})},updateSlide:function(n,t){var r=this,f=n&&n.$content,e=n.width||n.opts.width,o=n.height||n.opts.height,u=n.$slide;r.adjustCaption(n);f&&(e||o||n.contentType==="video")&&!n.hasError&&(i.fancybox.stop(f),i.fancybox.setTranslate(f,r.getFitPos(n)),n.pos===r.currPos&&(r.isAnimating=!1,r.updateCursor()));r.adjustLayout(n);u.length&&(u.trigger("refresh"),n.pos===r.currPos&&r.$refs.toolbar.add(r.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",u.get(0).scrollHeight>u.get(0).clientHeight));r.trigger("onUpdate",n,t)},centerSlide:function(n){var u=this,f=u.current,t=f.$slide;!u.isClosing&&f&&(t.siblings().css({transform:"",opacity:""}),t.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),i.fancybox.animate(t,{top:0,left:0,opacity:1},n===r?0:n,function(){t.css({transform:"",opacity:""});f.isComplete||u.complete()},!1))},isMoved:function(n){var t=n||this.current,r,u;return t?(u=i.fancybox.getTranslate(this.$refs.stage),r=i.fancybox.getTranslate(t.$slide),!t.$slide.hasClass("fancybox-animated")&&(Math.abs(r.top-u.top)>.5||Math.abs(r.left-u.left)>.5)):!1},updateCursor:function(n,t){var u=this,r=u.current,f=u.$refs.container,o,e;r&&!u.isClosing&&u.Guestures&&(f.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=u.canPan(n,t),e=o?!0:u.isZoomable(),f.toggleClass("fancybox-is-zoomable",e),i("[data-fancybox-zoom]").prop("disabled",!e),o?f.addClass("fancybox-can-pan"):e&&(r.opts.clickContent==="zoom"||i.isFunction(r.opts.clickContent)&&r.opts.clickContent(r)=="zoom")?f.addClass("fancybox-can-zoomIn"):r.opts.touch&&(r.opts.touch.vertical||u.group.length>1)&&r.contentType!=="video"&&f.addClass("fancybox-can-swipe"))},isZoomable:function(){var i=this,n=i.current,t;return n&&!i.isClosing&&n.type==="image"&&!n.hasError&&(!n.isLoaded||(t=i.getFitPos(n),t&&(n.width>t.width||n.height>t.height)))?!0:!1},isScaledDown:function(n,t){var o=this,u=!1,f=o.current,e=f.$content;return n!==r&&t!==r?u=n<f.width&&t<f.height:e&&(u=i.fancybox.getTranslate(e),u=u.width<f.width&&u.height<f.height),u},canPan:function(n,t){var o=this,u=o.current,e=null,f=!1;return u.type==="image"&&(u.isComplete||n&&t)&&!u.hasError&&(f=o.getFitPos(u),n!==r&&t!==r?e={width:n,height:t}:u.isComplete&&(e=i.fancybox.getTranslate(u.$content)),e&&f&&(f=Math.abs(e.width-f.width)>1.5||Math.abs(e.height-f.height)>1.5)),f},loadSlide:function(n){var t=this,u,r,f;if(!n.isLoading&&!n.isLoaded){if(n.isLoading=!0,t.trigger("beforeLoad",n)===!1)return n.isLoading=!1,!1;u=n.type;r=n.$slide;r.off("refresh").trigger("onReset").addClass(n.opts.slideClass);switch(u){case"image":t.setImage(n);break;case"iframe":t.setIframe(n);break;case"html":t.setContent(n,n.src||n.content);break;case"video":t.setContent(n,n.opts.video.tpl.replace(/\{\{src\}\}/gi,n.src).replace("{{format}}",n.opts.videoFormat||n.opts.video.format||"").replace("{{poster}}",n.thumb||""));break;case"inline":i(n.src).length?t.setContent(n,i(n.src)):t.setError(n);break;case"ajax":t.showLoading(n);f=i.ajax(i.extend({},n.opts.ajax.settings,{url:n.src,success:function(i,r){r==="success"&&t.setContent(n,i)},error:function(i,r){i&&r!=="abort"&&t.setError(n)}}));r.one("onReset",function(){f.abort()});break;default:t.setError(n)}return!0}},setImage:function(n){var r=this,u;setTimeout(function(){var t=n.$image;r.isClosing||!n.isLoading||t&&t.length&&t[0].complete||n.hasError||r.showLoading(n)},50);r.checkSrcset(n);n.$content=i('<div class="fancybox-content"><\/div>').addClass("fancybox-is-hidden").appendTo(n.$slide.addClass("fancybox-slide--image"));n.opts.preload!==!1&&n.opts.width&&n.opts.height&&n.thumb&&(n.width=n.opts.width,n.height=n.opts.height,u=t.createElement("img"),u.onerror=function(){i(this).remove();n.$ghost=null},u.onload=function(){r.afterLoad(n)},n.$ghost=i(u).addClass("fancybox-image").appendTo(n.$content).attr("src",n.thumb));r.setBigImage(n)},checkSrcset:function(t){var e=t.opts.srcset||t.opts.image.srcset,i,r,o,s,f,u;if(e){for(o=n.devicePixelRatio||1,s=n.innerWidth*o,r=e.split(",").map(function(n){var t={};return n.trim().split(/\s+/).forEach(function(n,i){var r=parseInt(n.substring(0,n.length-1),10);if(i===0)return t.url=n;r&&(t.value=r,t.postfix=n[n.length-1])}),t}),r.sort(function(n,t){return n.value-t.value}),f=0;f<r.length;f++)if(u=r[f],u.postfix==="w"&&u.value>=s||u.postfix==="x"&&u.value>=o){i=u;break}!i&&r.length&&(i=r[r.length-1]);i&&(t.src=i.url,t.width&&t.height&&i.postfix=="w"&&(t.height=t.width/t.height*i.value,t.width=i.value),t.opts.srcset=e)}},setBigImage:function(n){var r=this,f=t.createElement("img"),u=i(f);n.$image=u.one("error",function(){r.setError(n)}).one("load",function(){var t;(n.$ghost||(r.resolveImageSlideSize(n,this.naturalWidth,this.naturalHeight),r.afterLoad(n)),r.isClosing)||(n.opts.srcset&&(t=n.opts.sizes,t&&t!=="auto"||(t=(n.width/n.height>1&&o.width()/o.height()>1?"100":Math.round(n.width/n.height*100))+"vw"),u.attr("sizes",t).attr("srcset",n.opts.srcset)),n.$ghost&&setTimeout(function(){n.$ghost&&!r.isClosing&&n.$ghost.hide()},Math.min(300,Math.max(1e3,n.height/1600))),r.hideLoading(n))}).addClass("fancybox-image").attr("src",n.src).appendTo(n.$content);(f.complete||f.readyState=="complete")&&u.naturalWidth&&u.naturalHeight?u.trigger("load"):f.error&&u.trigger("error")},resolveImageSlideSize:function(n,t,i){var r=parseInt(n.opts.width,10),u=parseInt(n.opts.height,10);n.width=t;n.height=i;r>0&&(n.width=r,n.height=Math.floor(r*i/t));u>0&&(n.width=Math.floor(u*t/i),n.height=u)},setIframe:function(n){var e=this,t=n.opts.iframe,u=n.$slide,f;if(n.$content=i('<div class="fancybox-content'+(t.preload?" fancybox-is-hidden":"")+'"><\/div>').css(t.css).appendTo(u),u.addClass("fancybox-slide--"+n.contentType),n.$iframe=f=i(t.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(t.attr).appendTo(n.$content),t.preload){e.showLoading(n);f.on("load.fb error.fb",function(){this.isReady=1;n.$slide.trigger("refresh");e.afterLoad(n)});u.on("refresh.fb",function(){var e=n.$content,o=t.css.width,s=t.css.height,h,i;if(f[0].isReady===1){try{h=f.contents();i=h.find("body")}catch(c){}i&&i.length&&i.children().length&&(u.css("overflow","visible"),e.css({width:"100%","max-width":"100%",height:"9999px"}),o===r&&(o=Math.ceil(Math.max(i[0].clientWidth,i.outerWidth(!0)))),e.css("width",o?o:"").css("max-width",""),s===r&&(s=Math.ceil(Math.max(i[0].clientHeight,i.outerHeight(!0)))),e.css("height",s?s:""),u.css("overflow","auto"));e.removeClass("fancybox-is-hidden")}})}else e.afterLoad(n);f.attr("src",n.src);u.one("onReset",function(){try{i(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}i(this).off("refresh.fb").empty();n.isLoaded=!1;n.isRevealed=!1})},setContent:function(n,t){var r=this;if(!r.isClosing){r.hideLoading(n);n.$content&&i.fancybox.stop(n.$content);n.$slide.empty();y(t)&&t.parent().length?((t.hasClass("fancybox-content")||t.parent().hasClass("fancybox-content"))&&t.parents(".fancybox-slide").trigger("onReset"),n.$placeholder=i("<div>").hide().insertAfter(t),t.css("display","inline-block")):n.hasError||(i.type(t)==="string"&&(t=i("<div>").append(i.trim(t)).contents()),n.opts.filter&&(t=i("<div>").html(t).find(n.opts.filter)));n.$slide.one("onReset",function(){i(this).find("video,audio").trigger("pause");n.$placeholder&&(n.$placeholder.after(t.removeClass("fancybox-content").hide()).remove(),n.$placeholder=null);n.$smallBtn&&(n.$smallBtn.remove(),n.$smallBtn=null);n.hasError||(i(this).empty(),n.isLoaded=!1,n.isRevealed=!1)});i(t).appendTo(n.$slide);i(t).is("video,audio")&&(i(t).addClass("fancybox-video"),i(t).wrap("<div><\/div>"),n.contentType="video",n.opts.width=n.opts.width||i(t).attr("width"),n.opts.height=n.opts.height||i(t).attr("height"));n.$content=n.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first();n.$content.siblings().hide();n.$content.length||(n.$content=n.$slide.wrapInner("<div><\/div>").children().first());n.$content.addClass("fancybox-content");n.$slide.addClass("fancybox-slide--"+n.contentType);r.afterLoad(n)}},setError:function(n){n.hasError=!0;n.$slide.trigger("onReset").removeClass("fancybox-slide--"+n.contentType).addClass("fancybox-slide--error");n.contentType="html";this.setContent(n,this.translate(n,n.opts.errorTpl));n.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(n){var t=this;n=n||t.current;n&&!n.$spinner&&(n.$spinner=i(t.translate(t,t.opts.spinnerTpl)).appendTo(n.$slide).hide().fadeIn("fast"))},hideLoading:function(n){var t=this;n=n||t.current;n&&n.$spinner&&(n.$spinner.stop().remove(),delete n.$spinner)},afterLoad:function(n){var t=this;if(!t.isClosing){if(n.isLoading=!1,n.isLoaded=!0,t.trigger("afterLoad",n),t.hideLoading(n),!n.opts.smallBtn||n.$smallBtn&&n.$smallBtn.length||(n.$smallBtn=i(t.translate(n,n.opts.btnTpl.smallBtn)).appendTo(n.$content)),n.opts.protect&&n.$content&&!n.hasError){n.$content.on("contextmenu.fb",function(n){return n.button==2&&n.preventDefault(),!0});n.type==="image"&&i('<div class="fancybox-spaceball"><\/div>').appendTo(n.$content)}t.adjustCaption(n);t.adjustLayout(n);n.pos===t.currPos&&t.updateCursor();t.revealContent(n)}},adjustCaption:function(n){var i=this,r=n||i.current,u=r.opts.caption,t=i.$refs.caption,f=!1,e=r.opts.preventCaptionOverlap;t.toggleClass("fancybox-caption--separate",e);e&&u&&u.length&&(r.pos!==i.currPos?(t=t.clone().empty().appendTo(t.parent()),t.html(u),f=t.outerHeight(!0),t.empty().remove()):i.$caption&&(f=i.$caption.outerHeight(!0)),r.$slide.css("padding-bottom",f||""))},adjustLayout:function(n){var e=this,t=n||e.current,r,u,f,i;t.isLoaded&&t.opts.disableLayoutFix!==!0&&(t.$content.css("margin-bottom",""),t.$content.outerHeight()>t.$slide.height()+.5&&(f=t.$slide[0].style["padding-bottom"],i=t.$slide.css("padding-bottom"),parseFloat(i)>0&&(r=t.$slide[0].scrollHeight,t.$slide.css("padding-bottom",0),Math.abs(r-t.$slide[0].scrollHeight)<1&&(u=i),t.$slide.css("padding-bottom",f))),t.$content.css("margin-bottom",u))},revealContent:function(n){var t=this,h=n.$slide,u=!1,e=!1,a=t.isMoved(n),v=n.isRevealed,o,l,s,c;if(n.isRevealed=!0,o=n.opts[t.firstRun?"animationEffect":"transitionEffect"],s=n.opts[t.firstRun?"animationDuration":"transitionDuration"],s=parseInt(n.forcedDuration===r?s:n.forcedDuration,10),(a||n.pos!==t.currPos||!s)&&(o=!1),o==="zoom"&&(n.pos===t.currPos&&s&&n.type==="image"&&!n.hasError&&(e=t.getThumbPos(n))?u=t.getFitPos(n):o="fade"),o==="zoom"){t.isAnimating=!0;u.scaleX=u.width/e.width;u.scaleY=u.height/e.height;c=n.opts.zoomOpacity;c=="auto"&&(c=Math.abs(n.width/n.height-e.width/e.height)>.1);c&&(e.opacity=.1,u.opacity=1);i.fancybox.setTranslate(n.$content.removeClass("fancybox-is-hidden"),e);f(n.$content);i.fancybox.animate(n.$content,u,s,function(){t.isAnimating=!1;t.complete()});return}if(t.updateSlide(n),!o){n.$content.removeClass("fancybox-is-hidden");v||!a||n.type!=="image"||n.hasError||n.$content.hide().fadeIn("fast");n.pos===t.currPos&&t.complete();return}i.fancybox.stop(h);l="fancybox-slide--"+(n.pos>=t.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+o;h.addClass(l).removeClass("fancybox-slide--current");n.$content.removeClass("fancybox-is-hidden");f(h);n.type!=="image"&&n.$content.hide().show(0);i.fancybox.animate(h,"fancybox-slide--current",s,function(){h.removeClass(l).css({transform:"",opacity:""});n.pos===t.currPos&&t.complete()},!0)},getThumbPos:function(n){var e=!1,t=n.$thumb,r,u,o,s,f;return!t||!w(t[0])?!1:(r=i.fancybox.getTranslate(t),u=parseFloat(t.css("border-top-width")||0),o=parseFloat(t.css("border-right-width")||0),s=parseFloat(t.css("border-bottom-width")||0),f=parseFloat(t.css("border-left-width")||0),e={top:r.top+u,left:r.left+f,width:r.width-o-f,height:r.height-u-s,scaleX:1,scaleY:1},r.width>0&&r.height>0?e:!1)},complete:function(){var n=this,t=n.current,u={},r;if(!n.isMoved()&&t.isLoaded){if(t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),n.preload("inline"),f(t.$slide),t.$slide.addClass("fancybox-slide--complete"),i.each(n.slides,function(t,r){r.pos>=n.currPos-1&&r.pos<=n.currPos+1?u[r.pos]=r:r&&(i.fancybox.stop(r.$slide),r.$slide.off().remove())}),n.slides=u),n.isAnimating=!1,n.updateCursor(),n.trigger("afterShow"),!!t.opts.video.autoStart)t.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){this.webkitExitFullscreen&&this.webkitExitFullscreen();n.next()});t.opts.autoFocus&&t.contentType==="html"&&(r=t.$content.find("input[autofocus]:enabled:visible:first"),r.length?r.trigger("focus"):n.focus(null,!0));t.$slide.scrollTop(0).scrollLeft(0)}},preload:function(n){var t=this,i,r;t.group.length<2||(r=t.slides[t.currPos+1],i=t.slides[t.currPos-1],i&&i.type===n&&t.loadSlide(i),r&&r.type===n&&t.loadSlide(r))},focus:function(n,r){var f=this,o='a[href],area[href],input:not([disabled]):not([type="hidden"]):not([aria-hidden]),select:not([disabled]):not([aria-hidden]),textarea:not([disabled]):not([aria-hidden]),button:not([disabled]):not([aria-hidden]),iframe,object,embed,video,audio,[contenteditable],[tabindex]:not([tabindex^="-"])',u,e;f.isClosing||(u=!n&&f.current&&f.current.isComplete?f.current.$slide.find("*:visible"+(r?":not(.fancybox-close-small)":"")):f.$refs.container.find("*:visible"),u=u.filter(o).filter(function(){return i(this).css("visibility")!=="hidden"&&!i(this).hasClass("disabled")}),u.length?(e=u.index(t.activeElement),n&&n.shiftKey?(e<0||e==0)&&(n.preventDefault(),u.eq(u.length-1).trigger("focus")):(e<0||e==u.length-1)&&(n&&n.preventDefault(),u.eq(0).trigger("focus"))):f.$refs.container.trigger("focus"))},activate:function(){var n=this;i(".fancybox-container").each(function(){var t=i(this).data("FancyBox");t&&t.id!==n.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)});n.isVisible=!0;(n.current||n.isIdle)&&(n.update(),n.updateControls());n.trigger("onActivate");n.addEvents()},close:function(n,t){var r=this,u=r.current,o,s,h,c,a,y,e,v=function(){r.cleanUp(n)};return r.isClosing?!1:(r.isClosing=!0,r.trigger("beforeClose",n)===!1)?(r.isClosing=!1,l(function(){r.update()}),!1):(r.removeEvents(),h=u.$content,o=u.opts.animationEffect,s=i.isNumeric(t)?t:o?u.opts.animationDuration:0,u.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),n!==!0?i.fancybox.stop(u.$slide):o=!1,u.$slide.siblings().trigger("onReset").remove(),s&&r.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",s+"ms"),r.hideLoading(u),r.hideControls(!0),r.updateCursor(),o!=="zoom"||h&&s&&u.type==="image"&&!r.isMoved()&&!u.hasError&&(e=r.getThumbPos(u))||(o="fade"),o==="zoom")?(i.fancybox.stop(h),c=i.fancybox.getTranslate(h),y={top:c.top,left:c.left,scaleX:c.width/e.width,scaleY:c.height/e.height,width:e.width,height:e.height},a=u.opts.zoomOpacity,a=="auto"&&(a=Math.abs(u.width/u.height-e.width/e.height)>.1),a&&(e.opacity=0),i.fancybox.setTranslate(h,y),f(h),i.fancybox.animate(h,e,s,v),!0):(o&&s?i.fancybox.animate(u.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+o,s,v):n===!0?setTimeout(v,s):v(),!0)},cleanUp:function(t){var r=this,f,u=r.current.opts.$orig,e,o;r.current.$slide.trigger("onReset");r.$refs.container.empty().remove();r.trigger("afterClose",t);!r.current.opts.backFocus||(u&&u.length&&u.is(":visible")||(u=r.$trigger),u&&u.length&&(e=n.scrollX,o=n.scrollY,u.trigger("focus"),i("html, body").scrollTop(o).scrollLeft(e)));r.current=null;f=i.fancybox.getInstance();f?f.activate():(i("body").removeClass("fancybox-active compensate-for-scrollbar"),i("#fancybox-style-noscroll").remove())},trigger:function(n,t){var f=Array.prototype.slice.call(arguments,1),e=this,r=t&&t.opts?t:e.current,o;if(r?f.unshift(r):r=e,f.unshift(e),i.isFunction(r.opts[n])&&(o=r.opts[n].apply(r,f)),o===!1)return o;n!=="afterClose"&&e.$refs?e.$refs.container.trigger(n+".fb",f):u.trigger(n+".fb",f)},updateControls:function(){var n=this,r=n.current,f=r.index,u=n.$refs.container,o=n.$refs.caption,e=r.opts.caption;r.$slide.trigger("refresh");n.$caption=e&&e.length?o.html(e):null;n.hasHiddenControls||n.isIdle||n.showControls();u.find("[data-fancybox-count]").html(n.group.length);u.find("[data-fancybox-index]").html(f+1);u.find("[data-fancybox-prev]").prop("disabled",!r.opts.loop&&f<=0);u.find("[data-fancybox-next]").prop("disabled",!r.opts.loop&&f>=n.group.length-1);r.type==="image"?u.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",r.opts.image.src||r.src).show():r.opts.toolbar&&u.find("[data-fancybox-download],[data-fancybox-zoom]").hide();i(t.activeElement).is(":hidden,[disabled]")&&n.$refs.container.trigger("focus")},hideControls:function(n){var i=this,t=["infobar","toolbar","nav"];(n||!i.current.opts.preventCaptionOverlap)&&t.push("caption");this.$refs.container.removeClass(t.map(function(n){return"fancybox-show-"+n}).join(" "));this.hasHiddenControls=!0},showControls:function(){var n=this,t=n.current?n.current.opts:n.opts,i=n.$refs.container;n.hasHiddenControls=!1;n.idleSecondsCounter=0;i.toggleClass("fancybox-show-toolbar",!!(t.toolbar&&t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&n.group.length>1)).toggleClass("fancybox-show-caption",!!n.$caption).toggleClass("fancybox-show-nav",!!(t.arrows&&n.group.length>1)).toggleClass("fancybox-is-modal",!!t.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}});i.fancybox={version:"3.5.3",defaults:a,getInstance:function(n){var t=i('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),r=Array.prototype.slice.call(arguments,1);return t instanceof h?(i.type(n)==="string"?t[n].apply(t,r):i.type(n)==="function"&&n.apply(t,r),t):!1},open:function(n,t,i){return new h(n,t,i)},close:function(n){var t=this.getInstance();t&&(t.close(),n===!0&&this.close(n))},destroy:function(){this.close(!0);u.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var i=t.createElement("div");return n.getComputedStyle&&n.getComputedStyle(i)&&n.getComputedStyle(i).getPropertyValue("transform")&&!(t.documentMode&&t.documentMode<11)}(),getTranslate:function(n){var t;return!n||!n.length?!1:(t=n[0].getBoundingClientRect(),{top:t.top||0,left:t.left||0,width:t.width,height:t.height,opacity:parseFloat(n.css("opacity"))})},setTranslate:function(n,t){var i="",u={};if(n&&t)return(t.left!==r||t.top!==r)&&(i=(t.left===r?n.position().left:t.left)+"px, "+(t.top===r?n.position().top:t.top)+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),t.scaleX!==r&&t.scaleY!==r?i+=" scale("+t.scaleX+", "+t.scaleY+")":t.scaleX!==r&&(i+=" scaleX("+t.scaleX+")"),i.length&&(u.transform=i),t.opacity!==r&&(u.opacity=t.opacity),t.width!==r&&(u.width=t.width),t.height!==r&&(u.height=t.height),n.css(u)},animate:function(n,t,u,f,e){var o=this,h;i.isFunction(u)&&(f=u,u=null);o.stop(n);h=o.getTranslate(n);n.on(s,function(s){s&&s.originalEvent&&(!n.is(s.originalEvent.target)||s.originalEvent.propertyName=="z-index")||(o.stop(n),i.isNumeric(u)&&n.css("transition-duration",""),i.isPlainObject(t)?t.scaleX!==r&&t.scaleY!==r&&o.setTranslate(n,{top:t.top,left:t.left,width:h.width*t.scaleX,height:h.height*t.scaleY,scaleX:1,scaleY:1}):e!==!0&&n.removeClass(t),i.isFunction(f)&&f(s))});i.isNumeric(u)&&n.css("transition-duration",u+"ms");i.isPlainObject(t)?(t.scaleX!==r&&t.scaleY!==r&&(delete t.width,delete t.height,n.parent().hasClass("fancybox-slide--image")&&n.parent().addClass("fancybox-is-scaling")),i.fancybox.setTranslate(n,t)):n.addClass(t);n.data("timer",setTimeout(function(){n.trigger(s)},u+33))},stop:function(n,t){n&&n.length&&(clearTimeout(n.data("timer")),t&&n.trigger(s),n.off(s).css("transition-duration",""),n.parent().removeClass("fancybox-is-scaling"))}};i.fn.fancybox=function(n){var t;if(n=n||{},t=n.selector||!1,t)i("body").off("click.fb-start",t).on("click.fb-start",t,{options:n},c);else this.off("click.fb-start").on("click.fb-start",{items:this,options:n},c);return this};u.on("click.fb-start","[data-fancybox]",c);u.on("click.fb-start","[data-fancybox-trigger]",function(){i('[data-fancybox="'+i(this).attr("data-fancybox-trigger")+'"]').eq(i(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:i(this)})});(function(){var n=".fancybox-button",t="fancybox-focus",r=null;u.on("mousedown mouseup focus blur",n,function(u){switch(u.type){case"mousedown":r=i(this);break;case"mouseup":r=null;break;case"focusin":i(n).removeClass(t);i(this).is(r)||i(this).is("[disabled]")||i(this).addClass(t);break;case"focusout":i(n).removeClass(t)}})})()}}(window,document,jQuery),function(n){"use strict";var r={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(n){return"//maps.google."+n[2]+"/?ll="+(n[9]?n[9]+"&z="+Math.floor(n[10])+(n[12]?n[12].replace(/^\//,"&"):""):n[12]+"").replace(/\?/,"&")+"&output="+(n[12]&&n[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(n){return"//maps.google."+n[2]+"/maps?q="+n[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},t=function(t,i,r){if(t)return r=r||"",n.type(r)==="object"&&(r=n.param(r,!0)),n.each(i,function(n,i){t=t.replace("$"+n,i||"")}),r.length&&(t+=(t.indexOf("?")>0?"&":"?")+r),t},i;n(document).on("objectNeedsType.fb",function(i,u,f){var e=f.src||"",h=!1,v,y,o,c,s,a,l;v=n.extend(!0,{},r,f.opts.media);n.each(v,function(i,r){var u,v;if(o=e.match(r.matcher),o){if(h=r.type,l=i,a={},r.paramPlace&&o[r.paramPlace])for(s=o[r.paramPlace],s[0]=="?"&&(s=s.substring(1)),s=s.split("&"),u=0;u<s.length;++u)v=s[u].split("=",2),v.length==2&&(a[v[0]]=decodeURIComponent(v[1].replace(/\+/g," ")));return c=n.extend(!0,{},r.params,f.opts[i],a),e=n.type(r.url)==="function"?r.url.call(this,o,c,f):t(r.url,o,c),y=n.type(r.thumb)==="function"?r.thumb.call(this,o,c,f):t(r.thumb,o),i==="youtube"?e=e.replace(/&t=((\d+)m)?(\d+)s/,function(n,t,i,r){return"&start="+((i?parseInt(i,10)*60:0)+parseInt(r,10))}):i==="vimeo"&&(e=e.replace("&%23","#")),!1}});h?(f.opts.thumb||f.opts.$thumb&&f.opts.$thumb.length||(f.opts.thumb=y),h==="iframe"&&(f.opts=n.extend(!0,f.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),n.extend(f,{type:h,src:e,origSrc:f.src,contentSource:l,contentType:h==="image"?"image":l=="gmap_place"||l=="gmap_search"?"map":"video"})):e&&(f.type=f.opts.defaultType)});i={youtube:{src:"https://www.youtube.com/iframe_api","class":"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js","class":"Vimeo",loading:!1,loaded:!1},load:function(n){var t=this,i;if(this[n].loaded){setTimeout(function(){t.done(n)});return}this[n].loading||(this[n].loading=!0,i=document.createElement("script"),i.type="text/javascript",i.src=this[n].src,n==="youtube"?window.onYouTubeIframeAPIReady=function(){t[n].loaded=!0;t.done(n)}:i.onload=function(){t[n].loaded=!0;t.done(n)},document.body.appendChild(i))},done:function(t){var i,r,u;if(t==="youtube"&&delete window.onYouTubeIframeAPIReady,i=n.fancybox.getInstance(),i)if(r=i.current.$content.find("iframe"),t==="youtube"&&YT!==undefined&&YT)u=new YT.Player(r.attr("id"),{events:{onStateChange:function(n){n.data==0&&i.next()}}});else if(t==="vimeo"&&Vimeo!==undefined&&Vimeo){u=new Vimeo.Player(r);u.on("ended",function(){i.next()})}}};n(document).on({"afterShow.fb":function(n,t,r){t.group.length>1&&(r.contentSource==="youtube"||r.contentSource==="vimeo")&&i.load(r.contentSource)}})}(jQuery),function(n,t,i){"use strict";var o=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||function(t){return n.setTimeout(t,1e3/60)}}(),f=function(){return n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||function(t){n.clearTimeout(t)}}(),e=function(t){var r=[],i;t=t.originalEvent||t||n.e;t=t.touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t];for(i in t)t[i].pageX?r.push({x:t[i].pageX,y:t[i].pageY}):t[i].clientX&&r.push({x:t[i].clientX,y:t[i].clientY});return r},u=function(n,t,i){return!t||!n?0:i==="x"?n.x-t.x:i==="y"?n.y-t.y:Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},s=function(n){if(n.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||i.isFunction(n.get(0).onclick)||n.data("selectable"))return!0;for(var t=0,r=n[0].attributes,u=r.length;t<u;t++)if(r[t].nodeName.substr(0,14)==="data-fancybox-")return!0;return!1},c=function(t){var i=n.getComputedStyle(t)["overflow-y"],r=n.getComputedStyle(t)["overflow-x"],u=(i==="scroll"||i==="auto")&&t.scrollHeight>t.clientHeight,f=(r==="scroll"||r==="auto")&&t.scrollWidth>t.clientWidth;return u||f},h=function(n){for(var t=!1;;){if(t=c(n.get(0)),t)break;if(n=n.parent(),!n.length||n.hasClass("fancybox-stage")||n.is("body"))break}return t},r=function(n){var t=this;t.instance=n;t.$bg=n.$refs.bg;t.$stage=n.$refs.stage;t.$container=n.$refs.container;t.destroy();t.$container.on("touchstart.fb.touch mousedown.fb.touch",i.proxy(t,"ontouchstart"))};r.prototype.destroy=function(){var n=this;n.$container.off(".fb.touch");i(t).off(".fb.touch");n.requestId&&(f(n.requestId),n.requestId=null);n.tapped&&(clearTimeout(n.tapped),n.tapped=null)};r.prototype.ontouchstart=function(r){var f=this,o=i(r.target),l=f.instance,c=l.current,a=c.$slide,y=c.$content,v=r.type=="touchstart";if((v&&f.$container.off("mousedown.fb.touch"),!r.originalEvent||r.originalEvent.button!=2)&&a.length&&o.length&&!s(o)&&!s(o.parent())&&(o.is("img")||!(r.originalEvent.clientX>o[0].clientWidth+o.offset().left))){if(!c||l.isAnimating||c.$slide.hasClass("fancybox-animated")){r.stopPropagation();r.preventDefault();return}if(f.realPoints=f.startPoints=e(r),f.startPoints.length){c.touch&&r.stopPropagation();f.startEvent=r;f.canTap=!0;f.$target=o;f.$content=y;f.opts=c.opts.touch;f.isPanning=!1;f.isSwiping=!1;f.isZooming=!1;f.isScrolling=!1;f.canPan=l.canPan();f.startTime=(new Date).getTime();f.distanceX=f.distanceY=f.distance=0;f.canvasWidth=Math.round(a[0].clientWidth);f.canvasHeight=Math.round(a[0].clientHeight);f.contentLastPos=null;f.contentStartPos=i.fancybox.getTranslate(f.$content)||{top:0,left:0};f.sliderStartPos=i.fancybox.getTranslate(a);f.stagePos=i.fancybox.getTranslate(l.$refs.stage);f.sliderStartPos.top-=f.stagePos.top;f.sliderStartPos.left-=f.stagePos.left;f.contentStartPos.top-=f.stagePos.top;f.contentStartPos.left-=f.stagePos.left;i(t).off(".fb.touch").on(v?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",i.proxy(f,"ontouchend")).on(v?"touchmove.fb.touch":"mousemove.fb.touch",i.proxy(f,"ontouchmove"));(i.fancybox.isMobile&&t.addEventListener("scroll",f.onscroll,!0),(f.opts||f.canPan)&&(o.is(f.$stage)||f.$stage.find(o).length)||(o.is(".fancybox-image")&&r.preventDefault(),i.fancybox.isMobile&&o.hasClass("fancybox-caption")))&&(f.isScrollable=h(o)||h(o.parent()),i.fancybox.isMobile&&f.isScrollable||r.preventDefault(),(f.startPoints.length===1||c.hasError)&&(f.canPan?(i.fancybox.stop(f.$content),f.isPanning=!0):f.isSwiping=!0,f.$container.addClass("fancybox-is-grabbing")),f.startPoints.length===2&&c.type==="image"&&(c.isLoaded||c.$ghost)&&(f.canTap=!1,f.isSwiping=!1,f.isPanning=!1,f.isZooming=!0,i.fancybox.stop(f.$content),f.centerPointStartX=(f.startPoints[0].x+f.startPoints[1].x)*.5-i(n).scrollLeft(),f.centerPointStartY=(f.startPoints[0].y+f.startPoints[1].y)*.5-i(n).scrollTop(),f.percentageOfImageAtPinchPointX=(f.centerPointStartX-f.contentStartPos.left)/f.contentStartPos.width,f.percentageOfImageAtPinchPointY=(f.centerPointStartY-f.contentStartPos.top)/f.contentStartPos.height,f.startDistanceBetweenFingers=u(f.startPoints[0],f.startPoints[1])))}}};r.prototype.onscroll=function(){var n=this;n.isScrolling=!0;t.removeEventListener("scroll",n.onscroll,!0)};r.prototype.ontouchmove=function(n){var t=this;if(n.originalEvent.buttons!==undefined&&n.originalEvent.buttons===0){t.ontouchend(n);return}if(t.isScrolling){t.canTap=!1;return}if((t.newPoints=e(n),(t.opts||t.canPan)&&t.newPoints.length&&t.newPoints.length)&&(t.isSwiping&&t.isSwiping===!0||n.preventDefault(),t.distanceX=u(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=u(t.newPoints[0],t.startPoints[0],"y"),t.distance=u(t.newPoints[0],t.startPoints[0]),t.distance>0))if(t.isSwiping)t.onSwipe(n);else t.isPanning?t.onPan():t.isZooming&&t.onZoom()};r.prototype.onSwipe=function(){var t=this,r=t.instance,e=t.isSwiping,u=t.sliderStartPos.left||0,s;if(e===!0){if(Math.abs(t.distance)>10){if(t.canTap=!1,r.group.length<2&&t.opts.vertical?t.isSwiping="y":r.isDragging||t.opts.vertical===!1||t.opts.vertical==="auto"&&i(n).width()>800?t.isSwiping="x":(s=Math.abs(Math.atan2(t.distanceY,t.distanceX)*180/Math.PI),t.isSwiping=s>45&&s<135?"y":"x"),t.isSwiping==="y"&&i.fancybox.isMobile&&t.isScrollable){t.isScrolling=!0;return}r.isDragging=t.isSwiping;t.startPoints=t.newPoints;i.each(r.slides,function(n,u){var f,e;i.fancybox.stop(u.$slide);f=i.fancybox.getTranslate(u.$slide);e=i.fancybox.getTranslate(r.$refs.stage);u.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(n,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});u.pos===r.current.pos&&(t.sliderStartPos.top=f.top-e.top,t.sliderStartPos.left=f.left-e.left);i.fancybox.setTranslate(u.$slide,{top:f.top-e.top,left:f.left-e.left})});r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}return}e=="x"&&(u=t.distanceX>0&&(t.instance.group.length<2||t.instance.current.index===0&&!t.instance.current.opts.loop)?u+Math.pow(t.distanceX,.8):t.distanceX<0&&(t.instance.group.length<2||t.instance.current.index===t.instance.group.length-1&&!t.instance.current.opts.loop)?u-Math.pow(-t.distanceX,.8):u+t.distanceX);t.sliderLastPos={top:e=="x"?0:t.sliderStartPos.top+t.distanceY,left:u};t.requestId&&(f(t.requestId),t.requestId=null);t.requestId=o(function(){t.sliderLastPos&&(i.each(t.instance.slides,function(n,r){var u=r.pos-t.instance.currPos;i.fancybox.setTranslate(r.$slide,{top:t.sliderLastPos.top,left:t.sliderLastPos.left+u*t.canvasWidth+u*r.opts.gutter})}),t.$container.addClass("fancybox-is-sliding"))})};r.prototype.onPan=function(){var n=this;if(u(n.newPoints[0],n.realPoints[0])<(i.fancybox.isMobile?10:5)){n.startPoints=n.newPoints;return}n.canTap=!1;n.contentLastPos=n.limitMovement();n.requestId&&f(n.requestId);n.requestId=o(function(){i.fancybox.setTranslate(n.$content,n.contentLastPos)})};r.prototype.limitMovement=function(){var i=this,f=i.canvasWidth,v=i.canvasHeight,r=i.distanceX,u=i.distanceY,e=i.contentStartPos,o=e.left,y=e.top,s=e.width,p=e.height,h,c,l,a,n,t;return n=s>f?o+r:o,t=y+u,h=Math.max(0,f*.5-s*.5),c=Math.max(0,v*.5-p*.5),l=Math.min(f-s,f*.5-s*.5),a=Math.min(v-p,v*.5-p*.5),r>0&&n>h&&(n=h-1+Math.pow(-h+o+r,.8)||0),r<0&&n<l&&(n=l+1-Math.pow(l-o-r,.8)||0),u>0&&t>c&&(t=c-1+Math.pow(-c+y+u,.8)||0),u<0&&t<a&&(t=a+1-Math.pow(a-y-u,.8)||0),{top:t,left:n}};r.prototype.limitPosition=function(n,t,i,r){var e=this,u=e.canvasWidth,f=e.canvasHeight;return i>u?(n=n>0?0:n,n=n<u-i?u-i:n):n=Math.max(0,u/2-i/2),r>f?(t=t>0?0:t,t=t<f-r?f-r:t):t=Math.max(0,f/2-r/2),{top:t,left:n}};r.prototype.onZoom=function(){var t=this,r=t.contentStartPos,s=r.width,h=r.height,a=r.left,v=r.top,y=u(t.newPoints[0],t.newPoints[1]),e=y/t.startDistanceBetweenFingers,c=Math.floor(s*e),l=Math.floor(h*e),p=(s-c)*t.percentageOfImageAtPinchPointX,w=(h-l)*t.percentageOfImageAtPinchPointY,b=(t.newPoints[0].x+t.newPoints[1].x)/2-i(n).scrollLeft(),k=(t.newPoints[0].y+t.newPoints[1].y)/2-i(n).scrollTop(),d=b-t.centerPointStartX,g=k-t.centerPointStartY,nt=a+(p+d),tt=v+(w+g),it={top:tt,left:nt,scaleX:e,scaleY:e};t.canTap=!1;t.newWidth=c;t.newHeight=l;t.contentLastPos=it;t.requestId&&f(t.requestId);t.requestId=o(function(){i.fancybox.setTranslate(t.$content,t.contentLastPos)})};r.prototype.ontouchend=function(n){var r=this,u=r.isSwiping,o=r.isPanning,s=r.isZooming,h=r.isScrolling;if(r.endPoints=e(n),r.dMs=Math.max((new Date).getTime()-r.startTime,1),r.$container.removeClass("fancybox-is-grabbing"),i(t).off(".fb.touch"),t.removeEventListener("scroll",r.onscroll,!0),r.requestId&&(f(r.requestId),r.requestId=null),r.isSwiping=!1,r.isPanning=!1,r.isZooming=!1,r.isScrolling=!1,r.instance.isDragging=!1,r.canTap)return r.onTap(n);r.speed=100;r.velocityX=r.distanceX/r.dMs*.5;r.velocityY=r.distanceY/r.dMs*.5;o?r.endPanning():s?r.endZooming():r.endSwiping(u,h);return};r.prototype.endSwiping=function(n,t){var r=this,u=!1,s=r.instance.group.length,f=Math.abs(r.distanceX),e=n=="x"&&s>1&&(r.dMs>130&&f>10||f>50),o=300;r.sliderLastPos=null;n=="y"&&!t&&Math.abs(r.distanceY)>50?(i.fancybox.animate(r.instance.current.$slide,{top:r.sliderStartPos.top+r.distanceY+r.velocityY*150,opacity:0},200),u=r.instance.close(!0,250)):e&&r.distanceX>0?u=r.instance.previous(o):e&&r.distanceX<0&&(u=r.instance.next(o));u===!1&&(n=="x"||n=="y")&&r.instance.centerSlide(200);r.$container.removeClass("fancybox-is-sliding")};r.prototype.endPanning=function(){var n=this,r,u,t;n.contentLastPos&&(n.opts.momentum===!1||n.dMs>350?(r=n.contentLastPos.left,u=n.contentLastPos.top):(r=n.contentLastPos.left+n.velocityX*500,u=n.contentLastPos.top+n.velocityY*500),t=n.limitPosition(r,u,n.contentStartPos.width,n.contentStartPos.height),t.width=n.contentStartPos.width,t.height=n.contentStartPos.height,i.fancybox.animate(n.$content,t,366))};r.prototype.endZooming=function(){var n=this,e=n.instance.current,u,f,o,s,t=n.newWidth,r=n.newHeight;n.contentLastPos&&(u=n.contentLastPos.left,f=n.contentLastPos.top,s={top:f,left:u,width:t,height:r,scaleX:1,scaleY:1},i.fancybox.setTranslate(n.$content,s),t<n.canvasWidth&&r<n.canvasHeight?n.instance.scaleToFit(150):t>e.width||r>e.height?n.instance.scaleToActual(n.centerPointStartX,n.centerPointStartY,150):(o=n.limitPosition(u,f,t,r),i.fancybox.animate(n.$content,o,150)))};r.prototype.onTap=function(t){var u=this,s=i(t.target),r=u.instance,o=r.current,h=t&&e(t)||u.startPoints,c=h[0]?h[0].x-i(n).scrollLeft()-u.stagePos.left:0,l=h[0]?h[0].y-i(n).scrollTop()-u.stagePos.top:0,f,a=function(n){var f=o.opts[n];if(i.isFunction(f)&&(f=f.apply(r,[o,t])),f)switch(f){case"close":r.close(u.startEvent);break;case"toggleControls":r.toggleControls();break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(u.startEvent);break;case"zoom":o.type=="image"&&(o.isLoaded||o.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(c,l):r.group.length<2&&r.close(u.startEvent))}};if((!t.originalEvent||t.originalEvent.button!=2)&&(s.is("img")||!(c>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))f="Outside";else if(s.is(".fancybox-slide"))f="Slide";else if(r.current.$content&&r.current.$content.find(s).addBack().filter(s).length)f="Content";else return;if(u.tapped){if(clearTimeout(u.tapped),u.tapped=null,Math.abs(c-u.tapX)>50||Math.abs(l-u.tapY)>50)return this;a("dblclick"+f)}else u.tapX=c,u.tapY=l,o.opts["dblclick"+f]&&o.opts["dblclick"+f]!==o.opts["click"+f]?u.tapped=setTimeout(function(){u.tapped=null;r.isAnimating||a("click"+f)},500):a("click"+f);return this}};i(t).on("onActivate.fb",function(n,t){t&&!t.Guestures&&(t.Guestures=new r(t))}).on("beforeClose.fb",function(n,t){t&&t.Guestures&&t.Guestures.destroy()})}(window,document,jQuery),function(n,t){"use strict";t.extend(!0,t.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/><\/svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/><\/svg><\/button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var i=function(n){this.instance=n;this.init()};t.extend(i.prototype,{timer:null,isActive:!1,$button:null,init:function(){var n=this,i=n.instance,r=i.group[i.currIndex].opts.slideShow;n.$button=i.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){n.toggle()});i.group.length<2||!r?n.$button.hide():r.progress&&(n.$progress=t('<div class="fancybox-progress"><\/div>').appendTo(i.$refs.inner))},set:function(n){var r=this,i=r.instance,u=i.current;u&&(n===!0||u.opts.loop||i.currIndex<i.group.length-1)?r.isActive&&u.contentType!=="video"&&(r.$progress&&t.fancybox.animate(r.$progress.show(),{scaleX:1},u.opts.slideShow.speed),r.timer=setTimeout(function(){i.current.opts.loop||i.current.index!=i.group.length-1?i.next():i.jumpTo(0)},u.opts.slideShow.speed)):(r.stop(),i.idleSecondsCounter=0,i.showControls())},clear:function(){var n=this;clearTimeout(n.timer);n.timer=null;n.$progress&&n.$progress.removeAttr("style").hide()},start:function(){var n=this,t=n.instance.current;t&&(n.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),n.isActive=!0,t.isComplete&&n.set(!0),n.instance.trigger("onSlideShowChange",!0))},stop:function(){var n=this,t=n.instance.current;n.clear();n.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play");n.isActive=!1;n.instance.trigger("onSlideShowChange",!1);n.$progress&&n.$progress.removeAttr("style").hide()},toggle:function(){var n=this;n.isActive?n.stop():n.start()}});t(n).on({"onInit.fb":function(n,t){t&&!t.SlideShow&&(t.SlideShow=new i(t))},"beforeShow.fb":function(n,t,i,r){var u=t&&t.SlideShow;r?u&&i.opts.slideShow.autoStart&&u.start():u&&u.isActive&&u.clear()},"afterShow.fb":function(n,t){var i=t&&t.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(i,r,u,f,e){var o=r&&r.SlideShow;o&&u.opts.slideShow&&(e===80||e===32)&&!t(n.activeElement).is("button,a,input")&&(f.preventDefault(),o.toggle())},"beforeClose.fb onDeactivate.fb":function(n,t){var i=t&&t.SlideShow;i&&i.stop()}});t(n).on("visibilitychange",function(){var r=t.fancybox.getInstance(),i=r&&r.SlideShow;i&&i.isActive&&(n.hidden?i.clear():i.set())})}(document,jQuery),function(n,t){"use strict";var i=function(){for(var t,i,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],f={},u=0;u<r.length;u++)if(t=r[u],t&&t[1]in n){for(i=0;i<t.length;i++)f[r[0][i]]=t[i];return f}return!1}(),r;if(i){r={request:function(t){t=t||n.documentElement;t[i.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){n[i.exitFullscreen]()},toggle:function(t){t=t||n.documentElement;this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(n[i.fullscreenElement])},enabled:function(){return Boolean(n[i.fullscreenEnabled])}};t.extend(!0,t.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/><\/svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/><\/svg><\/button>'},fullScreen:{autoStart:!1}});t(n).on(i.fullscreenchange,function(){var i=r.isFullscreen(),n=t.fancybox.getInstance();n&&(n.current&&n.current.type==="image"&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger("onFullscreenChange",i),n.$refs.container.toggleClass("fancybox-is-fullscreen",i),n.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!i).toggleClass("fancybox-button--fsexit",i))})}t(n).on({"onInit.fb":function(n,t){var u;if(!i){t.$refs.toolbar.find("[data-fancybox-fullscreen]").remove();return}if(t&&t.group[t.currIndex].opts.fullScreen){u=t.$refs.container;u.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(n){n.stopPropagation();n.preventDefault();r.toggle()});t.opts.fullScreen&&t.opts.fullScreen.autoStart===!0&&r.request();t.FullScreen=r}else t&&t.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(n,t,i,r,u){t&&t.FullScreen&&u===70&&(r.preventDefault(),t.FullScreen.toggle())},"beforeClose.fb":function(n,t){t&&t.FullScreen&&t.$refs.container.hasClass("fancybox-is-fullscreen")&&r.exit()}})}(document,jQuery),function(n,t){"use strict";var i="fancybox-thumbs",u=i+"-active",r;t.fancybox.defaults=t.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/><\/svg><\/button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},t.fancybox.defaults);r=function(n){this.init(n)};t.extend(r.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(n){var t=this,r=n.group,u=0,i,f;for(t.instance=n,t.opts=r[n.currIndex].opts.thumbs,n.Thumbs=t,t.$button=n.$refs.toolbar.find("[data-fancybox-thumbs]"),i=0,f=r.length;i<f;i++)if(r[i].thumb&&u++,u>1)break;if(u>1&&!!t.opts){t.$button.removeAttr("style").on("click",function(){t.toggle()});t.isActive=!0}else t.$button.hide()},create:function(){var n=this,u=n.instance,f=n.opts.parentEl,e=[],r;if(!n.$grid){n.$grid=t('<div class="'+i+" "+i+"-"+n.opts.axis+'"><\/div>').appendTo(u.$refs.container.find(f).addBack().filter(f));n.$grid.on("click","a",function(){u.jumpTo(t(this).attr("data-index"))})}n.$list||(n.$list=t('<div class="'+i+'__list">').appendTo(n.$grid));t.each(u.group,function(n,t){r=t.thumb;r||t.type!=="image"||(r=t.src);e.push('<a href="javascript:;" tabindex="0" data-index="'+n+'"'+(r&&r.length?' style="background-image:url('+r+')"':'class="fancybox-thumbs-missing"')+"><\/a>")});n.$list[0].innerHTML=e.join("");n.opts.axis==="x"&&n.$list.width(parseInt(n.$grid.css("padding-right"),10)+u.group.length*n.$list.children().eq(0).outerWidth(!0))},focus:function(n){var i=this,r=i.$list,e=i.$grid,f,t;i.instance.current&&(f=r.children().removeClass(u).filter('[data-index="'+i.instance.current.index+'"]').addClass(u),t=f.position(),i.opts.axis==="y"&&(t.top<0||t.top>r.height()-f.outerHeight())?r.stop().animate({scrollTop:r.scrollTop()+t.top},n):i.opts.axis==="x"&&(t.left<e.scrollLeft()||t.left>e.scrollLeft()+(e.width()-f.outerWidth()))&&r.parent().stop().animate({scrollLeft:t.left},n))},update:function(){var n=this;n.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible);n.isVisible?(n.$grid||n.create(),n.instance.trigger("onThumbsShow"),n.focus(0)):n.$grid&&n.instance.trigger("onThumbsHide");n.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});t(n).on({"onInit.fb":function(n,t){var i;t&&!t.Thumbs&&(i=new r(t),i.isActive&&i.opts.autoStart===!0&&i.show())},"beforeShow.fb":function(n,t,i,r){var u=t&&t.Thumbs;u&&u.isVisible&&u.focus(r?0:250)},"afterKeydown.fb":function(n,t,i,r,u){var f=t&&t.Thumbs;f&&f.isActive&&u===71&&(r.preventDefault(),f.toggle())},"beforeClose.fb":function(n,t){var i=t&&t.Thumbs;i&&i.isVisible&&i.opts.hideOnClose!==!1&&i.$grid.hide()}})}(document,jQuery),function(n,t){"use strict";function i(n){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(n).replace(/[&<>"'`=\/]/g,function(n){return t[n]})}t.extend(!0,t.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/><\/svg><\/button>'},share:{url:function(n,t){return(!n.currentHash&&!(t.type==="inline"||t.type==="html")?t.origSrc||t.src:!1)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}<\/h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /><\/svg><span>Facebook<\/span><\/a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /><\/svg><span>Twitter<\/span><\/a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/><\/svg><span>Pinterest<\/span><\/a><\/p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /><\/p><\/div>'}});t(n).on("click","[data-fancybox-share]",function(){var r=t.fancybox.getInstance(),n=r.current||null,u,f;n&&(t.type(n.opts.share.url)==="function"&&(u=n.opts.share.url.apply(n,[r,n])),f=n.opts.share.tpl.replace(/\{\{media\}\}/g,n.type==="image"?encodeURIComponent(n.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(u)).replace(/\{\{url_raw\}\}/g,i(u)).replace(/\{\{descr\}\}/g,r.$caption?encodeURIComponent(r.$caption.text()):""),t.fancybox.open({src:r.translate(r,f),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(n,t){r.$refs.container.one("beforeClose.fb",function(){n.close(null,0)});t.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(n,t,i){"use strict";function r(){var i=n.location.hash.substr(1),t=i.split("-"),r=t.length>1&&/^\+?\d+$/.test(t[t.length-1])?parseInt(t.pop(-1),10)||1:1,u=t.join("-");return{hash:i,index:r<1?1:r,gallery:u}}function u(n){n.gallery!==""&&i("[data-fancybox='"+i.escapeSelector(n.gallery)+"']").eq(n.index-1).focus().trigger("click.fb-start")}function f(n){var t,i;return n?(t=n.current?n.current.opts:n.opts,i=t.hash||(t.$orig?t.$orig.data("fancybox")||t.$orig.data("fancybox-trigger"):""),i===""?!1:i):!1}i.escapeSelector||(i.escapeSelector=function(n){var t=function(n,t){return t?n==="\0"?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n};return(n+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,t)});i(function(){if(i.fancybox.defaults.hash!==!1){i(t).on({"onInit.fb":function(n,t){var i,u;t.group[t.currIndex].opts.hash!==!1&&(i=r(),u=f(t),u&&i.gallery&&u==i.gallery&&(t.currIndex=i.index-1))},"beforeShow.fb":function(i,r,u,e){var o;u&&u.opts.hash!==!1&&(o=f(r),o)&&(r.currentHash=o+(r.group.length>1?"-"+(u.index+1):""),n.location.hash!=="#"+r.currentHash)&&(e&&!r.origHash&&(r.origHash=n.location.hash),r.hashTimer&&clearTimeout(r.hashTimer),r.hashTimer=setTimeout(function(){"replaceState"in n.history?(n.history[e?"pushState":"replaceState"]({},t.title,n.location.pathname+n.location.search+"#"+r.currentHash),e&&(r.hasCreatedHistory=!0)):n.location.hash=r.currentHash;r.hashTimer=null},300))},"beforeClose.fb":function(i,r,u){u.opts.hash!==!1&&(clearTimeout(r.hashTimer),r.currentHash&&r.hasCreatedHistory?n.history.back():r.currentHash&&("replaceState"in n.history?n.history.replaceState({},t.title,n.location.pathname+n.location.search+(r.origHash||"")):n.location.hash=r.origHash),r.currentHash=null)}});i(n).on("hashchange.fb",function(){var n=r(),t=null;i.each(i(".fancybox-container").get().reverse(),function(n,r){var u=i(r).data("FancyBox");if(u&&u.currentHash)return t=u,!1});t?t.currentHash===n.gallery+"-"+n.index||n.index===1&&t.currentHash==n.gallery||(t.currentHash=null,t.close()):n.gallery!==""&&u(n)});setTimeout(function(){i.fancybox.getInstance()||u(r())},50)}})}(window,document,jQuery),function(n,t){"use strict";var i=(new Date).getTime();t(n).on({"onInit.fb":function(n,t){t.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(n){var r=t.current,u=(new Date).getTime();t.group.length<2||r.opts.wheel===!1||r.opts.wheel==="auto"&&r.type!=="image"||(n.preventDefault(),n.stopPropagation(),r.$slide.hasClass("fancybox-animated"))||(n=n.originalEvent||n,u-i<250)||(i=u,t[(-n.deltaY||-n.deltaX||n.wheelDelta||-n.detail)<0?"next":"previous"]())})}})}(document,jQuery);Sticky=function(){function n(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n);this.selector=i;this.elements=[];this.version="1.3.0";this.vp=this.getViewportSize();this.body=document.querySelector("body");this.options={wrap:t.wrap||!1,wrapWith:t.wrapWith||"<span><\/span>",marginTop:t.marginTop||0,marginBottom:t.marginBottom||0,stickyFor:t.stickyFor||0,stickyClass:t.stickyClass||null,stickyContainer:t.stickyContainer||"body"};this.updateScrollTopPosition=this.updateScrollTopPosition.bind(this);this.updateScrollTopPosition();window.addEventListener("load",this.updateScrollTopPosition);window.addEventListener("scroll",this.updateScrollTopPosition);this.run()}return _createClass(n,[{key:"run",value:function(){var n=this,t=setInterval(function(){if("complete"===document.readyState){clearInterval(t);var i=document.querySelectorAll(n.selector);n.forEach(i,function(t){return n.renderElement(t)})}},10)}},{key:"renderElement",value:function(n){var t=this;n.sticky={};n.sticky.active=!1;n.sticky.marginTop=parseInt(n.getAttribute("data-margin-top"))||this.options.marginTop;n.sticky.marginBottom=parseInt(n.getAttribute("data-margin-bottom"))||this.options.marginBottom;n.sticky.stickyFor=parseInt(n.getAttribute("data-sticky-for"))||this.options.stickyFor;n.sticky.stickyClass=n.getAttribute("data-sticky-class")||this.options.stickyClass;n.sticky.wrap=!!n.hasAttribute("data-sticky-wrap")||this.options.wrap;n.sticky.stickyContainer=this.options.stickyContainer;n.sticky.container=this.getStickyContainer(n);n.sticky.container.rect=this.getRectangle(n.sticky.container);n.sticky.rect=this.getRectangle(n);"img"===n.tagName.toLowerCase()&&(n.onload=function(){return n.sticky.rect=t.getRectangle(n)});n.sticky.wrap&&this.wrapElement(n);this.activate(n)}},{key:"wrapElement",value:function(n){n.insertAdjacentHTML("beforebegin",n.getAttribute("data-sticky-wrapWith")||this.options.wrapWith);n.previousSibling.appendChild(n)}},{key:"activate",value:function(n){n.sticky.rect.top+n.sticky.rect.height<n.sticky.container.rect.top+n.sticky.container.rect.height&&n.sticky.stickyFor<this.vp.width&&!n.sticky.active&&(n.sticky.active=!0);this.elements.indexOf(n)<0&&this.elements.push(n);n.sticky.resizeEvent||(this.initResizeEvents(n),n.sticky.resizeEvent=!0);n.sticky.scrollEvent||(this.initScrollEvents(n),n.sticky.scrollEvent=!0);this.setPosition(n)}},{key:"initResizeEvents",value:function(n){var t=this;n.sticky.resizeListener=function(){return t.onResizeEvents(n)};window.addEventListener("resize",n.sticky.resizeListener)}},{key:"destroyResizeEvents",value:function(n){window.removeEventListener("resize",n.sticky.resizeListener)}},{key:"onResizeEvents",value:function(n){this.vp=this.getViewportSize();n.sticky.rect=this.getRectangle(n);n.sticky.container.rect=this.getRectangle(n.sticky.container);n.sticky.rect.top+n.sticky.rect.height<n.sticky.container.rect.top+n.sticky.container.rect.height&&n.sticky.stickyFor<this.vp.width&&!n.sticky.active?n.sticky.active=!0:(n.sticky.rect.top+n.sticky.rect.height>=n.sticky.container.rect.top+n.sticky.container.rect.height||n.sticky.stickyFor>=this.vp.width&&n.sticky.active)&&(n.sticky.active=!1);this.setPosition(n)}},{key:"initScrollEvents",value:function(n){var t=this;n.sticky.scrollListener=function(){return t.onScrollEvents(n)};window.addEventListener("scroll",n.sticky.scrollListener)}},{key:"destroyScrollEvents",value:function(n){window.removeEventListener("scroll",n.sticky.scrollListener)}},{key:"onScrollEvents",value:function(n){n.sticky&&n.sticky.active&&this.setPosition(n)}},{key:"setPosition",value:function(n){this.css(n,{position:"",width:"",top:"",left:""});this.vp.height<n.sticky.rect.height||!n.sticky.active||(n.sticky.rect.width||(n.sticky.rect=this.getRectangle(n)),n.sticky.wrap&&this.css(n.parentNode,{display:"block",width:n.sticky.rect.width+"px",height:n.sticky.rect.height+"px"}),0===n.sticky.rect.top&&n.sticky.container===this.body?(this.css(n,{position:"fixed",top:n.sticky.rect.top+"px",left:n.sticky.rect.left+"px",width:n.sticky.rect.width+"px"}),n.sticky.stickyClass&&n.classList.add(n.sticky.stickyClass)):this.scrollTop>n.sticky.rect.top-n.sticky.marginTop?(this.css(n,{position:"fixed",width:n.sticky.rect.width+"px",left:n.sticky.rect.left+"px"}),this.scrollTop+n.sticky.rect.height+n.sticky.marginTop>n.sticky.container.rect.top+n.sticky.container.offsetHeight-n.sticky.marginBottom?(n.sticky.stickyClass&&n.classList.remove(n.sticky.stickyClass),this.css(n,{top:n.sticky.container.rect.top+n.sticky.container.offsetHeight-(this.scrollTop+n.sticky.rect.height+n.sticky.marginBottom)+"px"})):(n.sticky.stickyClass&&n.classList.add(n.sticky.stickyClass),this.css(n,{top:n.sticky.marginTop+"px"}))):(n.sticky.stickyClass&&n.classList.remove(n.sticky.stickyClass),this.css(n,{position:"",width:"",top:"",left:""}),n.sticky.wrap&&this.css(n.parentNode,{display:"",width:"",height:""})))}},{key:"update",value:function(){var n=this;this.forEach(this.elements,function(t){t.sticky.rect=n.getRectangle(t);t.sticky.container.rect=n.getRectangle(t.sticky.container);n.activate(t);n.setPosition(t)})}},{key:"destroy",value:function(){var n=this;window.removeEventListener("load",this.updateScrollTopPosition);window.removeEventListener("scroll",this.updateScrollTopPosition);this.forEach(this.elements,function(t){n.destroyResizeEvents(t);n.destroyScrollEvents(t);delete t.sticky})}},{key:"getStickyContainer",value:function(n){for(var t=n.parentNode;!t.hasAttribute("data-sticky-container")&&!t.parentNode.querySelector(n.sticky.stickyContainer)&&t!==this.body;)t=t.parentNode;return t}},{key:"getRectangle",value:function(n){this.css(n,{position:"",width:"",top:"",left:""});for(var r=Math.max(n.offsetWidth,n.clientWidth,n.scrollWidth),u=Math.max(n.offsetHeight,n.clientHeight,n.scrollHeight),t=0,i=0;t+=n.offsetTop||0,i+=n.offsetLeft||0,n=n.offsetParent;);return{top:t,left:i,width:r,height:u}}},{key:"getViewportSize",value:function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}},{key:"updateScrollTopPosition",value:function(){this.scrollTop=(window.pageYOffset||document.scrollTop)-(document.clientTop||0)||0}},{key:"forEach",value:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])}},{key:"css",value:function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n.style[i]=t[i])}}]),n}();!function(n,t){"undefined"!=typeof exports?module.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):n.Sticky=t}(this,Sticky);
/**
 * @license
 * Video.js 7.2.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.videojs=t()})(this,function(){function el(n,t){return t={exports:{}},n(t,t.exports),t.exports}function pot(n){return n.replace(/\n\r?\s*/g,"")}function hu(n,t){eb(n).forEach(function(i){return t(n[i],i)})}function bot(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return eb(n).reduce(function(i,r){return t(i,n[r],r)},i)}function k(n){for(var i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return Object.assign?Object.assign.apply(Object,[n].concat(r)):(r.forEach(function(t){t&&hu(t,function(t,i){n[i]=t})}),n)}function ir(n){return!!n&&(typeof n=="undefined"?"undefined":d(n))==="object"}function re(n){return ir(n)&&wot.call(n)==="[object Object]"&&n.constructor===Object}function hl(n,i){if(!n||!i)return"";if(typeof t.getComputedStyle=="function"){var r=t.getComputedStyle(n);return r?r[i]:""}return""}function sb(n){return typeof n=="string"&&/\S/.test(n)}function hb(n){if(/\s/.test(n))throw new Error("class has illegal whitespace characters");}function kot(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}function cu(){return u===t.document}function ue(n){return ir(n)&&n.nodeType===1}function cb(){try{return t.parent!==t.self}catch(n){return!0}}function lb(n){return function(t,i){if(!sb(t))return u[n](null);sb(i)&&(i=u.querySelector(i));var r=ue(i)?i:u;return r[n]&&r[n](t)}}function g(){var f=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments[3],n=u.createElement(f);return Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];i.indexOf("aria-")!==-1||i==="role"||i==="type"?(l.warn(ol(ob,i,r)),n.setAttribute(i,r)):i==="textContent"?fe(n,r):n[i]=r}),Object.getOwnPropertyNames(i).forEach(function(t){n.setAttribute(t,i[t])}),r&&al(n,r),n}function fe(n,t){return typeof n.textContent=="undefined"?n.innerText=t:n.textContent=t,n}function is(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}function lu(n,t){return(hb(t),n.classList)?n.classList.contains(t):kot(t).test(n.className)}function pr(n,t){return n.classList?n.classList.add(t):lu(n,t)||(n.className=(n.className+" "+t).trim()),n}function ee(n,t){return n.classList?n.classList.remove(t):(hb(t),n.className=n.className.split(/\s+/).filter(function(n){return n!==t}).join(" ")),n}function ab(n,t,i){var r=lu(n,t);if(typeof i=="function"&&(i=i(n,t)),typeof i!="boolean"&&(i=!r),i!==r)return i?pr(n,t):ee(n,t),n}function vb(n,t){Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];r===null||typeof r=="undefined"||r===!1?n.removeAttribute(i):n.setAttribute(i,r===!0?"":r)})}function wi(n){var f={},i,t,r,u;if(n&&n.attributes&&n.attributes.length>0)for(i=n.attributes,t=i.length-1;t>=0;t--)r=i[t].name,u=i[t].value,(typeof n[r]=="boolean"||",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")!==-1)&&(u=u!==null?!0:!1),f[r]=u;return f}function yb(n,t){return n.getAttribute(t)}function oe(n,t,i){n.setAttribute(t,i)}function rs(n,t){n.removeAttribute(t)}function pb(){u.body.focus();u.onselectstart=function(){return!1}}function wb(){u.onselectstart=function(){return!0}}function se(n){if(n&&n.getBoundingClientRect&&n.parentNode){var i=n.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(function(n){i[n]!==undefined&&(t[n]=i[n])}),t.height||(t.height=parseFloat(hl(n,"height"))),t.width||(t.width=parseFloat(hl(n,"width"))),t}}function bb(n){var i=void 0;if(n.getBoundingClientRect&&n.parentNode&&(i=n.getBoundingClientRect()),!i)return{left:0,top:0};var f=u.documentElement,r=u.body,e=f.clientLeft||r.clientLeft||0,o=t.pageXOffset||r.scrollLeft,s=i.left+o-e,h=f.clientTop||r.clientTop||0,c=t.pageYOffset||r.scrollTop,l=i.top+c-h;return{left:Math.round(s),top:Math.round(l)}}function cl(n,t){var i={},r=bb(n),o=n.offsetWidth,u=n.offsetHeight,s=r.top,h=r.left,f=t.pageY,e=t.pageX;return t.changedTouches&&(e=t.changedTouches[0].pageX,f=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(s-f+u)/u)),i.x=Math.max(0,Math.min(1,(e-h)/o)),i}function kb(n){return ir(n)&&n.nodeType===3}function ll(n){while(n.firstChild)n.removeChild(n.firstChild);return n}function db(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(function(n){return(typeof n=="function"&&(n=n()),ue(n)||kb(n))?n:typeof n=="string"&&/\S/.test(n)?u.createTextNode(n):void 0}).filter(function(n){return n})}function al(n,t){return db(t).forEach(function(t){return n.appendChild(t)}),n}function gb(n,t){return al(ll(n),t)}function au(n){return n.button===undefined&&n.buttons===undefined?!0:n.button===0&&n.buttons===undefined?!0:n.button!==0||n.buttons!==1?!1:!0}function wr(){return dot++}function he(n){var t=n[ur];return t||(t=n[ur]=wr()),vu[t]||(vu[t]={}),vu[t]}function ik(n){var t=n[ur];return t?!!Object.getOwnPropertyNames(vu[t]).length:!1}function rk(n){var t=n[ur];if(t){delete vu[t];try{delete n[ur]}catch(i){n.removeAttribute?n.removeAttribute(ur):n[ur]=null}}}function uk(n,t){var i=he(n);i.handlers[t].length===0&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher));Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled);Object.getOwnPropertyNames(i).length===0&&rk(n)}function vl(n,t,i,r){i.forEach(function(i){n(t,i,r)})}function us(n){function o(){return!0}function s(){return!1}var i,r,f,e;if(!n||!n.isPropagationStopped){i=n||t.event;n={};for(r in i)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&(r==="returnValue"&&i.preventDefault||(n[r]=i[r]));n.target||(n.target=n.srcElement||u);n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement);n.preventDefault=function(){i.preventDefault&&i.preventDefault();n.returnValue=!1;i.returnValue=!1;n.defaultPrevented=!0};n.defaultPrevented=!1;n.stopPropagation=function(){i.stopPropagation&&i.stopPropagation();n.cancelBubble=!0;i.cancelBubble=!0;n.isPropagationStopped=o};n.isPropagationStopped=s;n.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation();n.isImmediatePropagationStopped=o;n.stopPropagation()};n.isImmediatePropagationStopped=s;n.clientX!==null&&n.clientX!==undefined&&(f=u.documentElement,e=u.body,n.pageX=n.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),n.pageY=n.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));n.which=n.charCode||n.keyCode;n.button!==null&&n.button!==undefined&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n}function ei(n,t,i){var r,u;if(Array.isArray(t))return vl(ei,n,t,i);r=he(n);r.handlers||(r.handlers={});r.handlers[t]||(r.handlers[t]=[]);i.guid||(i.guid=wr());r.handlers[t].push(i);r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,i){var f,e,u,o;if(!r.disabled&&(t=us(t),f=r.handlers[t.type],f))for(e=f.slice(0),u=0,o=e.length;u<o;u++)if(t.isImmediatePropagationStopped())break;else try{e[u].call(n,t,i)}catch(s){l.error(s)}});r.handlers[t].length===1&&(n.addEventListener?(u=!1,yl&&fk.indexOf(t)>-1&&(u={passive:!0}),n.addEventListener(t,r.dispatcher,u)):n.attachEvent&&n.attachEvent("on"+t,r.dispatcher))}function pt(n,t,i){var r,e,o,u,f;if(ik(n)&&(r=he(n),r.handlers)){if(Array.isArray(t))return vl(pt,n,t,i);if(e=function(n,t){r.handlers[t]=[];uk(n,t)},t===undefined){for(o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&e(n,o);return}if(u=r.handlers[t],u){if(!i){e(n,t);return}if(i.guid)for(f=0;f<u.length;f++)u[f].guid===i.guid&&u.splice(f--,1);uk(n,t)}}}function yu(n,t,i){var f=ik(n)?he(n):{},r=n.parentNode||n.ownerDocument,u;return typeof t=="string"?t={type:t,target:n}:t.target||(t.target=n),t=us(t),f.dispatcher&&f.dispatcher.call(n,t,i),r&&!t.isPropagationStopped()&&t.bubbles===!0?yu.call(null,r,t,i):r||t.defaultPrevented||(u=he(t.target),t.target[t.type]&&(u.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),u.disabled=!1)),!t.defaultPrevented}function ce(n,t,i){if(Array.isArray(t))return vl(ce,n,t,i);var r=function r(){pt(n,t,r);i.apply(this,arguments)};r.guid=i.guid=i.guid||wr();ei(n,t,r)}function bl(n,i){i&&(wl=i);t.setTimeout(nst,n)}function dl(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=r.eventBusKey;if(i){if(!n[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');n.eventBusEl_=n[i]}else n.eventBusEl_=g("span",{className:"vjs-event-bus"});k(n,ist);n.on("dispose",function(){n.off();t.setTimeout(function(){n.eventBusEl_=null},0)});return n}function vk(n,t){if(k(n,ak),n.state=k({},n.state,t),typeof n.handleStateChanged=="function"&&fs(n))n.on("statechanged",n.handleStateChanged);return n}function b(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}function rst(n,t){return b(n)===b(t)}function p(){for(var n={},i=arguments.length,r=Array(i),t=0;t<i;t++)r[t]=arguments[t];return r.forEach(function(t){t&&hu(t,function(t,i){if(!re(t)){n[i]=t;return}re(n[i])||(n[i]={});n[i]=p(n[i],t)})}),n}function ost(n,t,i){if(typeof t!="number"||t<0||t>i)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").");}function td(n,t,i,r){return ost(n,r,i.length-1),i[r][t]}function ra(n){return n===undefined||n.length===0?{length:0,start:function(){throw new Error("This TimeRanges object is empty");},end:function(){throw new Error("This TimeRanges object is empty");}}:{length:n.length,start:td.bind(null,"start",0,n),end:td.bind(null,"end",1,n)}}function kr(n,t){return Array.isArray(n)?ra(n):n===undefined||t===undefined?ra():ra([[n,t]])}function id(n,t){var u=0,f=void 0,r=void 0,i;if(!t)return 0;for(n&&n.length||(n=kr(0,0)),i=0;i<n.length;i++)f=n.start(i),r=n.end(i),r>t&&(r=t),u+=r-f;return u/t}function ft(n){if(n instanceof ft)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:ir(n)&&(typeof n.code=="number"&&(this.code=n.code),k(this,n));this.message||(this.message=ft.defaultMessages[this.code]||"")}function hst(n,t){var i,r=null;try{i=JSON.parse(n,t)}catch(u){r=u}return[r,i]}function ud(n){return n!==undefined&&n!==null&&typeof n.then=="function"}function ye(n){ud(n)&&n.then(null,function(){})}function nht(n){var t=gst.call(n);return t==="[object Function]"||typeof n=="function"&&t!=="[object RegExp]"||typeof window!="undefined"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}function uht(n,t,i){if(!vd(t))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this);rht.call(n)==="[object Array]"?fht(n,t,i):typeof n=="string"?eht(n,t,i):oht(n,t,i)}function fht(n,t,i){for(var r=0,u=n.length;r<u;r++)yd.call(n,r)&&t.call(i,n[r],r,n)}function eht(n,t,i){for(var r=0,u=n.length;r<u;r++)t.call(i,n.charAt(r),r,n)}function oht(n,t,i){for(var r in n)yd.call(n,r)&&t.call(i,n[r],r,n)}function lht(){for(var n,t,r={},i=0;i<arguments.length;i++){n=arguments[i];for(t in n)cht.call(n,t)&&(r[t]=n[t])}return r}function yht(n,t){for(var i=0;i<n.length;i++)t(n[i])}function pht(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function dd(n,t,i){var r=n;return vd(t)?(i=t,typeof n=="string"&&(r={uri:n})):r=vht(t,{uri:n}),r.callback=i,r}function er(n,t,i){return t=dd(n,t,i),gd(t)}function gd(n){function w(){t.readyState===4&&setTimeout(v,0)}function b(){var n=undefined;if(n=t.response?t.response:t.responseText||wht(t),y)try{n=JSON.parse(n)}catch(i){}return n}function s(n){return clearTimeout(a),n instanceof Error||(n=new Error(""+(n||"Unknown XMLHttpRequest Error"))),n.statusCode=0,o(n,p)}function v(){var u,i,e;if(!f)return clearTimeout(a),u=n.useXDR&&t.status===undefined?200:t.status===1223?204:t.status,i=p,e=null,u!==0?(i={body:b(),statusCode:u,method:r,headers:{},url:h,rawRequest:t},t.getAllResponseHeaders&&(i.headers=aht(t.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),o(e,i,i.body)}var e,o,t;if(typeof n.callback=="undefined")throw new Error("callback argument missing");e=!1;o=function(t,i,r){e||(e=!0,n.callback(t,i,r))};t=n.xhr||null;t||(t=n.cors||n.useXDR?new er.XDomainRequest:new er.XMLHttpRequest);var u,f,h=t.url=n.uri||n.url,r=t.method=n.method||"GET",c=n.body||n.data,i=t.headers=n.headers||{},l=!!n.sync,y=!1,a,p={body:undefined,headers:{},statusCode:0,method:r,url:h,rawRequest:t};if("json"in n&&n.json!==!1&&(y=!0,i.accept||i.Accept||(i.Accept="application/json"),r!=="GET"&&r!=="HEAD"&&(i["content-type"]||i["Content-Type"]||(i["Content-Type"]="application/json"),c=JSON.stringify(n.json===!0?c:n.json))),t.onreadystatechange=w,t.onload=v,t.onerror=s,t.onprogress=function(){},t.onabort=function(){f=!0},t.ontimeout=s,t.open(r,h,!l,n.username,n.password),l||(t.withCredentials=!!n.withCredentials),!l&&n.timeout>0&&(a=setTimeout(function(){if(!f){f=!0;t.abort("timeout");var n=new Error("XMLHttpRequest timeout");n.code="ETIMEDOUT";s(n)}},n.timeout)),t.setRequestHeader)for(u in i)i.hasOwnProperty(u)&&t.setRequestHeader(u,i[u]);else if(n.headers&&!pht(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(t.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(t),t.send(c||null),t}function wht(n){if(n.responseType==="document")return n.responseXML;var t=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";return n.responseType===""&&!t?n.responseXML:null}function bht(){}function bt(n,t){this.name="ParsingError";this.code=n.code;this.message=t||n.message}function wa(n){function i(n,t,i,r){return(n|0)*3600+(t|0)*60+(i|0)+(r|0)/1e3}var t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function be(){this.values=ls(null)}function ke(n,t,i,r){var f=r?n.split(r):[n],e,u,o,s;for(e in f)typeof f[e]=="string"&&(u=f[e].split(i),u.length===2)&&(o=u[0],s=u[1],t(o,s))}function dht(n,t,i){function f(){var t=wa(n);if(t===null)throw new bt(bt.Errors.BadTimeStamp,"Malformed timestamp: "+u);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function e(n,t){var r=new be;ke(n,function(n,t){var f,u,e;switch(n){case"region":for(f=i.length-1;f>=0;f--)if(i[f].id===t){r.set(n,i[f].region);break}break;case"vertical":r.alt(n,t,["rl","lr"]);break;case"line":u=t.split(",");e=u[0];r.integer(n,e);r.percent(n,e)?r.set("snapToLines",!1):null;r.alt(n,e,["auto"]);u.length===2&&r.alt("lineAlign",u[1],["start","middle","end"]);break;case"position":u=t.split(",");r.percent(n,u[0]);u.length===2&&r.alt("positionAlign",u[1],["start","middle","end"]);break;case"size":r.percent(n,t);break;case"align":r.alt(n,t,["start","middle","end","left","right"])}},/:/,/\s/);t.region=r.get("region",null);t.vertical=r.get("vertical","");t.line=r.get("line","auto");t.lineAlign=r.get("lineAlign","start");t.snapToLines=r.get("snapToLines",!0);t.size=r.get("size",100);t.align=r.get("align","middle");t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function r(){n=n.replace(/^\s+/,"")}var u=n;if(r(),t.startTime=f(),r(),n.substr(0,3)!=="-->")throw new bt(bt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);n=n.substr(3);r();t.endTime=f();r();e(n,t)}function eg(n,t){function h(){function i(n){return t=t.substr(n.length),n}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]*>?)?/);return i(n[1]?n[1]:n[2])}function c(n){return ght[n]}function l(n){while(i=n.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))n=n.replace(i[0],c);return n}function a(n,t){return!fg[t.localName]||fg[t.localName]===n.localName}function v(t,i){var u=nct[t],r,f;return u?(r=n.document.createElement(u),r.localName=u,f=tct[t],f&&i&&(r[f]=i.trim()),r):null}for(var s=n.document.createElement("div"),f=s,r,e=[],o,u,i;(r=h())!==null;){if(r[0]==="<"){if(r[1]==="/"){e.length&&e[e.length-1]===r.substr(2).replace(">","")&&(e.pop(),f=f.parentNode);continue}if(o=wa(r.substr(1,r.length-2)),o){u=n.document.createProcessingInstruction("timestamp",o);f.appendChild(u);continue}if(i=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/),!i)continue;if(u=v(i[1],i[3]),!u)continue;if(!a(f,u))continue;i[2]&&(u.className=i[2].substr(1).replace("."," "));e.push(i[1]);f.appendChild(u);f=u;continue}f.appendChild(n.document.createTextNode(l(r)))}return s}function ict(n){for(var i,t=0;t<ba.length;t++)if(i=ba[t],n>=i[0]&&n<=i[1])return!0;return!1}function rct(n){function e(n,t){for(var i=t.childNodes.length-1;i>=0;i--)n.push(t.childNodes[i])}function r(n){var t,i,u;return!n||!n.length?null:(t=n.pop(),i=t.textContent||t.innerText,i)?(u=i.match(/^.*(\n|\r)/),u)?(n.length=0,u[0]):i:t.tagName==="ruby"?r(n):t.childNodes?(e(n,t),r(n)):void 0}var u=[],i="",f,t;if(!n||!n.childNodes)return"ltr";for(e(u,n);i=r(u);)for(t=0;t<i.length;t++)if(f=i.charCodeAt(t),ict(f))return"rtl";return"ltr"}function uct(n){var t;if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;var r=n.track,i=r.textTrackList,u=0;for(t=0;t<i.length&&i[t]!==r;t++)i[t].mode==="showing"&&u++;return++u*-1}function as(){}function vs(n,t,i){var u,r;as.call(this);this.cue=t;this.cueDiv=eg(n,t.text);u={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(u,this.cueDiv);this.div=n.document.createElement("div");u={direction:rct(this.cueDiv),writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:t.align==="middle"?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};this.applyStyles(u);this.div.appendChild(this.cueDiv);r=0;switch(t.positionAlign){case"start":r=t.position;break;case"middle":r=t.position-t.size/2;break;case"end":r=t.position-t.size}t.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")});this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}function et(n){var i,r,f,u,t;n.div&&(r=n.div.offsetHeight,f=n.div.offsetWidth,u=n.div.offsetTop,t=(t=n.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects(),n=n.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,n.height/t.length):0);this.left=n.left;this.right=n.right;this.top=n.top||u;this.height=n.height||r;this.bottom=n.bottom||u+(n.height||r);this.width=n.width||f;this.lineHeight=i!==undefined?i:n.lineHeight}function fct(n,t,i,r){function y(n,t){for(var f,e,o=new et(n),s=1,u=0;u<t.length;u++){while(n.overlapsOppositeAxis(i,t[u])||n.within(i)&&n.overlapsAny(r))n.move(t[u]);if(n.within(i))return n;f=n.intersectPercentage(i);s>f&&(e=new et(n),s=f);n=new et(o)}return e||o}var o=new et(t),e=t.cue,f=uct(e),u=[],h,l,v;if(e.snapToLines){switch(e.vertical){case"":u=["+y","-y"];h="height";break;case"rl":u=["+x","-x"];h="width";break;case"lr":u=["-x","+x"];h="width"}var c=o.lineHeight,s=c*Math.round(f),a=i[h]+c,p=u[0];Math.abs(s)>a&&(s=(s<0?-1:1)*Math.ceil(a/c)*c);f<0&&(s+=e.vertical===""?i.height:i.width,u=u.reverse());o.move(p,s)}else{l=o.lineHeight/i.height*100;switch(e.lineAlign){case"middle":f-=l/2;break;case"end":f-=l}switch(e.vertical){case"":t.applyStyles({top:t.formatStyle(f,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(f,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(f,"%")})}u=["+y","-x","+x","-y"];o=new et(t)}v=y(o,u);t.move(v.toCSSCompatValues(i))}function gu(){}function act(n){if(typeof n!="string")return!1;var t=cct[n.toLowerCase()];return t?n.toLowerCase():!1}function da(n){if(typeof n!="string")return!1;var t=lct[n.toLowerCase()];return t?n.toLowerCase():!1}function sg(n,t,i){this.hasBeenReset=!1;var r="",u=!1,f=n,e=t,o=i,s=null,h="",c=!0,l="auto",a="start",v=50,y="middle",p=50,w="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(n){r=""+n}},pauseOnExit:{enumerable:!0,get:function(){return u},set:function(n){u=!!n}},startTime:{enumerable:!0,get:function(){return f},set:function(n){if(typeof n!="number")throw new TypeError("Start time must be set to a number.");f=n;this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return e},set:function(n){if(typeof n!="number")throw new TypeError("End time must be set to a number.");e=n;this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(n){o=""+n;this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return s},set:function(n){s=n;this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return h},set:function(n){var t=act(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");h=t;this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(n){c=!!n;this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return l},set:function(n){if(typeof n!="number"&&n!==hct)throw new SyntaxError("An invalid number or illegal string was specified.");l=n;this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return a},set:function(n){var t=da(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");a=t;this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return v},set:function(n){if(n<0||n>100)throw new Error("Position must be between 0 and 100.");v=n;this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(n){var t=da(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t;this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return p},set:function(n){if(n<0||n>100)throw new Error("Size must be between 0 and 100.");p=n;this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return w},set:function(n){var t=da(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t;this.hasBeenReset=!0}}});this.displayState=undefined}function yct(n){if(typeof n!="string")return!1;var t=vct[n.toLowerCase()];return t?n.toLowerCase():!1}function de(n){return typeof n=="number"&&n>=0&&n<=100}function pct(){var n=100,t=3,i=0,r=100,u=0,f=100,e="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(t){if(!de(t))throw new Error("Width must be between 0 and 100.");n=t}},lines:{enumerable:!0,get:function(){return t},set:function(n){if(typeof n!="number")throw new TypeError("Lines must be set to a number.");t=n}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(n){if(!de(n))throw new Error("RegionAnchorX must be between 0 and 100.");r=n}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(n){if(!de(n))throw new Error("RegionAnchorY must be between 0 and 100.");i=n}},viewportAnchorY:{enumerable:!0,get:function(){return f},set:function(n){if(!de(n))throw new Error("ViewportAnchorY must be between 0 and 100.");f=n}},viewportAnchorX:{enumerable:!0,get:function(){return u},set:function(n){if(!de(n))throw new Error("ViewportAnchorX must be between 0 and 100.");u=n}},scroll:{enumerable:!0,get:function(){return e},set:function(n){var t=yct(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");e=t}}})}function dct(n,t,i,r){var u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},e=n.textTracks(),f;return u.kind=t,i&&(u.label=i),r&&(u.language=r),u.tech=n,f=new at.text.TrackClass(u),e.addTrack(f),f}function gct(n,t){nu[n]=nu[n]||[];nu[n].push(t)}function nlt(n,t,i){n.setTimeout(function(){return tu(t,nu[t.type],i,n)},1)}function tlt(n,t){n.forEach(function(n){return n.setTech&&n.setTech(t)})}function ilt(n,t,i){return n.reduceRight(iv(i),t[i]())}function rlt(n,t,i,r){return t[i](n.reduce(iv(i),r))}function lg(n,t,i){var e=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null,o="call"+b(i),r=n.reduce(iv(o),e),u=r===ys,f=u?null:t[i](r);return elt(n,i,f,u),f}function iv(n){return function(t,i){return t===ys?ys:i[n]?i[n](t):t}}function elt(n,t,i,r){for(var f,u=n.length-1;u>=0;u--)f=n[u],f[t]&&f[t](r,i)}function olt(n){tv[n.id()]=null}function slt(n,t){var r=tv[n.id()],i=null,u;if(r===undefined||r===null)return i=t(n),tv[n.id()]=[[t,i]],i;for(u=0;u<r.length;u++){var f=r[u],e=f[0],o=f[1];e===t&&(i=o)}return i===null&&(i=t(n),r.push([t,i])),i}function tu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=arguments[2],r=arguments[3],n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[],u=arguments.length>5&&arguments[5]!==undefined?arguments[5]:!1,o=s[0],f=s.slice(1),e;if(typeof o=="string")tu(t,nu[o],i,r,n,u);else if(o){if(e=slt(r,o),!e.setSource)return n.push(e),tu(t,f,i,r,n,u);e.setSource(k({},t),function(o,s){if(o)return tu(t,f,i,r,n,u);n.push(e);tu(s,t.type===s.type?f:nu[s.type],i,r,n,u)})}else f.length?tu(t,f,i,r,n,u):u?i(t,n):tu(t,nu["*"],i,r,n,!0)}function pg(n){var t=vg(n.src);return!n.type&&t&&(n.type=t),n}function rv(n,t){var i=void 0;if(n.length===4)i=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)i=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function uv(n,t,i){try{n.style[t]=i}catch(r){return}}function alt(n){ps=n}function vlt(){ps=ov}function nf(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n;return ps(n,t)}function ntt(n,t){return t&&(n=t(n)),n&&n!=="none"?n:void 0}function ylt(n,t){var i=n.options[n.options.selectedIndex].value;return ntt(i,t)}function plt(n,t,i){if(t)for(var r=0;r<n.options.length;r++)if(ntt(n.options[r].value,i)===t){n.selectedIndex=r;break}}function n(t,r,f){var e=n.getPlayer(t),o,s;if(e)return r&&l.warn('Player "'+t+'" is already initialised. Options will not be applied.'),f&&e.ready(f),e;if(o=typeof t=="string"?rr("#"+htt(t)):t,!ue(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");return u.body.contains(o)||l.warn("The element supplied is not included in the DOM"),r=r||{},n.hooks("beforesetup").forEach(function(n){var t=n(o,p(r));if(!ir(t)||Array.isArray(t)){l.error("please return an object in beforesetup hooks");return}r=p(r,t)}),s=i.getComponent("Player"),e=new s(o,r,f),n.hooks("setup").forEach(function(n){return n(e)}),e}function hvt(n){for(var r=t.atob(n),u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r.charCodeAt(i);return u}function ddt(n){return n.subarray(0,n.byteLength-n[n.byteLength-1])}function oet(n,t){return function(i){var u=this,e,f,r;if(t){if(ne&&!i)return e=t.toString().replace(/^function.+?{/,"").slice(0,-1),f=set(e),this[sw]=new ne(f),wnt(this[sw],f),this[sw];r={postMessage:function(n){u.onmessage&&setTimeout(function(){u.onmessage({data:n,target:r})})}};t.call(r);this.postMessage=function(n){setTimeout(function(){r.onmessage({data:n,target:u})})};this.isThisThread=!0}else return new ne(n)}}function set(n){try{return gf.createObjectURL(new Blob([n],{type:ynt}))}catch(i){var t=new pnt;return t.append(n),gf.createObjectURL(t.getBlob(type))}}function wnt(n,t){if(n&&t){var i=n.terminate;n.objURL=t;n.terminate=function(){n.objURL&&gf.revokeObjectURL(n.objURL);i.call(n)}}}function ko(){}var tb="7.2.4",te=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ib,l,ob,vu,ur,yl,fk,wu,ak,i,ae,ve,dr,rd,gr,ed,wt,du,at,ls,ba,y,wg,no,bg,dg,gg,ci,fv,nn,ev,ov,ps,iu,ws,bs,tn,ks,rn,ds,un,fn,gs,sv,hv,cv,sn,hn,th,lv,cn,av,vv,ih,rh,uh,tf,rf,yv,ru,pv,fh,eh,oh,sh,hh,wv,ch,bv,kv,lh,dv,gv,ln,ny,ty,ttt,itt,to,ey,ftt,uf,io,wh,ni,yy,c,tit,iit,py,rit,uit,fit,eit,wy,oit,sit,hit,cit,lit,ait,vit,yit,pit,wit,bit,kit,by,h,ky,dit,git,nrt,trt,irt,rrt,urt,frt,ic,ert,ort,srt,up,lc,vc,ep,rut,rl,hw,cw,yw,lt,gw,lot,aot;ib=typeof window!="undefined"?window:typeof te!="undefined"?te:typeof self!="undefined"?self:{};var t=ib,rb={},ub=Object.freeze({"default":rb}),yot=ub&&rb||ub,fb=typeof te!="undefined"?te:typeof window!="undefined"?window:{},ie;typeof document!="undefined"?ie=document:(ie=fb["__GLOBAL_DOCUMENT_CACHE@4"],ie||(ie=fb["__GLOBAL_DOCUMENT_CACHE@4"]=yot));var u=ie,yt=void 0,ns="info",fi=[],ts=function(n,i){var u=yt.levels[ns],f=new RegExp("^("+u+")$"),r;(n!=="log"&&i.unshift(n.toUpperCase()+":"),fi&&fi.push([].concat(i)),i.unshift("VIDEOJS:"),t.console)&&(r=t.console[n],r||n!=="debug"||(r=t.console.info||t.console.log),r&&u&&f.test(n))&&r[Array.isArray(i)?"apply":"call"](t.console,i)};yt=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];ts("log",i)};yt.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:ns};yt.level=function(n){if(typeof n=="string"){if(!yt.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');ns=n}return ns};yt.history=function(){return fi?[].concat(fi):[]};yt.history.clear=function(){fi&&(fi.length=0)};yt.history.disable=function(){fi!==null&&(fi.length=0,fi=null)};yt.history.enable=function(){fi===null&&(fi=[])};yt.error=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return ts("error",i)};yt.warn=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return ts("warn",i)};yt.debug=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return ts("debug",i)};l=yt;var ol=function(n){for(var i="",t=0;t<arguments.length;t++)i+=pot(n[t])+(arguments[t+1]||"");return i},d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},o=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},e=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n},sl=function(n,t){return n.raw=t,n},wot=Object.prototype.toString,eb=function(n){return ir(n)?Object.keys(n):[]};ob=sl(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);var rr=lb("querySelector"),nk=lb("querySelectorAll"),tk=Object.freeze({isReal:cu,isEl:ue,isInFrame:cb,createEl:g,textContent:fe,prependTo:is,hasClass:lu,addClass:pr,removeClass:ee,toggleClass:ab,setAttributes:vb,getAttributes:wi,getAttribute:yb,setAttribute:oe,removeAttribute:rs,blockTextSelection:pb,unblockTextSelection:wb,getBoundingClientRect:se,findPosition:bb,getPointerPosition:cl,isTextNode:kb,emptyEl:ll,normalizeContent:db,appendContent:al,insertContent:gb,isSingleLeftClick:au,$:rr,$$:nk}),dot=1;vu={};ur="vdata"+(new Date).getTime();yl=!1,function(){try{var n=Object.defineProperty({},"passive",{get:function(){yl=!0}});t.addEventListener("test",null,n);t.removeEventListener("test",null,n)}catch(r){}}();fk=["touchstart","touchmove"];var got=Object.freeze({fixEvent:us,on:ei,off:pt,trigger:yu,one:ce}),pl=!1,wl=void 0,nst=function(){var i,r,n,f;if(cu()&&wl.options.autoSetup!==!1){var e=Array.prototype.slice.call(u.getElementsByTagName("video")),o=Array.prototype.slice.call(u.getElementsByTagName("audio")),s=Array.prototype.slice.call(u.getElementsByTagName("video-js")),t=e.concat(o,s);if(t&&t.length>0)for(i=0,r=t.length;i<r;i++)if(n=t[i],n&&n.getAttribute)n.player===undefined&&(f=n.getAttribute("data-setup"),f!==null&&wl(n));else{bl(1);break}else pl||bl(1)}};cu()&&u.readyState==="complete"?pl=!0:ce(t,"load",function(){pl=!0});var ek=function(n){var t=u.createElement("style");return t.className=n,t},ok=function(n,t){n.styleSheet?n.styleSheet.cssText=t:n.textContent=t},s=function(n,t,i){t.guid||(t.guid=wr());var r=function(){return t.apply(n,arguments)};return r.guid=i?i+"_"+t.guid:t.guid,r},pu=function(n,t){var i=Date.now();return function(){var r=Date.now();r-i>=t&&(n.apply(undefined,arguments),i=r)}},tst=function(n,i,r){var f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t,u=void 0,o=function(){f.clearTimeout(u);u=null},e=function(){var t=this,e=arguments,o=function(){u=null;o=null;r||n.apply(t,e)};!u&&r&&n.apply(t,e);f.clearTimeout(u);u=f.setTimeout(o,i)};return e.cancel=o,e},rt=function(){};rt.prototype.allowedEvents_={};rt.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};ei(this,n,t);this.addEventListener=i};rt.prototype.addEventListener=rt.prototype.on;rt.prototype.off=function(n,t){pt(this,n,t)};rt.prototype.removeEventListener=rt.prototype.off;rt.prototype.one=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};ce(this,n,t);this.addEventListener=i};rt.prototype.trigger=function(n){var t=n.type||n;typeof n=="string"&&(n={type:t});n=us(n);this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n);yu(this,n)};rt.prototype.dispatchEvent=rt.prototype.trigger;wu=void 0;rt.prototype.queueTrigger=function(n){var u=this,r,i,f,e;wu||(wu=new Map);r=n.type||n;i=wu.get(this);i||(i=new Map,wu.set(this,i));f=i.get(r);i.delete(r);t.clearTimeout(f);e=t.setTimeout(function(){i.size===0&&(i=null,wu.delete(u));u.trigger(n)},0);i.set(r,e)};var fs=function(n){return n instanceof rt||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(t){return typeof n[t]=="function"})},sk=function(n){return typeof n=="string"&&/\S/.test(n)||Array.isArray(n)&&!!n.length},kl=function(n){if(!n.nodeName&&!fs(n))throw new Error("Invalid target; must be a DOM node or evented object.");},hk=function(n){if(!sk(n))throw new Error("Invalid event type; must be a non-empty string or array.");},ck=function(n){if(typeof n!="function")throw new Error("Invalid listener; must be a function.");},lk=function(n,t){var f=t.length<3||t[0]===n||t[0]===n.eventBusEl_,r=void 0,u=void 0,i=void 0;return f?(r=n.eventBusEl_,t.length>=3&&t.shift(),u=t[0],i=t[1]):(r=t[0],u=t[1],i=t[2]),kl(r),hk(u),ck(i),i=s(n,i),{isTargetingSelf:f,target:r,type:u,listener:i}},le=function(n,t,i,r){kl(n);n.nodeName?got[t](n,i,r):n[t](i,r)},ist={on:function(){for(var r,f,e=this,o=arguments.length,s=Array(o),n=0;n<o;n++)s[n]=arguments[n];var t=lk(this,s),c=t.isTargetingSelf,u=t.target,h=t.type,i=t.listener;le(u,"on",h,i);c||(r=function(){return e.off(u,h,i)},r.guid=i.guid,f=function(){return e.off("dispose",r)},f.guid=i.guid,le(this,"on","dispose",r),le(u,"on","dispose",f))},one:function(){for(var i,s=this,e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];var t=lk(this,o),h=t.isTargetingSelf,r=t.target,u=t.type,f=t.listener;h?le(r,"one",u,f):(i=function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];s.off(r,u,i);f.apply(null,e)},i.guid=f.guid,le(r,"one",u,i))},off:function(n,t,i){if(!n||sk(n))pt(this.eventBusEl_,n,t);else{var r=n,u=t;kl(r);hk(u);ck(i);i=s(this,i);this.off("dispose",i);r.nodeName?(pt(r,u,i),pt(r,"dispose",i)):fs(r)&&(r.off(u,i),r.off("dispose",i))}},trigger:function(n,t){return yu(this.eventBusEl_,n,t)}};ak={state:{},setState:function(n){var i=this,t;return typeof n=="function"&&(n=n()),t=void 0,hu(n,function(n,r){i.state[r]!==n&&(t=t||{},t[r]={from:i.state[r],to:n});i.state[r]=n}),t&&fs(this)&&this.trigger({changes:t,type:"statechanged"}),t}};i=function(){function n(t,i,r){if(f(this,n),this.player_=!t&&this.play?t=this:t,this.options_=p({},this.options_),i=this.options_=p(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var u=t&&t.id&&t.id()||"no_player";this.id_=u+"_component_"+wr()}this.name_=i.name||null;i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl());i.evented!==!1&&dl(this,{eventBusKey:this.el_?"el_":null});vk(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};i.initChildren!==!1&&this.initChildren();this.ready(r);i.reportTouchActivity!==!1&&this.enableTouchActivity()}return n.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),rk(this.el_),this.el_=null);this.player_=null},n.prototype.player=function(){return this.player_},n.prototype.options=function(n){return(l.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),!n)?this.options_:(this.options_=p(this.options_,n),this.options_)},n.prototype.el=function(){return this.el_},n.prototype.createEl=function(n,t,i){return g(n,t,i)},n.prototype.localize=function(n,t){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:n,u=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),f=r&&r[u],s=u&&u.split("-")[0],e=r&&r[s],i=o;return f&&f[n]?i=f[n]:e&&e[n]&&(i=e[n]),t&&(i=i.replace(/\{(\d+)\}/g,function(n,i){var r=t[i-1],u=r;return typeof r=="undefined"&&(u=n),u})),i},n.prototype.contentEl=function(){return this.contentEl_||this.el_},n.prototype.id=function(){return this.id_},n.prototype.name=function(){return this.name_},n.prototype.children=function(){return this.children_},n.prototype.getChildById=function(n){return this.childIndex_[n]},n.prototype.getChild=function(n){if(n)return n=b(n),this.childNameIndex_[n]},n.prototype.addChild=function(t){var f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length,i=void 0,r=void 0,e,u,s,h;if(typeof t=="string"){if(r=b(t),e=f.componentClass||r,f.name=r,u=n.getComponent(e),!u)throw new Error("Component "+e+" does not exist");if(typeof u!="function")return null;i=new u(this.player_||this,f)}else i=t;return this.children_.splice(o,0,i),typeof i.id=="function"&&(this.childIndex_[i.id()]=i),r=r||i.name&&b(i.name()),r&&(this.childNameIndex_[r]=i),typeof i.el=="function"&&i.el()&&(s=this.contentEl().children,h=s[o]||null,this.contentEl().insertBefore(i.el(),h)),i},n.prototype.removeChild=function(n){var i,t,r;if(typeof n=="string"&&(n=this.getChild(n)),n&&this.children_){for(i=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===n){i=!0;this.children_.splice(t,1);break}i&&(this.childIndex_[n.id()]=null,this.childNameIndex_[n.name()]=null,r=n.el(),r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el()))}},n.prototype.initChildren=function(){var i=this,t=this.options_.children;if(t){var u=this.options_,f=function(n){var r=n.name,t=n.opts,f;(u[r]!==undefined&&(t=u[r]),t!==!1)&&(t===!0&&(t={}),t.playerOptions=i.options_.playerOptions,f=i.addChild(r,t),f&&(i[r]=f))},r=void 0,e=n.getComponent("Tech");r=Array.isArray(t)?t:Object.keys(t);r.concat(Object.keys(this.options_).filter(function(n){return!r.some(function(t){return typeof t=="string"?n===t:n===t.name})})).map(function(n){var r=void 0,u=void 0;return typeof n=="string"?(r=n,u=t[r]||i.options_[r]||{}):(r=n.name,u=n),{name:r,opts:u}}).filter(function(t){var i=n.getComponent(t.opts.componentClass||b(t.name));return i&&!e.isTech(i)}).forEach(f)}},n.prototype.buildCSSClass=function(){return""},n.prototype.ready=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(n);return}t?n.call(this):this.setTimeout(n,1)}},n.prototype.triggerReady=function(){this.isReady_=!0;this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[];n&&n.length>0&&n.forEach(function(n){n.call(this)},this);this.trigger("ready")},1)},n.prototype.$=function(n,t){return rr(n,t||this.contentEl())},n.prototype.$$=function(n,t){return nk(n,t||this.contentEl())},n.prototype.hasClass=function(n){return lu(this.el_,n)},n.prototype.addClass=function(n){pr(this.el_,n)},n.prototype.removeClass=function(n){ee(this.el_,n)},n.prototype.toggleClass=function(n,t){ab(this.el_,n,t)},n.prototype.show=function(){this.removeClass("vjs-hidden")},n.prototype.hide=function(){this.addClass("vjs-hidden")},n.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},n.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.prototype.getAttribute=function(n){return yb(this.el_,n)},n.prototype.setAttribute=function(n,t){oe(this.el_,n,t)},n.prototype.removeAttribute=function(n){rs(this.el_,n)},n.prototype.width=function(n,t){return this.dimension("width",n,t)},n.prototype.height=function(n,t){return this.dimension("height",n,t)},n.prototype.dimensions=function(n,t){this.width(n,!0);this.height(t)},n.prototype.dimension=function(n,t,i){if(t!==undefined){(t===null||t!==t)&&(t=0);this.el_.style[n]=(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?t:t==="auto"?"":t+"px";i||this.trigger("componentresize");return}if(!this.el_)return 0;var r=this.el_.style[n],u=r.indexOf("px");return u!==-1?parseInt(r.slice(0,u),10):parseInt(this.el_["offset"+b(n)],10)},n.prototype.currentDimension=function(n){var i=0,r,u;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");return typeof t.getComputedStyle=="function"&&(r=t.getComputedStyle(this.el_),i=r.getPropertyValue(n)||r[n]),i=parseFloat(i),i===0&&(u="offset"+b(n),i=this.el_[u]),i},n.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.prototype.currentWidth=function(){return this.currentDimension("width")},n.prototype.currentHeight=function(){return this.currentDimension("height")},n.prototype.focus=function(){this.el_.focus()},n.prototype.blur=function(){this.el_.blur()},n.prototype.emitTapEvents=function(){var r=0,n=null,u=10,f=200,t=void 0,i;this.on("touchstart",function(i){i.touches.length===1&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},r=(new Date).getTime(),t=!0)});this.on("touchmove",function(i){if(i.touches.length>1)t=!1;else if(n){var r=i.touches[0].pageX-n.pageX,f=i.touches[0].pageY-n.pageY,e=Math.sqrt(r*r+f*f);e>u&&(t=!1)}});i=function(){t=!1};this.on("touchleave",i);this.on("touchcancel",i);this.on("touchend",function(i){if(n=null,t===!0){var u=(new Date).getTime()-r;u<f&&(i.preventDefault(),this.trigger("tap"))}})},n.prototype.enableTouchActivity=function(){var n,t,i;if(this.player()&&this.player().reportUserActivity){n=s(this.player(),this.player().reportUserActivity);t=void 0;this.on("touchstart",function(){n();this.clearInterval(t);t=this.setInterval(n,250)});i=function(){n();this.clearInterval(t)};this.on("touchmove",n);this.on("touchend",i);this.on("touchcancel",i)}},n.prototype.setTimeout=function(n,i){var f=this,r,u;n=s(this,n);r=t.setTimeout(function(){f.off("dispose",u);n()},i);u=function(){return f.clearTimeout(r)};u.guid="vjs-timeout-"+r;this.on("dispose",u);return r},n.prototype.clearTimeout=function(n){t.clearTimeout(n);var i=function(){};return i.guid="vjs-timeout-"+n,this.off("dispose",i),n},n.prototype.setInterval=function(n,i){var f=this,r,u;n=s(this,n);r=t.setInterval(n,i);u=function(){return f.clearInterval(r)};u.guid="vjs-interval-"+r;this.on("dispose",u);return r},n.prototype.clearInterval=function(n){t.clearInterval(n);var i=function(){};return i.guid="vjs-interval-"+n,this.off("dispose",i),n},n.prototype.requestAnimationFrame=function(n){var u=this,i,r;if(this.supportsRaf_){n=s(this,n);i=t.requestAnimationFrame(function(){u.off("dispose",r);n()});r=function(){return u.cancelAnimationFrame(i)};r.guid="vjs-raf-"+i;this.on("dispose",r);return i}return this.setTimeout(n,1e3/60)},n.prototype.cancelAnimationFrame=function(n){if(this.supportsRaf_){t.cancelAnimationFrame(n);var i=function(){};return i.guid="vjs-raf-"+n,this.off("dispose",i),n}return this.clearTimeout(n)},n.registerComponent=function(t,i){var f,r,u,e;if(typeof t!="string"||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var o=n.getComponent("Tech"),s=o&&o.isTech(i),h=n===i||n.prototype.isPrototypeOf(i.prototype);if(s||!h){f=void 0;f=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+t+'"; '+f+".");}if(t=b(t),n.components_||(n.components_={}),r=n.getComponent("Player"),t==="Player"&&r&&r.players&&(u=r.players,e=Object.keys(u),u&&e.length>0&&e.map(function(n){return u[n]}).every(Boolean)))throw new Error("Can not register Player component after player has been created.");return n.components_[t]=i,i},n.getComponent=function(t){if(t)return t=b(t),n.components_&&n.components_[t]?n.components_[t]:void 0},n}();i.prototype.supportsRaf_=typeof t.requestAnimationFrame=="function"&&typeof t.cancelAnimationFrame=="function";i.registerComponent("Component",i);var ut=t.navigator&&t.navigator.userAgent||"",yk=/AppleWebKit\/([\d.]+)/i.exec(ut),ust=yk?parseFloat(yk.pop()):null,gl=/iPad/i.test(ut),na=/iPhone/i.test(ut)&&!gl,pk=/iPod/i.test(ut),bi=na||gl||pk,fst=function(){var n=ut.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),br=/Android/i.test(ut),ta=function(){var n=ut.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),t,i;return n?(t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]),t&&i)?parseFloat(n[1]+"."+n[2]):t?t:null:null}(),wk=br&&ta<5&&ust<537,bk=/Firefox/i.test(ut),ia=/Edge/i.test(ut),fr=!ia&&(/Chrome/i.test(ut)||/CriOS/i.test(ut)),kk=function(){var n=ut.match(/(Chrome|CriOS)\/(\d+)/);return n&&n[2]?parseFloat(n[2]):null}(),dk=function(){var t=/MSIE\s(\d+)\.\d/.exec(ut),n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(ut)&&/rv:11.0/.test(ut)&&(n=11),n}(),gk=/Safari/i.test(ut)&&!fr&&!br&&!ia,nd=(gk||bi)&&!fr,es=cu()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),est=Object.freeze({IS_IPAD:gl,IS_IPHONE:na,IS_IPOD:pk,IS_IOS:bi,IOS_VERSION:fst,IS_ANDROID:br,ANDROID_VERSION:ta,IS_NATIVE_ANDROID:wk,IS_FIREFOX:bk,IS_EDGE:ia,IS_CHROME:fr,CHROME_VERSION:kk,IE_VERSION:dk,IS_SAFARI:gk,IS_ANY_SAFARI:nd,TOUCH_ENABLED:es});var os={},ss=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],sst=ss[0],hs=void 0;for(ae=0;ae<ss.length;ae++)if(ss[ae][1]in u){hs=ss[ae];break}if(hs)for(ve=0;ve<hs.length;ve++)os[sst[ve]]=hs[ve];for(ft.prototype.code=0,ft.prototype.message="",ft.prototype.status=null,ft.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ft.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},dr=0;dr<ft.errorTypes.length;dr++)ft[ft.errorTypes[dr]]=dr,ft.prototype[ft.errorTypes[dr]]=dr;rd=hst;var ua=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i){return n[i]&&(t[i]=n[i]),t},{cues:n.cues&&Array.prototype.map.call(n.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},cst=function(n){var t=n.$$("track"),i=Array.prototype.map.call(t,function(n){return n.track}),r=Array.prototype.map.call(t,function(n){var t=ua(n.track);return n.src&&(t.src=n.src),t});return r.concat(Array.prototype.filter.call(n.textTracks(),function(n){return i.indexOf(n)===-1}).map(ua))},lst=function(n,t){return n.forEach(function(n){var i=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(n){return i.addCue(n)})}),t.textTracks()},fd={textTracksToJson:cst,jsonToTextTracks:lst,trackToJson_:ua},fa="vjs-modal-dialog",ast=27,bu=function(n){function i(t,r){f(this,i);var u=e(this,n.call(this,t,r));return u.opened_=u.hasBeenOpened_=u.hasBeenFilled_=!1,u.closeable(!u.options_.uncloseable),u.content(u.options_.content),u.contentEl_=g("div",{className:fa+"-content"},{role:"document"}),u.descEl_=g("p",{className:fa+"-description vjs-control-text",id:u.el().getAttribute("aria-describedby")}),fe(u.descEl_,u.description()),u.el_.appendChild(u.descEl_),u.el_.appendChild(u.contentEl_),u}return o(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.prototype.dispose=function(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;n.prototype.dispose.call(this)},i.prototype.buildCSSClass=function(){return fa+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},i.prototype.handleKeyPress=function(n){n.which===ast&&this.closeable()&&this.close()},i.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},i.prototype.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},i.prototype.open=function(){if(!this.opened_){var n=this.player();if(this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.closeable())this.on(this.el_.ownerDocument,"keydown",s(this,this.handleKeyPress));this.hadControls_=n.controls();n.controls(!1);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=!0}},i.prototype.opened=function(n){return typeof n=="boolean"&&this[n?"open":"close"](),this.opened_},i.prototype.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose");this.opened_=!1;this.wasPlaying_&&this.options_.pauseOnOpen&&n.play();this.closeable()&&this.off(this.el_.ownerDocument,"keydown",s(this,this.handleKeyPress));this.hadControls_&&n.controls(!0);this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();this.options_.temporary&&this.dispose()}},i.prototype.closeable=function(n){var i,t,r;if(typeof n=="boolean"){if(i=this.closeable_=!!n,t=this.getChild("closeButton"),i&&!t){r=this.contentEl_;this.contentEl_=this.el_;t=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=r;this.on(t,"close",this.close)}!i&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},i.prototype.fill=function(){this.fillWith(this.content())},i.prototype.fillWith=function(n){var t=this.contentEl(),i=t.parentNode,u=t.nextSibling,r;this.trigger("beforemodalfill");this.hasBeenFilled_=!0;i.removeChild(t);this.empty();gb(t,n);this.trigger("modalfill");u?i.insertBefore(t,u):i.appendChild(t);r=this.getChild("closeButton");r&&i.appendChild(r.el_)},i.prototype.empty=function(){this.trigger("beforemodalempty");ll(this.contentEl());this.trigger("modalempty")},i.prototype.content=function(n){return typeof n!="undefined"&&(this.content_=n),this.content_},i.prototype.conditionalFocus_=function(){var n=u.activeElement,t=this.player_.el_;if(this.previouslyActiveEl_=null,t.contains(n)||t===n){this.previouslyActiveEl_=n;this.focus();this.on(u,"keydown",this.handleKeyDown)}},i.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null);this.off(u,"keydown",this.handleKeyDown)},i.prototype.handleKeyDown=function(n){var i;if(n.which===9){var t=this.focusableEls_(),f=this.el_.querySelector(":focus"),r=void 0;for(i=0;i<t.length;i++)if(f===t[i]){r=i;break}u.activeElement===this.el_&&(r=0);n.shiftKey&&r===0?(t[t.length-1].focus(),n.preventDefault()):n.shiftKey||r!==t.length-1||(t[0].focus(),n.preventDefault())}},i.prototype.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(n){return(n instanceof t.HTMLAnchorElement||n instanceof t.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof t.HTMLInputElement||n instanceof t.HTMLSelectElement||n instanceof t.HTMLTextAreaElement||n instanceof t.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof t.HTMLIFrameElement||n instanceof t.HTMLObjectElement||n instanceof t.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable")})},i}(i);bu.prototype.options_={pauseOnOpen:!0,temporary:!0};i.registerComponent("ModalDialog",bu);gr=function(n){function t(){var u=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],i,r;for(f(this,t),i=e(this,n.call(this)),i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}}),r=0;r<u.length;r++)i.addTrack(u[r]);return i}return o(t,n),t.prototype.addTrack=function(n){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}});this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack"}))},t.prototype.removeTrack=function(n){for(var t=void 0,i=0,r=this.length;i<r;i++)if(this[i]===n){t=this[i];t.off&&t.off();this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},t}(rt);gr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(ed in gr.prototype.allowedEvents_)gr.prototype["on"+ed]=null;var ea=function(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].enabled=!1)},vst=function(n){function t(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],r,u;for(f(this,t),r=i.length-1;r>=0;r--)if(i[r].enabled){ea(i,i[r]);break}return u=e(this,n.call(this,i)),u.changing_=!1,u}return o(t,n),t.prototype.addTrack=function(t){var i=this;(t.enabled&&ea(this,t),n.prototype.addTrack.call(this,t),t.addEventListener)&&t.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,ea(i,t),i.changing_=!1,i.trigger("change"))})},t}(gr),oa=function(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].selected=!1)},yst=function(n){function t(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],r,u;for(f(this,t),r=i.length-1;r>=0;r--)if(i[r].selected){oa(i,i[r]);break}return u=e(this,n.call(this,i)),u.changing_=!1,Object.defineProperty(u,"selectedIndex",{get:function(){for(var n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set:function(){}}),u}return o(t,n),t.prototype.addTrack=function(t){var i=this;(t.selected&&oa(this,t),n.prototype.addTrack.call(this,t),t.addEventListener)&&t.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,oa(i,t),i.changing_=!1,i.trigger("change"))})},t}(gr),od=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.addTrack=function(t){n.prototype.addTrack.call(this,t);t.addEventListener("modechange",s(this,function(){this.queueTrigger("change")}));["metadata","chapters"].indexOf(t.kind)===-1&&t.addEventListener("modechange",s(this,function(){this.trigger("selectedlanguagechange")}))},t}(gr),pst=function(){function n(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t,r;for(f(this,n),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}}),t=0,r=i.length;t<r;t++)this.addTrackElement_(i[t])}return n.prototype.addTrackElement_=function(n){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}});this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},n.prototype.getTrackElementByTrack_=function(n){for(var i=void 0,t=0,r=this.trackElements_.length;t<r;t++)if(n===this.trackElements_[t].track){i=this.trackElements_[t];break}return i},n.prototype.removeTrackElement_=function(n){for(var t=0,i=this.trackElements_.length;t<i;t++)if(n===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},n}(),sd=function(){function n(t){f(this,n);n.prototype.setCues_.call(this,t);Object.defineProperty(this,"length",{get:function(){return this.length_}})}return n.prototype.setCues_=function(n){var i=this.length||0,t=0,r=n.length,u;if(this.cues_=n,this.length_=n.length,u=function(n){""+n in this||Object.defineProperty(this,""+n,{get:function(){return this.cues_[n]}})},i<r)for(t=i;t<r;t++)u.call(this,t)},n.prototype.getCueById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},n}(),wst={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},bst={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},kst={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},hd={disabled:"disabled",hidden:"hidden",showing:"showing"},sa=function(n){function t(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},o;f(this,t);var r=e(this,n.call(this)),u={id:i.id||"vjs_track_"+wr(),kind:i.kind||"",label:i.label||"",language:i.language||""},s=function(n){Object.defineProperty(r,n,{get:function(){return u[n]},set:function(){}})};for(o in u)s(o);return r}return o(t,n),t}(rt),ha=function(n){var o=["protocol","hostname","port","pathname","search","hash","host"],f=u.createElement("a"),s,r,i,e;for(f.href=n,s=f.host===""&&f.protocol!=="file:",r=void 0,s&&(r=u.createElement("div"),r.innerHTML='<a href="'+n+'"><\/a>',f=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),u.body.appendChild(r)),i={},e=0;e<o.length;e++)i[o[e]]=f[o[e]];return i.protocol==="http:"&&(i.host=i.host.replace(/:80$/,"")),i.protocol==="https:"&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=t.location.protocol),s&&u.body.removeChild(r),i},cd=function(n){if(!n.match(/^https?:\/\//)){var t=u.createElement("div");t.innerHTML='<a href="'+n+'">x<\/a>';n=t.firstChild.href}return n},ca=function(n){if(typeof n=="string"){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(n);if(t)return t.pop().toLowerCase()}return""},cs=function(n){var i=t.location,r=ha(n),u=r.protocol===":"?i.protocol:r.protocol;return u+r.host!==i.protocol+i.host},dst=Object.freeze({parseUrl:ha,getAbsoluteURL:cd,getFileExtension:ca,isCrossOrigin:cs}),la=nht,gst=Object.prototype.toString;var ld=Object.freeze({"default":la,__moduleExports:la}),pe=el(function(n,t){function i(n){return n.replace(/^\s*|\s*$/g,"")}t=n.exports=i;t.left=function(n){return n.replace(/^\s*/,"")};t.right=function(n){return n.replace(/\s*$/,"")}}),tht=pe.left,iht=pe.right,ad=Object.freeze({"default":pe,__moduleExports:pe,left:tht,right:iht}),vd=ld&&la||ld,aa=uht,rht=Object.prototype.toString,yd=Object.prototype.hasOwnProperty;var pd=Object.freeze({"default":aa,__moduleExports:aa}),va=ad&&pe||ad,sht=pd&&aa||pd,hht=function(n){return Object.prototype.toString.call(n)==="[object Array]"},ya=function(n){if(!n)return{};var t={};return sht(va(n).split("\n"),function(n){var u=n.indexOf(":"),i=va(n.slice(0,u)).toLowerCase(),r=va(n.slice(u+1));typeof t[i]=="undefined"?t[i]=r:hht(t[i])?t[i].push(r):t[i]=[t[i],r]}),t},wd=Object.freeze({"default":ya,__moduleExports:ya}),pa=lht,cht=Object.prototype.hasOwnProperty;var bd=Object.freeze({"default":pa,__moduleExports:pa}),aht=wd&&ya||wd,vht=bd&&pa||bd,kd=er;er.XMLHttpRequest=t.XMLHttpRequest||bht;er.XDomainRequest="withCredentials"in new er.XMLHttpRequest?er.XMLHttpRequest:t.XDomainRequest;yht(["get","put","post","patch","head","delete"],function(n){er[n==="delete"?"del":n]=function(t,i,r){return i=dd(t,i,r),i.method=n.toUpperCase(),gd(i)}});var ng=function(n,i){var r=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),u=[];r.oncue=function(n){i.addCue(n)};r.onparsingerror=function(n){u.push(n)};r.onflush=function(){i.trigger({type:"loadeddata",target:i})};r.parse(n);u.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+i.src),u.forEach(function(n){return l.error(n)}),t.console&&t.console.groupEnd&&t.console.groupEnd());r.flush()},kht=function(n,i){var r={uri:n},u=cs(n);u&&(r.cors=u);kd(r,s(this,function(n,r,u){if(n)return l.error(n,r);if(i.loaded_=!0,typeof t.WebVTT!="function"){if(i.tech_){var f=function(){return ng(u,i)};i.tech_.on("vttjsloaded",f);i.tech_.on("vttjserror",function(){l.error("vttjs failed to load, stopping trying to process "+i.src);i.tech_.off("vttjsloaded",f)})}}else ng(u,i)}))},we=function(n){function i(){var u=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t;if(f(this,i),!u.tech)throw new Error("A tech was not provided.");var r=p(u,{kind:kst[u.kind]||"subtitles",language:u.language||u.srclang||""}),o=hd[r.mode]||"disabled",a=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(o="hidden");t=e(this,n.call(this,r));t.tech_=r.tech;t.cues_=[];t.activeCues_=[];var v=new sd(t.cues_),c=new sd(t.activeCues_),h=!1,l=s(t,function(){this.activeCues=this.activeCues;h&&(this.trigger("cuechange"),h=!1)});return o!=="disabled"&&t.tech_.ready(function(){t.tech_.on("timeupdate",l)},!0),Object.defineProperties(t,{"default":{get:function(){return a},set:function(){}},mode:{get:function(){return o},set:function(n){var t=this;hd[n]&&(o=n,o!=="disabled"?this.tech_.ready(function(){t.tech_.on("timeupdate",l)},!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?v:null},set:function(){}},activeCues:{get:function(){var i,t,r,f,n,u;if(!this.loaded_)return null;if(this.cues.length===0)return c;for(i=this.tech_.currentTime(),t=[],r=0,f=this.cues.length;r<f;r++)n=this.cues[r],n.startTime<=i&&n.endTime>=i?t.push(n):n.startTime===n.endTime&&n.startTime<=i&&n.startTime+.5>=i&&t.push(n);if(h=!1,t.length!==this.activeCues_.length)h=!0;else for(u=0;u<t.length;u++)this.activeCues_.indexOf(t[u])===-1&&(h=!0);return this.activeCues_=t,c.setCues_(this.activeCues_),c},set:function(){}}}),r.src?(t.src=r.src,kht(r.src,t)):t.loaded_=!0,t}return o(i,n),i.prototype.addCue=function(n){var i=n,u,f,r;if(t.vttjs&&!(n instanceof t.vttjs.VTTCue)){i=new t.vttjs.VTTCue(n.startTime,n.endTime,n.text);for(u in n)u in i||(i[u]=n[u]);i.id=n.id;i.originalCue_=n}for(f=this.tech_.textTracks(),r=0;r<f.length;r++)f[r]!==this&&f[r].removeCue(i);this.cues_.push(i);this.cues.setCues_(this.cues_)},i.prototype.removeCue=function(n){for(var i=this.cues_.length,t;i--;)if(t=this.cues_[i],t===n||t.originalCue_&&t.originalCue_===n){this.cues_.splice(i,1);this.cues.setCues_(this.cues_);break}},i}(sa);we.prototype.allowedEvents_={cuechange:"cuechange"};var tg=function(n){function t(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};f(this,t);var r=p(o,{kind:bst[o.kind]||""}),i=e(this,n.call(this,r)),u=!1;return Object.defineProperty(i,"enabled",{get:function(){return u},set:function(n){typeof n=="boolean"&&n!==u&&(u=n,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return o(t,n),t}(sa),ig=function(n){function t(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};f(this,t);var i=p(o,{kind:wst[o.kind]||""}),r=e(this,n.call(this,i)),u=!1;return Object.defineProperty(r,"selected",{get:function(){return u},set:function(n){typeof n=="boolean"&&n!==u&&(u=n,this.trigger("selectedchange"))}}),i.selected&&(r.selected=i.selected),r}return o(t,n),t}(sa),rg=0,ug=2,ku=function(n){function t(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};f(this,t);var i=e(this,n.call(this)),u=void 0,r=new we(o);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(i,{readyState:{get:function(){return u}},track:{get:function(){return r}}}),u=rg,r.addEventListener("loadeddata",function(){u=ug;i.trigger({type:"load",target:i})}),i}return o(t,n),t}(rt);ku.prototype.allowedEvents_={load:"load"};ku.NONE=rg;ku.LOADING=1;ku.LOADED=ug;ku.ERROR=3;wt={audio:{ListClass:vst,TrackClass:tg,capitalName:"Audio"},video:{ListClass:yst,TrackClass:ig,capitalName:"Video"},text:{ListClass:od,TrackClass:we,capitalName:"Text"}};Object.keys(wt).forEach(function(n){wt[n].getterName=n+"Tracks";wt[n].privateName=n+"Tracks_"});du={remoteText:{ListClass:od,TrackClass:we,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:pst,TrackClass:ku,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};at=p(wt,du);du.names=Object.keys(du);wt.names=Object.keys(wt);at.names=[].concat(du.names).concat(wt.names);ls=Object.create||function(){function n(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=t,new n}}();bt.prototype=ls(Error.prototype);bt.prototype.constructor=bt;bt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};be.prototype={set:function(n,t){this.get(n)||t===""||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){var i;return(i=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(n,t),!0):!1}};var ght={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},nct={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},tct={v:"title",lang:"lang"},fg={rt:"ruby"};ba=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];as.prototype.applyStyles=function(n,t){t=t||this.div;for(var i in n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};as.prototype.formatStyle=function(n,t){return n===0?0:n+t};vs.prototype=ls(as.prototype);vs.prototype.constructor=vs;et.prototype.move=function(n,t){t=t!==undefined?t:this.lineHeight;switch(n){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t}};et.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};et.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};et.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};et.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};et.prototype.intersectPercentage=function(n){var t=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),i=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),r=t*i;return r/(this.height*this.width)};et.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};et.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n,{left:n.left,right:n.right,top:n.top||i,height:n.height||t,bottom:n.bottom||i+(n.height||t),width:n.width||r}};gu.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};gu.convertCueToDOMTree=function(n,t){return!n||!t?null:eg(n,t)};var ect=.05,oct="sans-serif",sct="1.5%";gu.processCues=function(n,t,i){function o(n){for(var t=0;t<n.length;t++)if(n[t].hasBeenReset||!n[t].displayState)return!0;return!1}var r,u;if(!n||!t||!i)return null;while(i.firstChild)i.removeChild(i.firstChild);if(r=n.document.createElement("div"),r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=sct,i.appendChild(r),!o(t)){for(u=0;u<t.length;u++)r.appendChild(t[u].displayState);return}var f=[],e=et.getSimpleBoxPosition(r),s=Math.round(e.height*ect*100)/100,h={font:s+"px "+oct};(function(){for(var i,u,o=0;o<t.length;o++)u=t[o],i=new vs(n,u,h),r.appendChild(i.div),fct(n,i,e,f),u.displayState=i.div,f.push(et.getSimpleBoxPosition(i))})()};gu.Parser=function(n,t,i){i||(i=t,t={});t||(t={});this.window=n;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=i||new TextDecoder("utf8");this.regionList=[]};gu.Parser.prototype={reportOrThrowError:function(n){if(n instanceof bt)this.onparsingerror&&this.onparsingerror(n);else throw n;},parse:function(n){function f(){for(var i=t.buffer,n=0,r;n<i.length&&i[n]!=="\r"&&i[n]!=="\n";)++n;return r=i.substr(0,n),i[n]==="\r"&&++n,i[n]==="\n"&&++n,t.buffer=i.substr(n),r}function s(n){var i=new be,r;ke(n,function(n,t){var u,r;switch(n){case"id":i.set(n,t);break;case"width":i.percent(n,t);break;case"lines":i.integer(n,t);break;case"regionanchor":case"viewportanchor":if(u=t.split(","),u.length!==2)break;if(r=new be,r.percent("x",u[0]),r.percent("y",u[1]),!r.has("x")||!r.has("y"))break;i.set(n+"X",r.get("x"));i.set(n+"Y",r.get("y"));break;case"scroll":i.alt(n,t,["up"])}},/=/,/\s/);i.has("id")&&(r=new(t.vttjs.VTTRegion||t.window.VTTRegion),r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r}))}function h(n){var i=new be;ke(n,function(n,t){switch(n){case"MPEGT":i.integer(n+"S",t);break;case"LOCA":i.set(n+"L",wa(t))}},/[^\d]:/,/,/);t.ontimestampmap&&t.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}function c(n){n.match(/X-TIMESTAMP-MAP/)?ke(n,function(n,t){switch(n){case"X-TIMESTAMP-MAP":h(t)}},/=/):ke(n,function(n,t){switch(n){case"Region":s(t)}},/:/)}var t=this,i,u,r,o;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;if(i=f(),u=i.match(/^WEBVTT([ \t].*)?$/),!u||!u[0])throw new bt(bt.Errors.BadSignature);t.state="HEADER"}for(r=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;r?r=!1:i=f();switch(t.state){case"HEADER":/:/.test(i)?c(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",i.indexOf("-->")===-1){t.cue.id=i;continue}case"CUE":try{dht(i,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(o=i.indexOf("-->")!==-1,!i||o&&(r=!0)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}t.cue.text&&(t.cue.text+="\n");t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){if(t.reportOrThrowError(e),t.state==="CUETEXT"&&t.cue&&t.oncue)t.oncue(t.cue);t.cue=null;t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+="\n\n",n.parse()),n.state==="INITIAL")throw new bt(bt.Errors.BadSignature);}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};var ka=gu,og=Object.freeze({"default":ka,__moduleExports:ka}),hct="auto",cct={"":1,lr:1,rl:1},lct={start:1,middle:1,end:1,left:1,right:1};sg.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var ga=sg,hg=Object.freeze({"default":ga,__moduleExports:ga}),vct={"":!0,up:!0};var nv=pct,cg=Object.freeze({"default":nv,__moduleExports:nv}),wct=og&&ka||og,bct=hg&&ga||hg,kct=cg&&nv||cg,ge=el(function(n){var i=n.exports={WebVTT:wct,VTTCue:bct,VTTRegion:kct};t.vttjs=i;t.WebVTT=i.WebVTT;var r=i.VTTCue,u=i.VTTRegion,f=t.VTTCue,e=t.VTTRegion;i.shim=function(){t.VTTCue=r;t.VTTRegion=u};i.restore=function(){t.VTTCue=f;t.VTTRegion=e};t.VTTCue||i.shim()}),cui=ge.WebVTT,lui=ge.VTTCue,aui=ge.VTTRegion;y=function(n){function i(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){},t;f(this,i);r.reportTouchActivity=!1;t=e(this,n.call(this,null,r,u));t.hasStarted_=!1;t.on("playing",function(){this.hasStarted_=!0});t.on("loadstart",function(){this.hasStarted_=!1});return at.names.forEach(function(n){var i=at[n];r&&r[i.getterName]&&(t[i.privateName]=r[i.getterName])}),t.featuresProgressEvents||t.manualProgressOn(),t.featuresTimeupdateEvents||t.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(n){r["native"+n+"Tracks"]===!1&&(t["featuresNative"+n+"Tracks"]=!1)}),r.nativeCaptions===!1||r.nativeTextTracks===!1?t.featuresNativeTextTracks=!1:(r.nativeCaptions===!0||r.nativeTextTracks===!0)&&(t.featuresNativeTextTracks=!0),t.featuresNativeTextTracks||t.emulateTextTracks(),t.autoRemoteTextTracks_=new at.text.ListClass,t.initTrackListeners(),r.nativeControlsForTouch||t.emitTapEvents(),t.constructor&&(t.name_=t.constructor.name||"Unknown Tech"),t}return o(i,n),i.prototype.triggerSourceset=function(n){var t=this;if(!this.isReady_)this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(n)},1)});this.trigger({src:n,type:"sourceset"})},i.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);this.manualProgress=!0;this.one("ready",this.trackProgress)},i.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)},i.prototype.trackProgress=function(){this.stopTrackingProgress();this.progressInterval=this.setInterval(s(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress");this.bufferedPercent_=n;n===1&&this.stopTrackingProgress()}),500)},i.prototype.onDurationChange=function(){this.duration_=this.duration()},i.prototype.buffered=function(){return kr(0,0)},i.prototype.bufferedPercent=function(){return id(this.buffered(),this.duration_)},i.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)},i.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)},i.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.prototype.dispose=function(){this.clearTracks(wt.names);this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();n.prototype.dispose.call(this)},i.prototype.clearTracks=function(n){var t=this;n=[].concat(n);n.forEach(function(n){for(var i=t[n+"Tracks"]()||[],u=i.length,r;u--;)r=i[u],n==="text"&&t.removeRemoteTextTrack(r),i.removeTrack(r)})},i.prototype.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],t=n.length,i;t--;)i=n[t],this.removeRemoteTextTrack(i)},i.prototype.reset=function(){},i.prototype.error=function(n){return n!==undefined&&(this.error_=new ft(n),this.trigger("error")),this.error_},i.prototype.played=function(){return this.hasStarted_?kr(0,0):kr()},i.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.prototype.initTrackListeners=function(){var n=this;wt.names.forEach(function(t){var u=wt[t],i=function(){n.trigger(t+"trackchange")},r=n[u.getterName]();r.addEventListener("removetrack",i);r.addEventListener("addtrack",i);n.on("dispose",function(){r.removeEventListener("removetrack",i);r.removeEventListener("addtrack",i)})})},i.prototype.addWebVttScript_=function(){var i=this,n;if(!t.WebVTT)if(u.body.contains(this.el())){if(!this.options_["vtt.js"]&&re(ge)&&Object.keys(ge).length>0){this.trigger("vttjsloaded");return}n=u.createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js";n.onload=function(){i.trigger("vttjsloaded")};n.onerror=function(){i.trigger("vttjserror")};this.on("dispose",function(){n.onload=null;n.onerror=null});t.WebVTT=!0;this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},i.prototype.emulateTextTracks=function(){var e=this,n=this.textTracks(),r=this.remoteTextTracks(),u=function(t){return n.addTrack(t.track)},f=function(t){return n.removeTrack(t.track)},i,t;r.on("addtrack",u);r.on("removetrack",f);this.addWebVttScript_();i=function(){return e.trigger("texttrackchange")};t=function(){var t,r;for(i(),t=0;t<n.length;t++)r=n[t],r.removeEventListener("cuechange",i),r.mode==="showing"&&r.addEventListener("cuechange",i)};t();n.addEventListener("change",t);n.addEventListener("addtrack",t);n.addEventListener("removetrack",t);this.on("dispose",function(){var e,o;for(r.off("addtrack",u),r.off("removetrack",f),n.removeEventListener("change",t),n.removeEventListener("addtrack",t),n.removeEventListener("removetrack",t),e=0;e<n.length;e++)o=n[e],o.removeEventListener("cuechange",i)})},i.prototype.addTextTrack=function(n,t,i){if(!n)throw new Error("TextTrack kind is required but was not provided");return dct(this,n,t,i)},i.prototype.createRemoteTextTrack=function(n){var t=p(n,{tech:this});return new du.remoteTextEl.TrackClass(t)},i.prototype.addRemoteTextTrack=function(){var i=this,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments[1],t=this.createRemoteTextTrack(r);return n!==!0&&n!==!1&&(l.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(t),this.remoteTextTracks().addTrack(t.track),n!==!0&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(t.track)}),t},i.prototype.removeRemoteTextTrack=function(n){var t=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(t);this.remoteTextTracks().removeTrack(n);this.autoRemoteTextTracks_.removeTrack(n)},i.prototype.getVideoPlaybackQuality=function(){return{}},i.prototype.setPoster=function(){},i.prototype.playsinline=function(){},i.prototype.setPlaysinline=function(){},i.prototype.overrideNativeAudioTracks=function(){},i.prototype.overrideNativeVideoTracks=function(){},i.prototype.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(n){return i.canPlayType(n.type)},i.isTech=function(n){return n.prototype instanceof i||n instanceof i||n===i},i.registerTech=function(n,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error("Tech "+n+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=b(n),i.techs_[n]=t,n!=="Tech"&&i.defaultTechOrder_.push(n),t},i.getTech=function(n){if(n)return(n=b(n),i.techs_&&i.techs_[n])?i.techs_[n]:t&&t.videojs&&t.videojs[n]?(l.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[n]):void 0},i}(i);at.names.forEach(function(n){var t=at[n];y.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});y.prototype.featuresVolumeControl=!0;y.prototype.featuresMuteControl=!0;y.prototype.featuresFullscreenResize=!1;y.prototype.featuresPlaybackRate=!1;y.prototype.featuresProgressEvents=!1;y.prototype.featuresSourceset=!1;y.prototype.featuresTimeupdateEvents=!1;y.prototype.featuresNativeTextTracks=!1;y.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){var r=n.sourceHandlers;r||(r=n.sourceHandlers=[]);i===undefined&&(i=r.length);r.splice(i,0,t)};n.canPlayType=function(t){for(var u=n.sourceHandlers||[],i=void 0,r=0;r<u.length;r++)if(i=u[r].canPlayType(t),i)return i;return""};n.selectSourceHandler=function(t,i){for(var u=n.sourceHandlers||[],f=void 0,r=0;r<u.length;r++)if(f=u[r].canHandleSource(t,i),f)return u[r];return null};n.canPlaySource=function(t,i){var r=n.selectSourceHandler(t,i);return r?r.canHandleSource(t,i):""};["seekable","seeking","duration"].forEach(function(n){var t=this[n];typeof t=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},n.prototype);n.prototype.setSource=function(t){var i=n.selectSourceHandler(t,this.options_);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:l.error("No source handler found for the current source."));this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);i!==n.nativeSourceHandler&&(this.currentSource_=t);this.sourceHandler_=i.handleSource(t,this,this.options_);this.on("dispose",this.disposeSourceHandler)};n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null);this.cleanupAutoTextTracks();this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};i.registerComponent("Tech",y);y.registerTech("Tech",y);y.defaultTechOrder_=[];var nu={},tv={},ys={};var ult={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},flt={setCurrentTime:1},ag={play:1,pause:1};var hlt={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},vg=function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=ca(n),i=hlt[t.toLowerCase()];return i||""},clt=function(n,t){var u,f,r,i;if(!t)return"";if(n.cache_.source.src===t&&n.cache_.source.type)return n.cache_.source.type;if(u=n.cache_.sources.filter(function(n){return n.src===t}),u.length)return u[0].type;for(f=n.$$("source"),r=0;r<f.length;r++)if(i=f[r],i.type&&i.src&&i.src===t)return i.type;return vg(t)},yg=function yg(n){if(Array.isArray(n)){var t=[];n.forEach(function(n){n=yg(n);Array.isArray(n)?t=t.concat(n):ir(n)&&t.push(n)});n=t}else n=typeof n=="string"&&n.trim()?[pg({src:n})]:ir(n)&&typeof n.src=="string"&&n.src&&n.src.trim()?[pg(n)]:[];return n};wg=function(n){function t(r,u,o){var a,v,h,l,s,c;if(f(this,t),a=p({createEl:!1},u),v=e(this,n.call(this,r,a,o)),u.playerOptions.sources&&u.playerOptions.sources.length!==0)r.src(u.playerOptions.sources);else for(h=0,l=u.playerOptions.techOrder;h<l.length;h++)if(s=b(l[h]),c=y.getTech(s),s||(c=i.getComponent(s)),c&&c.isSupported()){r.loadTech_(s);break}return v}return o(t,n),t}(i);i.registerComponent("MediaLoader",wg);no=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.emitTapEvents(),u.enable(),u}return o(t,n),t.prototype.createEl=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},u;return t=k({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass(),tabIndex:0},t),i==="button"&&l.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),r=k({role:"button"},r),this.tabIndex_=t.tabIndex,u=n.prototype.createEl.call(this,i,t,r),this.createControlTextEl(u),u},t.prototype.dispose=function(){this.controlTextEl_=null;n.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(n){return this.controlTextEl_=g("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},t.prototype.controlText=function(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el(),t;if(n===undefined)return this.controlText_||"Need Text";t=this.localize(n);this.controlText_=n;fe(this.controlTextEl_,t);this.nonIconControl||i.setAttribute("title",t)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){if(!this.enabled_){this.enabled_=!0;this.removeClass("vjs-disabled");this.el_.setAttribute("aria-disabled","false");typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_);this.on(["tap","click"],this.handleClick);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur)}},t.prototype.disable=function(){this.enabled_=!1;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex");this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur)},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){ei(u,"keydown",s(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){t.which===32||t.which===13?(t.preventDefault(),this.trigger("click")):n.prototype.handleKeyPress&&n.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){pt(u,"keydown",s(this,this.handleKeyPress))},t}(i);i.registerComponent("ClickableComponent",no);bg=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.update();i.on("posterchange",s(u,u.update));return u}return o(t,n),t.prototype.dispose=function(){this.player().off("posterchange",this.update);n.prototype.dispose.call(this)},t.prototype.createEl=function(){return g("div",{className:"vjs-poster",tabIndex:-1})},t.prototype.update=function(){var n=this.player().poster();this.setSrc(n);n?this.show():this.hide()},t.prototype.setSrc=function(n){var t="";n&&(t='url("'+n+'")');this.el_.style.backgroundImage=t},t.prototype.handleClick=function(){this.player_.controls()&&(this.player_.paused()?ye(this.player_.play()):this.player_.pause())},t}(no);i.registerComponent("PosterImage",bg);var dt="#222",kg="#ccc",llt={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};dg=function(n){function i(r,u,o){f(this,i);var h=e(this,n.call(this,r,u,o)),c=s(h,h.updateDisplay);r.on("loadstart",s(h,h.toggleDisplay));r.on("texttrackchange",c);r.on("loadstart",s(h,h.preselectTrack));return r.ready(s(h,function(){var i,n;if(r.tech_&&r.tech_.featuresNativeTextTracks){this.hide();return}r.on("fullscreenchange",c);r.on("playerresize",c);t.addEventListener("orientationchange",c);r.on("dispose",function(){return t.removeEventListener("orientationchange",c)});for(i=this.options_.playerOptions.tracks||[],n=0;n<i.length;n++)this.player_.addRemoteTextTrack(i[n],!0);this.preselectTrack()})),h}return o(i,n),i.prototype.preselectTrack=function(){for(var n,o={captions:1,subtitles:1},e=this.player_.textTracks(),t=this.player_.cache_.selectedLanguage,r=void 0,u=void 0,i=void 0,f=0;f<e.length;f++)n=e[f],t&&t.enabled&&t.language===n.language?n.kind===t.kind?i=n:i||(i=n):t&&!t.enabled?(i=null,r=null,u=null):n.default&&(n.kind!=="descriptions"||r?n.kind in o&&!u&&(u=n):r=n);i?i.mode="showing":u?u.mode="showing":r&&(r.mode="showing")},i.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.prototype.clearDisplay=function(){typeof t.WebVTT=="function"&&t.WebVTT.processCues(t,[],this.el_)},i.prototype.updateDisplay=function(){var r=this.player_.textTracks(),n;this.clearDisplay();for(var t=null,i=null,u=r.length;u--;)n=r[u],n.mode==="showing"&&(n.kind==="descriptions"?t=n:i=n);i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):t&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},i.prototype.updateForTrack=function(n){var u,f,i,e,o,r,s;if(typeof t.WebVTT=="function"&&n.activeCues){for(u=[],f=0;f<n.activeCues.length;f++)u.push(n.activeCues[f]);if(t.WebVTT.processCues(t,u,this.el_),this.player_.textTrackSettings)for(i=this.player_.textTrackSettings.getValues(),e=u.length;e--;)(o=u[e],o)&&(r=o.displayState,i.color&&(r.firstChild.style.color=i.color),i.textOpacity&&uv(r.firstChild,"color",rv(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(r.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&uv(r.firstChild,"backgroundColor",rv(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?uv(r,"backgroundColor",rv(i.windowColor,i.windowOpacity)):r.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?r.firstChild.style.textShadow="2px 2px 3px "+dt+", 2px 2px 4px "+dt+", 2px 2px 5px "+dt:i.edgeStyle==="raised"?r.firstChild.style.textShadow="1px 1px "+dt+", 2px 2px "+dt+", 3px 3px "+dt:i.edgeStyle==="depressed"?r.firstChild.style.textShadow="1px 1px "+kg+", 0 1px "+kg+", -1px -1px "+dt+", 0 -1px "+dt:i.edgeStyle==="uniform"&&(r.firstChild.style.textShadow="0 0 4px "+dt+", 0 0 4px "+dt+", 0 0 4px "+dt+", 0 0 4px "+dt)),i.fontPercent&&i.fontPercent!==1&&(s=t.parseFloat(r.style.fontSize),r.style.fontSize=s*i.fontPercent+"px",r.style.height="auto",r.style.top="auto",r.style.bottom="2px"),i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=llt[i.fontFamily]))}},i}(i);i.registerComponent("TextTrackDisplay",dg);gg=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(){var i=this.player_.isAudio(),r=this.localize(i?"Audio Player":"Video Player"),u=g("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),t=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(u),t},t}(i);i.registerComponent("LoadingSpinner",gg);ci=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},u;return n="button",t=k({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass()},t),r=k({type:"button"},r),u=i.prototype.createEl.call(this,n,t,r),this.createControlTextEl(u),u},t.prototype.addChild=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=this.constructor.name;return l.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),i.prototype.addChild.call(this,n,t)},t.prototype.enable=function(){n.prototype.enable.call(this);this.el_.removeAttribute("disabled")},t.prototype.disable=function(){n.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){t.which!==32&&t.which!==13&&n.prototype.handleKeyPress.call(this,t)},t}(no);i.registerComponent("Button",ci);fv=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.mouseused_=!1;u.on("mousedown",u.handleMouseDown);return u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(n){var t=this.player_.play(),i,r,u;if(this.mouseused_&&n.clientX&&n.clientY){ye(t);return}if(i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle"),!r){this.player_.focus();return}u=function(){return r.focus()};ud(t)?t.then(u,function(){}):this.setTimeout(u,1)},t.prototype.handleKeyPress=function(t){this.mouseused_=!1;n.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(){this.mouseused_=!0},t}(ci);fv.prototype.controlText_="Play Video";i.registerComponent("BigPlayButton",fv);nn=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.controlText(r&&r.controlText||u.localize("Close")),u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(ci);i.registerComponent("CloseButton",nn);ev=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.on(i,"play",u.handlePlay);u.on(i,"pause",u.handlePause);u.on(i,"ended",u.handleEnded);return u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(n){this.removeClass("vjs-ended");this.player_.paused()?this.handlePause(n):this.handlePlay(n)},t.prototype.handlePlay=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")},t.prototype.handleEnded=function(){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)},t}(ci);ev.prototype.controlText_="Play";i.registerComponent("PlayToggle",ev);ov=function(n,t){n=n<0?0:n;var i=Math.floor(n%60),r=Math.floor(n/60%60),u=Math.floor(n/3600),f=Math.floor(t/60%60),e=Math.floor(t/3600);return(isNaN(n)||n===Infinity)&&(u=r=i="-"),u=u>0||e>0?u+":":"",r=((u||f>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,u+r+i};ps=ov;iu=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.throttledUpdateContent=pu(s(u,u.updateContent),25);u.on(i,"timeupdate",u.throttledUpdateContent);return u}return o(t,n),t.prototype.createEl=function(){var t=this.buildCSSClass(),i=n.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" <\/span>"});return this.contentEl_=g("span",{className:t+"-display"},{"aria-live":"off"}),this.updateTextNode_(),i.appendChild(this.contentEl_),i},t.prototype.dispose=function(){this.contentEl_=null;this.textNode_=null;n.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){while(this.contentEl_.firstChild)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=u.createTextNode(this.formattedTime_||this.formatTime_(0));this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(n){return nf(n)},t.prototype.updateFormattedTime_=function(n){var t=this.formatTime_(n);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(){},t}(i);iu.prototype.labelText_="Time";iu.prototype.controlText_="Time";i.registerComponent("TimeDisplay",iu);ws=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.on(i,"ended",u.handleEnded);return u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(n)},t.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(iu);ws.prototype.labelText_="Current Time";ws.prototype.controlText_="Current Time";i.registerComponent("CurrentTimeDisplay",ws);bs=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.on(i,"durationchange",u.updateContent);u.on(i,"loadedmetadata",u.throttledUpdateContent);return u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(){var n=this.player_.duration();n&&this.duration_!==n&&(this.duration_=n,this.updateFormattedTime_(n))},t}(iu);bs.prototype.labelText_="Duration";bs.prototype.controlText_="Duration";i.registerComponent("DurationDisplay",bs);tn=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/<\/span><\/div>"})},t}(i);i.registerComponent("TimeDivider",tn);ks=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.on(i,"durationchange",u.throttledUpdateContent);u.on(i,"ended",u.handleEnded);return u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+n.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(0)},t}(iu);ks.prototype.labelText_="Remaining Time";ks.prototype.controlText_="Remaining Time";i.registerComponent("RemainingTimeDisplay",ks);rn=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.updateShowing();u.on(u.player(),"durationchange",u.updateShowing);return u}return o(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=g("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" <\/span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null;n.prototype.dispose.call(this)},t.prototype.updateShowing=function(){this.player().duration()===Infinity?this.show():this.hide()},t}(i);i.registerComponent("LiveDisplay",rn);ds=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.bar=u.getChild(u.options_.barName),u.vertical(!!u.options_.vertical),u.enable(),u}return o(t,n),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){if(!this.enabled()){this.on("mousedown",this.handleMouseDown);this.on("touchstart",this.handleMouseDown);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur);this.on("click",this.handleClick);this.on(this.player_,"controlsvisible",this.update);if(this.playerEvent)this.on(this.player_,this.playerEvent,this.update);this.removeClass("disabled");this.setAttribute("tabindex",0);this.enabled_=!0}},t.prototype.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown);this.off("touchstart",this.handleMouseDown);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);this.off("click",this.handleClick);this.off(this.player_,"controlsvisible",this.update);this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.removeAttribute("tabindex");this.addClass("disabled");this.playerEvent&&this.off(this.player_,this.playerEvent,this.update);this.enabled_=!1}},t.prototype.createEl=function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return i.className=i.className+" vjs-slider",i=k({tabIndex:0},i),r=k({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),n.prototype.createEl.call(this,t,i,r)},t.prototype.handleMouseDown=function(n){var t=this.bar.el_.ownerDocument;n.type==="mousedown"&&n.preventDefault();n.type!=="touchstart"||fr||n.preventDefault();pb();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(t,"mousemove",this.handleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchmove",this.handleMouseMove);this.on(t,"touchend",this.handleMouseUp);this.handleMouseMove(n)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;wb();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.update()},t.prototype.update=function(){var n,t,i,r;if(this.el_)return(n=this.getPercent(),t=this.bar,!t)?void 0:((typeof n!="number"||n!==n||n<0||n===Infinity)&&(n=0),i=(n*100).toFixed(2)+"%",r=t.el().style,this.vertical()?r.height=i:r.width=i,n)},t.prototype.calculateDistance=function(n){var t=cl(this.el_,n);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(n){n.which===37||n.which===40?(n.preventDefault(),this.stepBack()):(n.which===38||n.which===39)&&(n.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(n){n.stopImmediatePropagation();n.preventDefault()},t.prototype.vertical=function(n){if(n===undefined)return this.vertical_||!1;this.vertical_=!!n;this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(i);i.registerComponent("Slider",ds);un=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.partEls_=[];u.on(i,"progress",u.update);return u}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"<\/span>: 0%<\/span>"})},t.prototype.dispose=function(){this.partEls_=null;n.prototype.dispose.call(this)},t.prototype.update=function(){var t=this.player_.buffered(),s=this.player_.duration(),f=this.player_.bufferedEnd(),i=this.partEls_,e=function(n,t){var i=n/t||0;return(i>=1?1:i)*100+"%"},n,u;for(this.el_.style.width=e(f,s),n=0;n<t.length;n++){var o=t.start(n),h=t.end(n),r=i[n];r||(r=this.el_.appendChild(g()),i[n]=r);r.style.left=e(o,f);r.style.width=e(h-o,f)}for(u=i.length;u>t.length;u--)this.el_.removeChild(i[u-1]);i.length=t.length},t}(i);i.registerComponent("LoadProgressBar",un);fn=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(n,t,i){var u=se(this.el_),f=se(this.player_.el()),e=n.width*t;if(f&&u){var o=n.left-f.left+e,s=n.width-e+(f.right-n.right),r=u.width/2;o<r?r+=r-o:s<r&&(r=s);r<0?r=0:r>u.width&&(r=u.width);this.el_.style.right="-"+r+"px";fe(this.el_,i)}},t}(i);i.registerComponent("TimeTooltip",fn);gs=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"<\/span>: 0%<\/span>"})},t.prototype.update=function(n,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);this.rafId_=this.requestAnimationFrame(function(){var u=i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),f=nf(u,i.player_.duration()),r=i.getChild("timeTooltip");r&&r.update(n,t,f)})},t}(i);gs.prototype.options_={children:[]};bi||br||gs.prototype.options_.children.push("timeTooltip");i.registerComponent("PlayProgressBar",gs);sv=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.update=pu(s(u,u.update),25),u}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(n,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);this.rafId_=this.requestAnimationFrame(function(){var r=i.player_.duration(),u=nf(t*r,r);i.el_.style.left=n.width*t+"px";i.getChild("timeTooltip").update(n,t,u)})},t}(i);sv.prototype.options_={children:["timeTooltip"]};i.registerComponent("MouseTimeDisplay",sv);var en=5,on=30,nh=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.setEventHandlers_(),u}return o(t,n),t.prototype.setEventHandlers_=function(){var n=this;this.update=pu(s(this,this.update),on);this.on(this.player_,"timeupdate",this.update);this.on(this.player_,"ended",this.handleEnded);this.updateInterval=null;this.on(this.player_,["playing"],function(){n.clearInterval(n.updateInterval);n.updateInterval=n.setInterval(function(){n.requestAnimationFrame(function(){n.update()})},on)});this.on(this.player_,["ended","pause","waiting"],function(){n.clearInterval(n.updateInterval)});this.on(this.player_,["timeupdate","ended"],this.update)},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(n,t){var i=this.player_.duration();this.el_.setAttribute("aria-valuenow",(t*100).toFixed(2));this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[nf(n,i),nf(i,i)],"{1} of {2}"));this.bar.update(se(this.el_),t)},t.prototype.update=function(){var t=n.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var n=this.getCurrentTime_()/this.player_.duration();return n>=1?1:n||0},t.prototype.handleMouseDown=function(t){au(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(n){if(au(n)){var t=this.calculateDistance(n)*this.player_.duration();t===this.player_.duration()&&(t=t-.1);this.player_.currentTime(t)}},t.prototype.enable=function(){n.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){n.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t);t&&t.stopPropagation();this.player_.scrubbing(!1);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0});this.videoWasPlaying&&ye(this.player_.play())},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+en)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-en)},t.prototype.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){t.which===32||t.which===13?(t.preventDefault(),this.handleAction(t)):n.prototype.handleKeyPress&&n.prototype.handleKeyPress.call(this,t)},t}(ds);nh.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};bi||br||nh.prototype.options_.children.splice(1,0,"mouseTimeDisplay");nh.prototype.playerEvent="timeupdate";i.registerComponent("SeekBar",nh);hv=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.handleMouseMove=pu(s(u,u.handleMouseMove),25),u.throttledHandleMouseSeek=pu(s(u,u.handleMouseSeek),25),u.enable(),u}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(n){var i=this.getChild("seekBar");if(i){var r=i.getChild("mouseTimeDisplay"),u=i.el(),f=se(u),t=cl(u,n).x;t>1?t=1:t<0&&(t=0);r&&r.update(f,t)}},t.prototype.handleMouseSeek=function(n){var t=this.getChild("seekBar");t&&t.handleMouseMove(n)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){(this.children().forEach(function(n){return n.disable&&n.disable()}),this.enabled())&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){if(this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()){this.on(["mousedown","touchstart"],this.handleMouseDown);this.on(this.el_,"mousemove",this.handleMouseMove);this.removeClass("disabled");this.enabled_=!0}},t.prototype.handleMouseDown=function(n){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(n);this.on(t,"mousemove",this.throttledHandleMouseSeek);this.on(t,"touchmove",this.throttledHandleMouseSeek);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(n){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(n);this.off(t,"mousemove",this.throttledHandleMouseSeek);this.off(t,"touchmove",this.throttledHandleMouseSeek);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchend",this.handleMouseUp)},t}(i);hv.prototype.options_={children:["seekBar"]};i.registerComponent("ProgressControl",hv);cv=function(n){function t(i,r){f(this,t);var o=e(this,n.call(this,i,r));o.on(i,"fullscreenchange",o.handleFullscreenChange);return u[os.fullscreenEnabled]===!1&&o.disable(),o}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(ci);cv.prototype.controlText_="Fullscreen";i.registerComponent("FullscreenToggle",cv);sn=function(n,t){t.tech_&&!t.tech_.featuresVolumeControl&&n.addClass("vjs-hidden");n.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};hn=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"><\/span>'})},t}(i);i.registerComponent("VolumeLevel",hn);th=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.on("slideractive",u.updateLastVolume_);u.on(i,"volumechange",u.updateARIAAttributes);return i.ready(function(){return u.updateARIAAttributes()}),u}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){au(t)&&n.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(n){au(n)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n);this.el_.setAttribute("aria-valuetext",n+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},t.prototype.updateLastVolume_=function(){var n=this,t=this.player_.volume();this.one("sliderinactive",function(){n.player_.volume()===0&&n.player_.lastVolume_(t)})},t}(ds);th.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};th.prototype.playerEvent="volumechange";i.registerComponent("VolumeBar",th);lv=function(n){function t(i){var u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r;f(this,t);u.vertical=u.vertical||!1;(typeof u.volumeBar=="undefined"||re(u.volumeBar))&&(u.volumeBar=u.volumeBar||{},u.volumeBar.vertical=u.vertical);r=e(this,n.call(this,i,u));sn(r,i);r.throttledHandleMouseMove=pu(s(r,r.handleMouseMove),25);r.on("mousedown",r.handleMouseDown);r.on("touchstart",r.handleMouseDown);r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active");r.addClass("vjs-slider-active");r.trigger("slideractive")});r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active");r.removeClass("vjs-slider-active");r.trigger("sliderinactive")});return r}return o(t,n),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove);this.on(n,"touchmove",this.throttledHandleMouseMove);this.on(n,"mouseup",this.handleMouseUp);this.on(n,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove);this.off(n,"touchmove",this.throttledHandleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},t}(i);lv.prototype.options_={children:["volumeBar"]};i.registerComponent("VolumeControl",lv);cn=function(n,t){t.tech_&&!t.tech_.featuresMuteControl&&n.addClass("vjs-hidden");n.on(t,"loadstart",function(){t.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};av=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));cn(u,i);u.on(i,["loadstart","volumechange"],u.update);return u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){var i=this.player_.volume(),n=this.player_.lastVolume_(),t;i===0?(t=n<.1?.1:n,this.player_.volume(t),this.player_.muted(!1)):this.player_.muted(this.player_.muted()?!1:!0)},t.prototype.update=function(){this.updateIcon_();this.updateControlText_()},t.prototype.updateIcon_=function(){var i=this.player_.volume(),n=3,t;for(bi&&this.player_.muted(this.player_.tech_.el_.muted),i===0||this.player_.muted()?n=0:i<.33?n=1:i<.67&&(n=2),t=0;t<4;t++)ee(this.el_,"vjs-vol-"+t);pr(this.el_,"vjs-vol-"+n)},t.prototype.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,n=t?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)},t}(ci);av.prototype.controlText_="Mute";i.registerComponent("MuteToggle",av);vv=function(n){function t(i){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},u;f(this,t);r.inline=typeof r.inline!="undefined"?r.inline:!0;(typeof r.volumeControl=="undefined"||re(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);u=e(this,n.call(this,i,r));u.on(i,["loadstart"],u.volumePanelState_);u.on(u.volumeControl,["slideractive"],u.sliderActive_);u.on(u.volumeControl,["sliderinactive"],u.sliderInactive_);return u}return o(t,n),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden");this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(i);vv.prototype.options_={children:["muteToggle","volumeControl"]};i.registerComponent("VolumePanel",vv);ih=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));r&&(u.menuButton_=r.menuButton);u.focusedChild_=-1;u.on("keydown",u.handleKeyPress);return u}return o(t,n),t.prototype.addItem=function(n){this.addChild(n);n.on("click",s(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var i=this.options_.contentElType||"ul",t;return this.contentEl_=g(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),t.appendChild(this.contentEl_),ei(t,"click",function(n){n.preventDefault();n.stopImmediatePropagation()}),t},t.prototype.dispose=function(){this.contentEl_=null;n.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(n){n.which===37||n.which===40?(n.preventDefault(),this.stepForward()):(n.which===38||n.which===39)&&(n.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var n=0;this.focusedChild_!==undefined&&(n=this.focusedChild_+1);this.focus(n)},t.prototype.stepBack=function(){var n=0;this.focusedChild_!==undefined&&(n=this.focusedChild_-1);this.focus(n)},t.prototype.focus=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift();n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.focusedChild_=t,n[t].el_.focus())},t}(i);i.registerComponent("Menu",ih);rh=function(n){function t(i){var u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r,o;f(this,t);r=e(this,n.call(this,i,u));r.menuButton_=new ci(i,u);r.menuButton_.controlText(r.controlText_);r.menuButton_.el_.setAttribute("aria-haspopup","true");o=ci.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+o;r.menuButton_.removeClass("vjs-control");r.addChild(r.menuButton_);r.update();r.enabled_=!0;r.on(r.menuButton_,"tap",r.handleClick);r.on(r.menuButton_,"click",r.handleClick);r.on(r.menuButton_,"focus",r.handleFocus);r.on(r.menuButton_,"blur",r.handleBlur);r.on("keydown",r.handleSubmenuKeyPress);return r}return o(t,n),t.prototype.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu));this.menu=n;this.addChild(n);this.buttonPressed_=!1;this.menuButton_.el_.setAttribute("aria-expanded","false");this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var n=new ih(this.player_,{menuButton:this}),i,t;if(this.hideThreshold_=0,this.options_.title&&(i=g("li",{className:"vjs-menu-title",innerHTML:b(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,n.children_.unshift(i),is(i,n.contentEl())),this.items=this.createItems(),this.items)for(t=0;t<this.items.length;t++)n.addItem(this.items[t]);return n},t.prototype.createItems=function(){},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button",i;return t+=this.options_.inline===!0?"-inline":"-popup",i=ci.prototype.buildCSSClass(),"vjs-menu-button "+t+" "+i+" "+n.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(n,t)},t.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",s(this,function(){this.unpressButton();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){ei(u,"keydown",s(this,this.handleKeyPress))},t.prototype.handleBlur=function(){pt(u,"keydown",s(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(n){n.which===27||n.which===9?(this.buttonPressed_&&this.unpressButton(),n.which!==9&&(n.preventDefault(),this.menuButton_.el_.focus())):(n.which===38||n.which===40)&&(this.buttonPressed_||(this.pressButton(),n.preventDefault()))},t.prototype.handleSubmenuKeyPress=function(n){(n.which===27||n.which===9)&&(this.buttonPressed_&&this.unpressButton(),n.which!==9&&(n.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),bi&&cb())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton();this.enabled_=!1;this.addClass("vjs-disabled");this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0;this.removeClass("vjs-disabled");this.menuButton_.enable()},t}(i);i.registerComponent("MenuButton",rh);uh=function(n){function t(i,r){var o,u,h;if(f(this,t),o=r.tracks,u=e(this,n.call(this,i,r)),u.items.length<=1&&u.hide(),!o)return e(u);h=s(u,u.update);o.addEventListener("removetrack",h);o.addEventListener("addtrack",h);u.player_.on("ready",h);u.player_.on("dispose",function(){o.removeEventListener("removetrack",h);o.removeEventListener("addtrack",h)});return u}return o(t,n),t}(rh);i.registerComponent("TrackButton",uh);tf=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.selectable=r.selectable,u.isSelected_=r.selected||!1,u.multiSelectable=r.multiSelectable,u.selected(u.isSelected_),u.selectable?u.multiSelectable?u.el_.setAttribute("role","menuitemcheckbox"):u.el_.setAttribute("role","menuitemradio"):u.el_.setAttribute("role","menuitem"),u}return o(t,n),t.prototype.createEl=function(t,i,r){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",k({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"<\/span>",tabIndex:-1},i),r)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(no);i.registerComponent("MenuItem",tf);rf=function(n){function i(r,o){var l,h,s,a,v,c;f(this,i);l=o.track;h=r.textTracks();o.label=l.label||l.language||"Unknown";o.selected=l.mode==="showing";s=e(this,n.call(this,r,o));s.track=l;a=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];s.handleTracksChange.apply(s,i)};v=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];s.handleSelectedLanguageChange.apply(s,i)};r.on(["loadstart","texttrackchange"],a);h.addEventListener("change",a);h.addEventListener("selectedlanguagechange",v);s.on("dispose",function(){r.off(["loadstart","texttrackchange"],a);h.removeEventListener("change",a);h.removeEventListener("selectedlanguagechange",v)});if(h.onchange===undefined){c=void 0;s.on(["tap","click"],function(){if(d(t.Event)!=="object")try{c=new t.Event("change")}catch(n){}c||(c=u.createEvent("Event"),c.initEvent("change",!0,!0));h.dispatchEvent(c)})}return s.handleTracksChange(),s}return o(i,n),i.prototype.handleClick=function(t){var e=this.track.kind,u=this.track.kinds,f=this.player_.textTracks(),r,i;if(u||(u=[e]),n.prototype.handleClick.call(this,t),f)for(r=0;r<f.length;r++)i=f[r],i===this.track&&u.indexOf(i.kind)>-1?i.mode!=="showing"&&(i.mode="showing"):i.mode!=="disabled"&&(i.mode="disabled")},i.prototype.handleTracksChange=function(){var n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)},i.prototype.handleSelectedLanguageChange=function(){if(this.track.mode==="showing"){var n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.prototype.dispose=function(){this.track=null;n.prototype.dispose.call(this)},i}(tf);i.registerComponent("TextTrackMenuItem",rf);yv=function(n){function t(i,r){return f(this,t),r.track={player:i,kind:r.kind,kinds:r.kinds,"default":!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.track.label=r.label?r.label:r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,e(this,n.call(this,i,r))}return o(t,n),t.prototype.handleTracksChange=function(){for(var i,r=this.player().textTracks(),n=!0,t=0,u=r.length;t<u;t++)if(i=r[t],this.options_.kinds.indexOf(i.kind)>-1&&i.mode==="showing"){n=!1;break}n!==this.isSelected_&&this.selected(n)},t.prototype.handleSelectedLanguageChange=function(){for(var t,i=this.player().textTracks(),r=!0,n=0,u=i.length;n<u;n++)if(t=i[n],["captions","descriptions","subtitles"].indexOf(t.kind)>-1&&t.mode==="showing"){r=!1;break}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(rf);i.registerComponent("OffTextTrackMenuItem",yv);ru=function(n){function t(i){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return f(this,t),r.tracks=i.textTracks(),e(this,n.call(this,i,r))}return o(t,n),t.prototype.createItems=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:rf,f=void 0,r,n,t,u;for(this.label_&&(f=this.label_+" off"),i.push(new yv(this.player_,{kinds:this.kinds_,kind:this.kind_,label:f})),this.hideThreshold_+=1,r=this.player_.textTracks(),Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]),n=0;n<r.length;n++)t=r[n],this.kinds_.indexOf(t.kind)>-1&&(u=new e(this.player_,{track:t,selectable:!0,multiSelectable:!1}),u.addClass("vjs-"+t.kind+"-menu-item"),i.push(u));return i},t}(uh);i.registerComponent("TextTrackButton",ru);pv=function(n){function t(i,r){var u;f(this,t);var h=r.track,o=r.cue,c=i.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=c&&c<o.endTime,u=e(this,n.call(this,i,r)),u.track=h,u.cue=o,h.addEventListener("cuechange",s(u,u.update)),u}return o(t,n),t.prototype.handleClick=function(){n.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)},t.prototype.update=function(){var n=this.cue,t=this.player_.currentTime();this.selected(n.startTime<=t&&t<n.endTime)},t}(tf);i.registerComponent("ChaptersTrackMenuItem",pv);fh=function(n){function t(i,r,u){return f(this,t),e(this,n.call(this,i,r,u))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){(!this.track_||t&&(t.type==="addtrack"||t.type==="removetrack"))&&this.setTrack(this.findChaptersTrack());n.prototype.update.call(this)},t.prototype.setTrack=function(n){var t,i;this.track_!==n&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),t&&t.removeEventListener("load",this.updateHandler_),this.track_=null),this.track_=n,this.track_&&(this.track_.mode="hidden",i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),i&&i.addEventListener("load",this.updateHandler_)))},t.prototype.findChaptersTrack=function(){for(var t,i=this.player_.textTracks()||[],n=i.length-1;n>=0;n--)if(t=i[n],t.kind===this.kind_)return t},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(b(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.prototype.createItems=function(){var i=[],n,t,r,u,f;if(!this.track_||(n=this.track_.cues,!n))return i;for(t=0,r=n.length;t<r;t++)u=n[t],f=new pv(this.player_,{track:this.track_,cue:u}),i.push(f);return i},t}(ru);fh.prototype.kind_="chapters";fh.prototype.controlText_="Chapters";i.registerComponent("ChaptersButton",fh);eh=function(n){function t(i,r,u){f(this,t);var o=e(this,n.call(this,i,r,u)),h=i.textTracks(),c=s(o,o.handleTracksChange);h.addEventListener("change",c);o.on("dispose",function(){h.removeEventListener("change",c)});return o}return o(t,n),t.prototype.handleTracksChange=function(){for(var t,i=this.player().textTracks(),r=!1,n=0,u=i.length;n<u;n++)if(t=i[n],t.kind!==this.kind_&&t.mode==="showing"){r=!0;break}r?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(ru);eh.prototype.kind_="descriptions";eh.prototype.controlText_="Descriptions";i.registerComponent("DescriptionsButton",eh);oh=function(n){function t(i,r,u){return f(this,t),e(this,n.call(this,i,r,u))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(ru);oh.prototype.kind_="subtitles";oh.prototype.controlText_="Subtitles";i.registerComponent("SubtitlesButton",oh);sh=function(n){function t(i,r){f(this,t);r.track={player:i,kind:r.kind,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"};r.selectable=!1;r.name="CaptionSettingsMenuItem";var u=e(this,n.call(this,i,r));return u.addClass("vjs-texttrack-settings"),u.controlText(", opens "+r.kind+" settings dialog"),u}return o(t,n),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()},t}(rf);i.registerComponent("CaptionSettingsMenuItem",sh);hh=function(n){function t(i,r,u){return f(this,t),e(this,n.call(this,i,r,u))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new sh(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},t}(ru);hh.prototype.kind_="captions";hh.prototype.controlText_="Captions";i.registerComponent("CaptionsButton",hh);wv=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(t,i,r){var u='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="captions"&&(u+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"><\/span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"<\/span>\n      "),u+="<\/span>",n.prototype.createEl.call(this,t,k({innerHTML:u},i),r)},t}(rf);i.registerComponent("SubsCapsMenuItem",wv);ch=function(n){function t(i){var u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r;return f(this,t),r=e(this,n.call(this,i,u)),r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(b(r.label_)),r}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new sh(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t,wv)},t}(ru);ch.prototype.kinds_=["captions","subtitles"];ch.prototype.controlText_="Subtitles";i.registerComponent("SubsCapsButton",ch);bv=function(n){function t(i,r){var o,s,u,h;f(this,t);o=r.track;s=i.audioTracks();r.label=o.label||o.language||"Unknown";r.selected=o.enabled;u=e(this,n.call(this,i,r));u.track=o;u.addClass("vjs-"+o.kind+"-menu-item");h=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];u.handleTracksChange.apply(u,i)};s.addEventListener("change",h);u.on("dispose",function(){s.removeEventListener("change",h)});return u}return o(t,n),t.prototype.createEl=function(t,i,r){var u='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="main-desc"&&(u+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"><\/span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"<\/span>\n      "),u+="<\/span>",n.prototype.createEl.call(this,t,k({innerHTML:u},i),r)},t.prototype.handleClick=function(t){var u=this.player_.audioTracks(),i,r;for(n.prototype.handleClick.call(this,t),i=0;i<u.length;i++)r=u[i],r.enabled=r===this.track},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(tf);i.registerComponent("AudioTrackMenuItem",bv);kv=function(n){function t(i){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return f(this,t),r.tracks=i.audioTracks(),e(this,n.call(this,i,r))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t,n,r;for(this.hideThreshold_=1,t=this.player_.audioTracks(),n=0;n<t.length;n++)r=t[n],i.push(new bv(this.player_,{track:r,selectable:!0,multiSelectable:!1}));return i},t}(uh);kv.prototype.controlText_="Audio Track";i.registerComponent("AudioTrackButton",kv);lh=function(n){function t(i,r){var o,s,u;f(this,t);o=r.rate;s=parseFloat(o,10);r.label=o;r.selected=s===1;r.selectable=!0;r.multiSelectable=!1;u=e(this,n.call(this,i,r));u.label=o;u.rate=s;u.on(i,"ratechange",u.update);return u}return o(t,n),t.prototype.handleClick=function(){n.prototype.handleClick.call(this);this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(tf);lh.prototype.contentElType="button";i.registerComponent("PlaybackRateMenuItem",lh);dv=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.updateVisibility();u.updateLabel();u.on(i,"loadstart",u.updateVisibility);u.on(i,"ratechange",u.updateLabel);return u}return o(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelEl_=g("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null;n.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var i=new ih(this.player()),t=this.playbackRates(),n;if(t)for(n=t.length-1;n>=0;n--)i.addChild(new lh(this.player(),{rate:t[n]+"x"}));return i},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var r=this.player().playbackRate(),n=this.playbackRates(),i=n[0],t=0;t<n.length;t++)if(n[t]>r){i=n[t];break}this.player().playbackRate(i)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(rh);dv.prototype.controlText_="Playback Rate";i.registerComponent("PlaybackRateMenuButton",dv);gv=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(i);i.registerComponent("Spacer",gv);ln=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(gv);i.registerComponent("CustomControlSpacer",ln);ny=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(i);ny.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};i.registerComponent("ControlBar",ny);ty=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));u.on(i,"error",u.open);return u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var n=this.player().error();return n?this.localize(n.message):""},t}(bu);ty.prototype.options_=p(bu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});i.registerComponent("ErrorDisplay",ty);var iy="vjs-text-track-settings",an=["#000","Black"],vn=["#00F","Blue"],yn=["#0FF","Cyan"],pn=["#0F0","Green"],wn=["#F0F","Magenta"],bn=["#F00","Red"],kn=["#FFF","White"],dn=["#FF0","Yellow"],ry=["1","Opaque"],uy=["0.5","Semi-Transparent"],gn=["0","Transparent"],uu={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[an,kn,bn,pn,vn,dn,wn,yn]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ry,uy,gn]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[kn,an,bn,pn,vn,dn,wn,yn]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(n){return n==="1.00"?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ry,uy]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[gn,uy,ry]}};uu.windowColor.options=uu.backgroundColor.options;ttt=function(n){function i(t,r){f(this,i);r.temporary=!1;var u=e(this,n.call(this,t,r));u.updateDisplay=s(u,u.updateDisplay);u.fill();u.hasBeenOpened_=u.hasBeenFilled_=!0;u.endDialog=g("p",{className:"vjs-control-text",textContent:u.localize("End of dialog window.")});u.el().appendChild(u.endDialog);u.setDefaults();r.persistTextTrackSettings===undefined&&(u.options_.persistTextTrackSettings=u.options_.playerOptions.persistTextTrackSettings);u.on(u.$(".vjs-done-button"),"click",function(){u.saveSettings();u.close()});u.on(u.$(".vjs-default-button"),"click",function(){u.setDefaults();u.updateDisplay()});return hu(uu,function(n){u.on(u.$(n.selector),"change",u.updateDisplay)}),u.options_.persistTextTrackSettings&&u.restoreSettings(),u}return o(i,n),i.prototype.dispose=function(){this.endDialog=null;n.prototype.dispose.call(this)},i.prototype.createElSelect_=function(n){var f=this,e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"label",i=uu[n],r=i.id.replace("%s",this.id_),u=[e,r].join(" ").trim();return["<"+t+' id="'+r+'" class="'+(t==="label"?"vjs-label":"")+'">',this.localize(i.label),"<\/"+t+">",'<select aria-labelledby="'+u+'">'].concat(i.options.map(function(n){var t=r+"-"+n[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+n[0]+'" ','aria-labelledby="'+u+" "+t+'">',f.localize(n[1]),"<\/option>"].join("")})).concat("<\/select>").join("")},i.prototype.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"<\/legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"<\/span>","<\/fieldset>"].join("")},i.prototype.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"<\/legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"<\/span>","<\/fieldset>"].join("")},i.prototype.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"<\/legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"<\/span>","<\/fieldset>"].join("")},i.prototype.createElColors_=function(){return g("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.prototype.createElFont_=function(){return g("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"<\/fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"<\/fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"<\/fieldset>"].join("")})},i.prototype.createElControls_=function(){var n=this.localize("restore all settings to the default values");return g("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"<\/span>","<\/button>",'<button class="vjs-done-button">'+this.localize("Done")+"<\/button>"].join("")})},i.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.prototype.label=function(){return this.localize("Caption Settings Dialog")},i.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.prototype.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.prototype.getValues=function(){var n=this;return bot(uu,function(t,i,r){var u=ylt(n.$(i.selector),i.parser);return u!==undefined&&(t[r]=u),t},{})},i.prototype.setValues=function(n){var t=this;hu(uu,function(i,r){plt(t.$(i.selector),n[r],i.parser)})},i.prototype.setDefaults=function(){var n=this;hu(uu,function(t){var i=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=i})},i.prototype.restoreSettings=function(){var n=void 0;try{n=JSON.parse(t.localStorage.getItem(iy))}catch(i){l.warn(i)}n&&this.setValues(n)},i.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?t.localStorage.setItem(iy,JSON.stringify(n)):t.localStorage.removeItem(iy)}catch(i){l.warn(i)}}},i.prototype.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},i.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null;this.off(u,"keydown",this.handleKeyDown);var n=this.player_.controlBar,t=n&&n.subsCapsButton,i=n&&n.captionsButton;t?t.focus():i&&i.focus()},i}(bu);i.registerComponent("TextTrackSettings",ttt);itt=function(n){function i(r,u){var s,h,o;if(f(this,i),s=u.ResizeObserver||t.ResizeObserver,u.ResizeObserver===null&&(s=!1),h=p({createEl:!s,reportTouchActivity:!1},u),o=e(this,n.call(this,r,h)),o.ResizeObserver=u.ResizeObserver||t.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=tst(function(){o.resizeHandler()},100,!1,o),s)o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(r.el());else{o.loadListener_=function(){o.el_&&o.el_.contentWindow&&ei(o.el_.contentWindow,"resize",o.debouncedHandler_)};o.one("load",o.loadListener_)}return o}return o(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},i.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel();this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect());this.el_&&this.el_.contentWindow&&pt(this.el_.contentWindow,"resize",this.debouncedHandler_);this.loadListener_&&this.off("load",this.loadListener_);this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null},i}(i);i.registerComponent("ResizeManager",itt);var fy=function(n){var f=n.el(),i,r;if(f.hasAttribute("src"))return n.triggerSourceset(f.src),!0;var u=n.$$("source"),t=[],e="";if(!u.length)return!1;for(i=0;i<u.length;i++)r=u[i].src,r&&t.indexOf(r)===-1&&t.push(r);return t.length?(t.length===1&&(e=t[0]),n.triggerSourceset(e),!0):!1},wlt=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var i=u.createElement(this.nodeName.toLowerCase()),r;for(i.innerHTML=n,r=u.createDocumentFragment();i.childNodes.length;)r.appendChild(i.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,r),this.innerHTML}}),rtt=function(n,t){for(var i={},r=0;r<n.length;r++)if(i=Object.getOwnPropertyDescriptor(n[r],t),i&&i.set&&i.get)break;return i.enumerable=!0,i.configurable=!0,i},blt=function(n){return rtt([n.el(),t.HTMLMediaElement.prototype,t.Element.prototype,wlt],"innerHTML")},utt=function(n){var t=n.el();if(!t.resetSourceWatch_){var i={},r=blt(n),u=function(i){return function(){for(var e,u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return e=i.apply(t,f),fy(n),e}};["append","appendChild","insertAdjacentHTML"].forEach(function(n){t[n]&&(i[n]=t[n],t[n]=u(i[n]))});Object.defineProperty(t,"innerHTML",p(r,{set:u(r.set)}));t.resetSourceWatch_=function(){t.resetSourceWatch_=null;Object.keys(i).forEach(function(n){t[n]=i[n]});Object.defineProperty(t,"innerHTML",r)};n.one("sourceset",t.resetSourceWatch_)}},klt=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?cd(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(n){return t.Element.prototype.setAttribute.call(this,"src",n),n}}),dlt=function(n){return rtt([n.el(),t.HTMLMediaElement.prototype,klt],"src")},glt=function(n){var t;if(n.featuresSourceset&&(t=n.el(),!t.resetSourceset_)){var i=dlt(n),r=t.setAttribute,u=t.load;Object.defineProperty(t,"src",p(i,{set:function(r){var u=i.set.call(t,r);return n.triggerSourceset(t.src),u}}));t.setAttribute=function(i,u){var f=r.call(t,i,u);return/src/i.test(i)&&n.triggerSourceset(t.src),f};t.load=function(){var i=u.call(t);return fy(n)||(n.triggerSourceset(""),utt(n)),i};t.currentSrc?n.triggerSourceset(t.currentSrc):fy(n)||utt(n);t.resetSourceset_=function(){t.resetSourceset_=null;t.load=u;t.setAttribute=r;Object.defineProperty(t,"src",i);t.resetSourceWatch_&&t.resetSourceWatch_()}}},nat=sl(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),r=function(n){function i(t,r){var o,p,s;f(this,i);var u=e(this,n.call(this,t,r)),h=t.source,c=!1;if(h&&(u.el_.currentSrc!==h.src||t.tag&&t.tag.initNetworkState_===3)?u.setSource(h):u.handleLateInit_(u.el_),t.enableSourceset&&u.setupSourcesetHandling_(),u.el_.hasChildNodes()){for(var v=u.el_.childNodes,y=v.length,a=[];y--;)o=v[y],p=o.nodeName.toLowerCase(),p==="track"&&(u.featuresNativeTextTracks?(u.remoteTextTrackEls().addTrackElement_(o),u.remoteTextTracks().addTrack(o.track),u.textTracks().addTrack(o.track),c||u.el_.hasAttribute("crossorigin")||!cs(o.src)||(c=!0)):a.push(o));for(s=0;s<a.length;s++)u.el_.removeChild(a[s])}return u.proxyNativeTracks_(),u.featuresNativeTextTracks&&c&&l.warn(ol(nat)),u.restoreMetadataTracksInIOSNativePlayer_(),(es||na||wk)&&t.nativeControlsForTouch===!0&&u.setControls(!0),u.proxyWebkitFullscreen_(),u.triggerReady(),u}return o(i,n),i.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_();i.disposeMediaElement(this.el_);this.options_=null;n.prototype.dispose.call(this)},i.prototype.setupSourcesetHandling_=function(){glt(this)},i.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),r=void 0,t=function(){var t,i;for(r=[],t=0;t<n.length;t++)i=n[t],i.kind==="metadata"&&r.push({track:i,storedMode:i.mode})},i;t();n.addEventListener("change",t);this.on("dispose",function(){return n.removeEventListener("change",t)});i=function i(){for(var t,u=0;u<r.length;u++)t=r[u],t.track.mode==="disabled"&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode);n.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t);n.removeEventListener("change",i);n.addEventListener("change",i)});this.on("webkitendfullscreen",function(){n.removeEventListener("change",t);n.addEventListener("change",t);n.removeEventListener("change",i)})},i.prototype.overrideNative_=function(n,t){var r=this,i;t===this["featuresNative"+n+"Tracks"]&&(i=n.toLowerCase(),this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(n){var t=r.el()[i+"Tracks"];t.removeEventListener(n,r[i+"TracksListeners_"][n])}),this["featuresNative"+n+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i))},i.prototype.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},i.prototype.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},i.prototype.proxyNativeTracksForType_=function(n){var e=this,r=wt[n],i=this.el()[r.getterName],t=this[r.getterName](),u,f;if(this["featuresNative"+r.capitalName+"Tracks"]&&i&&i.addEventListener){u={change:function(){t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},addtrack:function(n){t.addTrack(n.track)},removetrack:function(n){t.removeTrack(n.track)}};f=function(){for(var f,r,u=[],n=0;n<t.length;n++){for(f=!1,r=0;r<i.length;r++)if(i[r]===t[n]){f=!0;break}f||u.push(t[n])}while(u.length)t.removeTrack(u.shift())};this[r.getterName+"Listeners_"]=u;Object.keys(u).forEach(function(n){var t=u[n];i.addEventListener(n,t);e.on("dispose",function(){return i.removeEventListener(n,t)})});this.on("loadstart",f);this.on("dispose",function(){return e.off("loadstart",f)})}},i.prototype.proxyNativeTracks_=function(){var n=this;wt.names.forEach(function(t){n.proxyNativeTracksForType_(t)})},i.prototype.createEl=function(){var n=this.options_.tag,e,h,o,s,r,t,f;for(n&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(n?(e=n.cloneNode(!0),n.parentNode&&n.parentNode.insertBefore(e,n),i.disposeMediaElement(n),n=e):(n=u.createElement("video"),h=this.options_.tag&&wi(this.options_.tag),o=p({},h),es&&this.options_.nativeControlsForTouch===!0||delete o.controls,vb(n,k(o,{id:this.options_.techId,"class":"vjs-tech"}))),n.playerId=this.options_.playerId),typeof this.options_.preload!="undefined"&&oe(n,"preload",this.options_.preload),s=["loop","muted","playsinline","autoplay"],r=0;r<s.length;r++)t=s[r],f=this.options_[t],typeof f!="undefined"&&(f?oe(n,t,t):rs(n,t),n[t]=f);return n},i.prototype.handleLateInit_=function(n){var i,r,u,t;if(n.networkState!==0&&n.networkState!==3){if(n.readyState===0){i=!1;r=function(){i=!0};this.on("loadstart",r);u=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",u);this.ready(function(){this.off("loadstart",r);this.off("loadedmetadata",u);i||this.trigger("loadstart")});return}t=["loadstart"];t.push("loadedmetadata");n.readyState>=2&&t.push("loadeddata");n.readyState>=3&&t.push("canplay");n.readyState>=4&&t.push("canplaythrough");this.ready(function(){t.forEach(function(n){this.trigger(n)},this)})}},i.prototype.setCurrentTime=function(n){try{this.el_.currentTime=n}catch(t){l(t,"Video is not ready. (Video.js)")}},i.prototype.duration=function(){var n=this,t;if(this.el_.duration===Infinity&&br&&fr&&this.el_.currentTime===0){t=function t(){n.el_.currentTime>0&&(n.el_.duration===Infinity&&n.trigger("durationchange"),n.off("timeupdate",t))};this.on("timeupdate",t);return NaN}return this.el_.duration||NaN},i.prototype.width=function(){return this.el_.offsetWidth},i.prototype.height=function(){return this.el_.offsetHeight},i.prototype.proxyWebkitFullscreen_=function(){var i=this,n,t;if("webkitDisplayingFullscreen"in this.el_){n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})};t=function(){if("webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"){this.one("webkitendfullscreen",n);this.trigger("fullscreenchange",{isFullscreen:!0})}};this.on("webkitbeginfullscreen",t);this.on("dispose",function(){i.off("webkitbeginfullscreen",t);i.off("webkitendfullscreen",n)})}},i.prototype.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var n=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},i.prototype.enterFullScreen=function(){var n=this.el_;n.paused&&n.networkState<=n.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){n.pause();n.webkitEnterFullScreen()},0)):n.webkitEnterFullScreen()},i.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},i.prototype.src=function(n){if(n===undefined)return this.el_.src;this.setSrc(n)},i.prototype.reset=function(){i.resetMediaElement(this.el_)},i.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.prototype.setControls=function(n){this.el_.controls=!!n},i.prototype.addTextTrack=function(t,i,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,i,r):n.prototype.addTextTrack.call(this,t,i,r)},i.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,t);var i=u.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},i.prototype.addRemoteTextTrack=function(t,i){var r=n.prototype.addRemoteTextTrack.call(this,t,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},i.prototype.removeRemoteTextTrack=function(t){if(n.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)(t===i[r]||t===i[r].track)&&this.el().removeChild(i[r])},i.prototype.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var n={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&typeof t.performance.now=="function"?n.creationTime=t.performance.now():t.performance&&t.performance.timing&&typeof t.performance.timing.navigationStart=="number"&&(n.creationTime=t.Date.now()-t.performance.timing.navigationStart),n},i}(y);cu()&&(r.TEST_VID=u.createElement("video"),to=u.createElement("track"),to.kind="captions",to.srclang="en",to.label="English",r.TEST_VID.appendChild(to));r.isSupported=function(){try{r.TEST_VID.volume=.5}catch(n){return!1}return!!(r.TEST_VID&&r.TEST_VID.canPlayType)};r.canPlayType=function(n){return r.TEST_VID.canPlayType(n)};r.canPlaySource=function(n){return r.canPlayType(n.type)};r.canControlVolume=function(){try{var n=r.TEST_VID.volume;return r.TEST_VID.volume=n/2+.1,n!==r.TEST_VID.volume}catch(t){return!1}};r.canMuteVolume=function(){try{var n=r.TEST_VID.muted;return r.TEST_VID.muted=!n,r.TEST_VID.muted?oe(r.TEST_VID,"muted","muted"):rs(r.TEST_VID,"muted","muted"),n!==r.TEST_VID.muted}catch(t){return!1}};r.canControlPlaybackRate=function(){if(br&&fr&&kk<58)return!1;try{var n=r.TEST_VID.playbackRate;return r.TEST_VID.playbackRate=n/2+.1,n!==r.TEST_VID.playbackRate}catch(t){return!1}};r.canOverrideAttributes=function(){try{var n=function(){};Object.defineProperty(u.createElement("video"),"src",{get:n,set:n});Object.defineProperty(u.createElement("audio"),"src",{get:n,set:n});Object.defineProperty(u.createElement("video"),"innerHTML",{get:n,set:n});Object.defineProperty(u.createElement("audio"),"innerHTML",{get:n,set:n})}catch(t){return!1}return!0};r.supportsNativeTextTracks=function(){return nd||bi&&fr};r.supportsNativeVideoTracks=function(){return!!(r.TEST_VID&&r.TEST_VID.videoTracks)};r.supportsNativeAudioTracks=function(){return!!(r.TEST_VID&&r.TEST_VID.audioTracks)};r.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];r.prototype.featuresVolumeControl=r.canControlVolume();r.prototype.featuresMuteControl=r.canMuteVolume();r.prototype.featuresPlaybackRate=r.canControlPlaybackRate();r.prototype.featuresSourceset=r.canOverrideAttributes();r.prototype.movingMediaElementInDOM=!bi;r.prototype.featuresFullscreenResize=!0;r.prototype.featuresProgressEvents=!0;r.prototype.featuresTimeupdateEvents=!0;r.prototype.featuresNativeTextTracks=r.supportsNativeTextTracks();r.prototype.featuresNativeVideoTracks=r.supportsNativeVideoTracks();r.prototype.featuresNativeAudioTracks=r.supportsNativeAudioTracks();ey=r.TEST_VID&&r.TEST_VID.constructor.prototype.canPlayType;ftt=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;r.patchCanPlayType=function(){ta>=4&&!bk&&!fr&&(r.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&ftt.test(n)?"maybe":ey.call(this,n)})};r.unpatchCanPlayType=function(){var n=r.TEST_VID.constructor.prototype.canPlayType;return r.TEST_VID.constructor.prototype.canPlayType=ey,n};r.patchCanPlayType();r.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src");typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}};r.resetMediaElement=function(n){if(n){for(var t=n.querySelectorAll("source"),i=t.length;i--;)n.removeChild(t[i]);n.removeAttribute("src");typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){r.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){r.prototype["set"+b(n)]=function(t){this.el_[n]=t;t?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(n){r.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(n){r.prototype["set"+b(n)]=function(t){this.el_[n]=t}});["pause","load","play"].forEach(function(n){r.prototype[n]=function(){return this.el_[n]()}});y.withSourceHandlers(r);r.nativeSourceHandler={};r.nativeSourceHandler.canPlayType=function(n){try{return r.TEST_VID.canPlayType(n)}catch(t){return""}};r.nativeSourceHandler.canHandleSource=function(n){if(n.type)return r.nativeSourceHandler.canPlayType(n.type);if(n.src){var t=ca(n.src);return r.nativeSourceHandler.canPlayType("video/"+t)}return""};r.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)};r.nativeSourceHandler.dispose=function(){};r.registerSourceHandler(r.nativeSourceHandler);y.registerTech("Html5",r);var tat=sl(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),ett=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],oy={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},nt=function(n){function r(t,i,u){var h,s,o,c,a,l,v;if(f(this,r),t.id=t.id||i.id||"vjs_video_"+wr(),i=k(r.getTagSettings(t),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if(typeof t.closest=="function")h=t.closest("[lang]"),h&&h.getAttribute&&(i.language=h.getAttribute("lang"));else for(s=t;s&&s.nodeType===1;){if(wi(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}if(o=e(this,n.call(this,null,i,u)),o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");o.tag=t;o.tagAttributes=t&&wi(t);o.language(o.options_.language);i.languages?(c={},Object.getOwnPropertyNames(i.languages).forEach(function(n){c[n.toLowerCase()]=i.languages[n]}),o.languages_=c):o.languages_=r.prototype.options_.languages;o.cache_={};o.poster_=i.poster||"";o.controls_=!!i.controls;o.cache_.lastVolume=1;t.controls=!1;t.removeAttribute("controls");t.hasAttribute("autoplay")?o.options_.autoplay=!0:o.autoplay(o.options_.autoplay);o.scrubbing_=!1;o.el_=o.createEl();o.cache_.lastPlaybackRate=o.defaultPlaybackRate();dl(o,{eventBusKey:"el_"});a=p(o.options_);i.plugins&&(l=i.plugins,Object.keys(l).forEach(function(n){if(typeof this[n]=="function")this[n](l[n]);else throw new Error('plugin "'+n+'" does not exist');},o));o.options_.playerOptions=a;o.middleware_=[];o.initChildren();o.isAudio(t.nodeName.toLowerCase()==="audio");o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled");o.el_.setAttribute("role","region");o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player"));o.isAudio()&&o.addClass("vjs-audio");o.flexNotSupported_()&&o.addClass("vjs-no-flex");bi||o.addClass("vjs-workinghover");r.players[o.id_]=o;v=tb.split(".")[0];o.addClass("vjs-v"+v);o.userActive(!0);o.reportUserActivity();o.one("play",o.listenForUserActivity_);o.on("fullscreenchange",o.handleFullscreenChange_);o.on("stageclick",o.handleStageClick_);return o.changingSrc_=!1,o.playWaitingForReady_=!1,o.playOnLoadstart_=null,o}return o(r,n),r.prototype.dispose=function(){this.trigger("dispose");this.off("dispose");this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null);r.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_="");this.playerElIngest_&&(this.playerElIngest_=null);this.tag&&(this.tag=null);olt(this);n.prototype.dispose.call(this)},r.prototype.createEl=function(){var i=this.tag,r=void 0,s=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),e=this.tag.tagName.toLowerCase()==="video-js",f,h,c,l,o,a;if(s?r=this.el_=i.parentNode:e||(r=this.el_=n.prototype.createEl.call(this,"div")),f=wi(i),e){for(r=this.el_=i,i=this.tag=u.createElement("video");r.children.length;)i.appendChild(r.firstChild);lu(r,"video-js")||pr(r,"video-js");r.appendChild(i);s=this.playerElIngest_=r;Object.keys(r).forEach(function(n){i[n]=r[n]})}for(i.setAttribute("tabindex","-1"),f.tabindex="-1",dk&&(i.setAttribute("role","application"),f.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),("width"in f)&&delete f.width,("height"in f)&&delete f.height,Object.getOwnPropertyNames(f).forEach(function(n){e&&n==="class"||r.setAttribute(n,f[n]);e&&i.setAttribute(n,f[n])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=r.player=this,this.addClass("vjs-paused"),t.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&(this.styleEl_=ek("vjs-styles-dimensions"),h=rr(".vjs-styles-defaults"),c=rr("head"),c.insertBefore(this.styleEl_,h?h.nextSibling:c.firstChild)),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),l=i.getElementsByTagName("a"),o=0;o<l.length;o++)a=l.item(o),pr(a,"vjs-hidden"),a.setAttribute("hidden","hidden");return i.initNetworkState_=i.networkState,i.parentNode&&!s&&i.parentNode.insertBefore(r,i),is(i,r),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=r,r},r.prototype.width=function(n){return this.dimension("width",n)},r.prototype.height=function(n){return this.dimension("height",n)},r.prototype.dimension=function(n,t){var i=n+"_",r;if(t===undefined)return this[i]||0;if(t===""){this[i]=undefined;this.updateStyleEl_();return}if(r=parseFloat(t),isNaN(r)){l.error('Improper value "'+t+'" supplied for for '+n);return}this[i]=r;this.updateStyleEl_()},r.prototype.fluid=function(n){if(n===undefined)return!!this.fluid_;this.fluid_=!!n;n?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid");this.updateStyleEl_()},r.prototype.aspectRatio=function(n){if(n===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n;this.fluid(!0);this.updateStyleEl_()},r.prototype.updateStyleEl_=function(){var f,i;if(t.VIDEOJS_NO_DYNAMIC_STYLE===!0){var e=typeof this.width_=="number"?this.width_:this.options_.width,o=typeof this.height_=="number"?this.height_:this.options_.height,r=this.tech_&&this.tech_.el();r&&(e>=0&&(r.width=e),o>=0&&(r.height=o));return}var u=void 0,s=void 0,h=void 0,n=void 0;h=this.aspectRatio_!==undefined&&this.aspectRatio_!=="auto"?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";f=h.split(":");i=f[1]/f[0];u=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/i:this.videoWidth()||300;s=this.height_!==undefined?this.height_:u*i;n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(n);ok(this.styleEl_,"\n      ."+n+" {\n        width: "+u+"px;\n        height: "+s+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+i*100+"%;\n      }\n    ")},r.prototype.loadTech_=function(n,t){var i=this,u,f,o,r,e;if(this.tech_&&this.unloadTech_(),u=b(n),f=n.charAt(0).toLowerCase()+n.slice(1),u!=="Html5"&&this.tag&&(y.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=u,this.isReady_=!1,o=typeof this.autoplay()=="string"?!1:this.autoplay(),r={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+f+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset},at.names.forEach(function(n){var t=at[n];r[t.getterName]=i[t.privateName]}),k(r,this.options_[u]),k(r,this.options_[f]),k(r,this.options_[n.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),e=y.getTech(n),!e)throw new Error("No Tech named '"+u+"' exists! '"+u+"' should be registered using videojs.registerTech()'");this.tech_=new e(r);this.tech_.ready(s(this,this.handleTechReady_),!0);fd.jsonToTextTracks(this.textTracksJson_||[],this.tech_);ett.forEach(function(n){i.on(i.tech_,n,i["handleTech"+b(n)+"_"])});Object.keys(oy).forEach(function(n){i.on(i.tech_,n,function(t){if(i.tech_.playbackRate()===0&&i.tech_.seeking()){i.queuedCallbacks_.push({callback:i["handleTech"+oy[n]+"_"].bind(i),event:t});return}i["handleTech"+oy[n]+"_"](t)})});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"sourceset",this.handleTechSourceset_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.on(this.tech_,"ratechange",this.handleTechRateChange_);this.usingNativeControls(this.techGet_("controls"));this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_();this.tech_.el().parentNode===this.el()||u==="Html5"&&this.tag||is(this.tech_.el(),this.el());this.tag&&(this.tag.player=null,this.tag=null)},r.prototype.unloadTech_=function(){var n=this;at.names.forEach(function(t){var i=at[t];n[i.privateName]=n[i.getterName]()});this.textTracksJson_=fd.textTracksToJson(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1;this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange"));this.isPosterFromTech_=!1},r.prototype.tech=function(n){return n===undefined&&l.warn(ol(tat)),this.tech_},r.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"dblclick",this.handleTechDoubleClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)},r.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_);this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},r.prototype.handleTechReady_=function(){this.triggerReady();this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume);this.handleTechPosterChange_();this.handleTechDurationChange_()},r.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"));this.manualAutoplay_(this.autoplay())},r.prototype.manualAutoplay_=function(n){var i=this,r,t;if(this.tech_&&typeof n=="string")return(r=function(){var t=i.muted(),n;if(i.muted(!0),n=i.play(),n&&n.then&&n.catch)return n.catch(function(){i.muted(t)})},t=void 0,n==="any"?(t=this.play(),t&&t.then&&t.catch&&t.catch(function(){return r()})):t=n==="muted"?r():this.play(),!t||!t.then||!t.catch)?void 0:t.then(function(){i.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){i.trigger({type:"autoplay-failure",autoplay:n})})},r.prototype.updateSourceCaches_=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=i,r="",u,t;if(typeof n!="string"&&(n=i.src,r=i.type),!/^blob:/.test(n)){this.cache_.source=this.cache_.source||{};this.cache_.sources=this.cache_.sources||[];n&&!r&&(r=clt(this,n));this.cache_.source=p({},i,{src:n,type:r});var f=this.cache_.sources.filter(function(t){return t.src&&t.src===n}),e=[],o=this.$$("source"),s=[];for(u=0;u<o.length;u++)t=wi(o[u]),e.push(t),t.src&&t.src===n&&s.push(t.src);s.length&&!f.length?this.cache_.sources=e:f.length||(this.cache_.sources=[this.cache_.source]);this.cache_.src=n}},r.prototype.handleTechSourceset_=function(n){var t=this,i;if(!this.changingSrc_&&(this.updateSourceCaches_(n.src),!n.src)){i=function i(n){n.type!=="sourceset"&&t.updateSourceCaches_(t.techGet_("currentSrc"));t.tech_.off(["sourceset","loadstart"],i)};this.tech_.one(["sourceset","loadstart"],i)}this.trigger({src:n.src,type:"sourceset"})},r.prototype.hasStarted=function(n){if(n===undefined)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")},r.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]);this.cache_.lastPlaybackRate=this.tech_.playbackRate();this.trigger("ratechange")},r.prototype.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return n.removeClass("vjs-waiting")})},r.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");this.trigger("canplay")},r.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")},r.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")},r.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")},r.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.trigger("seeked")},r.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(l.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime));this.addClass("vjs-has-started");this.trigger("firstplay")},r.prototype.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")},r.prototype.handleTechEnded_=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause();this.trigger("ended")},r.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.prototype.handleTechClick_=function(n){au(n)&&this.controls_&&(this.paused()?ye(this.play()):this.pause())},r.prototype.handleTechDoubleClick_=function(n){if(this.controls_){var t=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(n.target)});t||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},r.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.prototype.handleTechTouchEnd_=function(n){n.preventDefault()},r.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.prototype.handleStageClick_=function(){this.reportUserActivity()},r.prototype.handleTechFullscreenChange_=function(n,t){t&&this.isFullscreen(t.isFullscreen);this.trigger("fullscreenchange")},r.prototype.handleTechError_=function(){var n=this.tech_.error();this.error(n)},r.prototype.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]);this.trigger("textdata",n)},r.prototype.getCache=function(){return this.cache_},r.prototype.techCall_=function(n,t){this.ready(function(){if(n in flt)return rlt(this.middleware_,this.tech_,n,t);if(n in ag)return lg(this.middleware_,this.tech_,n,t);try{this.tech_&&this.tech_[n](t)}catch(i){l(i);throw i;}},!0)},r.prototype.techGet_=function(n){if(this.tech_&&this.tech_.isReady_){if(n in ult)return ilt(this.middleware_,this.tech_,n);if(n in ag)return lg(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(t){if(this.tech_[n]===undefined){l("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",t);throw t;}if(t.name==="TypeError"){l("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",t);this.tech_.isReady_=!1;throw t;}l(t);throw t;}}},r.prototype.play=function(){var i=this,n=this.options_.Promise||t.Promise;return n?new n(function(n){i.play_(n)}):this.play_()},r.prototype.play_=function(){var n=this,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:ye;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc())){t(this.techGet_("play"));return}this.playOnLoadstart_=function(){n.playOnLoadstart_=null;t(n.play())};this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0;this.ready(function(){n.playWaitingForReady_=!1;t(n.play())})}},r.prototype.pause=function(){this.techCall_("pause")},r.prototype.paused=function(){return this.techGet_("paused")===!1?!1:!0},r.prototype.played=function(){return this.techGet_("played")||kr(0,0)},r.prototype.scrubbing=function(n){if(typeof n=="undefined")return this.scrubbing_;this.scrubbing_=!!n;n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.prototype.currentTime=function(n){if(typeof n!="undefined"){n<0&&(n=0);this.techCall_("setCurrentTime",n);return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.prototype.duration=function(n){if(n===undefined)return this.cache_.duration!==undefined?this.cache_.duration:NaN;n=parseFloat(n);n<0&&(n=Infinity);n!==this.cache_.duration&&(this.cache_.duration=n,n===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},r.prototype.remainingTime=function(){return this.duration()-this.currentTime()},r.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.prototype.buffered=function(){var n=this.techGet_("buffered");return n&&n.length||(n=kr(0,0)),n},r.prototype.bufferedPercent=function(){return id(this.buffered(),this.duration())},r.prototype.bufferedEnd=function(){var t=this.buffered(),i=this.duration(),n=t.end(t.length-1);return n>i&&(n=i),n},r.prototype.volume=function(n){var t=void 0;if(n!==undefined){t=Math.max(0,Math.min(1,parseFloat(n)));this.cache_.volume=t;this.techCall_("setVolume",t);t>0&&this.lastVolume_(t);return}return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t},r.prototype.muted=function(n){if(n!==undefined){this.techCall_("setMuted",n);return}return this.techGet_("muted")||!1},r.prototype.defaultMuted=function(n){return n!==undefined?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},r.prototype.lastVolume_=function(n){if(n!==undefined&&n!==0){this.cache_.lastVolume=n;return}return this.cache_.lastVolume},r.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.prototype.isFullscreen=function(n){if(n!==undefined){this.isFullscreen_=!!n;return}return!!this.isFullscreen_},r.prototype.requestFullscreen=function(){var n=os;this.isFullscreen(!0);n.requestFullscreen?(ei(u,n.fullscreenchange,s(this,function t(){this.isFullscreen(u[n.fullscreenElement]);this.isFullscreen()===!1&&pt(u,n.fullscreenchange,t);this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},r.prototype.exitFullscreen=function(){var n=os;this.isFullscreen(!1);n.requestFullscreen?u[n.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},r.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=u.documentElement.style.overflow;ei(u,"keydown",s(this,this.fullWindowOnEscKey));u.documentElement.style.overflow="hidden";pr(u.body,"vjs-full-window");this.trigger("enterFullWindow")},r.prototype.fullWindowOnEscKey=function(n){n.keyCode===27&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},r.prototype.exitFullWindow=function(){this.isFullWindow=!1;pt(u,"keydown",this.fullWindowOnEscKey);u.documentElement.style.overflow=this.docOrigOverflow;ee(u.body,"vjs-full-window");this.trigger("exitFullWindow")},r.prototype.canPlayType=function(n){for(var r,t,u=void 0,f=0,e=this.options_.techOrder;f<e.length;f++){if(r=e[f],t=y.getTech(r),t||(t=i.getComponent(r)),!t){l.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.');continue}if(t.isSupported()&&(u=t.canPlayType(n),u))return u}return""},r.prototype.selectSource=function(n){var f=this,t=this.options_.techOrder.map(function(n){return[n,y.getTech(n)]}).filter(function(n){var i=n[0],t=n[1];return t?t.isSupported():(l.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(n,t,i){var r=void 0;return n.some(function(n){return t.some(function(t){return r=i(n,t),r?!0:void 0})}),r},r=void 0,e=function(n){return function(t,i){return n(i,t)}},u=function(n,t){var i=n[0],r=n[1];if(r.canPlaySource(t,f.options_[i.toLowerCase()]))return{source:t,tech:i}};return r=this.options_.sourceOrder?i(n,t,e(u)):i(t,n,u),r||!1},r.prototype.src=function(n){var t=this,i;if(typeof n=="undefined")return this.cache_.src||"";if(i=yg(n),!i.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}this.changingSrc_=!0;this.cache_.sources=i;this.updateSourceCaches_(i[0]);nlt(this,i[0],function(n,r){t.middleware_=r;t.cache_.sources=i;t.updateSourceCaches_(n);var u=t.src_(n);if(u){if(i.length>1)return t.src(i.slice(1));t.changingSrc_=!1;t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);t.triggerReady();return}tlt(r,t.tech_)})},r.prototype.src_=function(n){var i=this,t=this.selectSource([n]);return t?rst(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src);this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(function(){i.changingSrc_=!1}),!1):!0},r.prototype.load=function(){this.techCall_("load")},r.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text");this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset")},r.prototype.currentSources=function(){var n=this.currentSource(),t=[];return Object.keys(n).length!==0&&t.push(n),this.cache_.sources||t},r.prototype.currentSource=function(){return this.cache_.source||{}},r.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.prototype.preload=function(n){if(n!==undefined){this.techCall_("setPreload",n);this.options_.preload=n;return}return this.techGet_("preload")},r.prototype.autoplay=function(n){if(n===undefined)return this.options_.autoplay||!1;var t=void 0;typeof n=="string"&&/(any|play|muted)/.test(n)?(this.options_.autoplay=n,this.manualAutoplay_(n),t=!1):this.options_.autoplay=n?!0:!1;t=t||this.options_.autoplay;this.tech_&&this.techCall_("setAutoplay",t)},r.prototype.playsinline=function(n){return n!==undefined?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},r.prototype.loop=function(n){if(n!==undefined){this.techCall_("setLoop",n);this.options_.loop=n;return}return this.techGet_("loop")},r.prototype.poster=function(n){if(n===undefined)return this.poster_;(n||(n=""),n!==this.poster_)&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.prototype.controls=function(n){if(n===undefined)return!!this.controls_;(n=!!n,this.controls_!==n)&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.prototype.usingNativeControls=function(n){if(n===undefined)return!!this.usingNativeControls_;(n=!!n,this.usingNativeControls_!==n)&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.prototype.error=function(n){if(n===undefined)return this.error_||null;if(n===null){this.error_=n;this.removeClass("vjs-error");this.errorDisplay&&this.errorDisplay.close();return}this.error_=new ft(n);this.addClass("vjs-error");l.error("(CODE:"+this.error_.code+" "+ft.errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error");return},r.prototype.reportUserActivity=function(){this.userActivity_=!0},r.prototype.userActive=function(n){if(n===undefined)return this.userActive_;if(n=!!n,n!==this.userActive_){if(this.userActive_=n,this.userActive_){this.userActivity_=!0;this.removeClass("vjs-user-inactive");this.addClass("vjs-user-active");this.trigger("useractive");return}if(this.tech_)this.tech_.one("mousemove",function(n){n.stopPropagation();n.preventDefault()});this.userActivity_=!1;this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}},r.prototype.listenForUserActivity_=function(){var t=void 0,r=void 0,u=void 0,n=s(this,this.reportUserActivity),f=function(t){(t.screenX!==r||t.screenY!==u)&&(r=t.screenX,u=t.screenY,n())},e=function(){n();this.clearInterval(t);t=this.setInterval(n,250)},o=function(){n();this.clearInterval(t)},i;this.on("mousedown",e);this.on("mousemove",f);this.on("mouseup",o);this.on("keydown",n);this.on("keyup",n);i=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(i);var n=this.options_.inactivityTimeout;n<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},n))}},250)},r.prototype.playbackRate=function(n){if(n!==undefined){this.techCall_("setPlaybackRate",n);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.prototype.defaultPlaybackRate=function(n){return n!==undefined?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.prototype.isAudio=function(n){if(n!==undefined){this.isAudio_=!!n;return}return!!this.isAudio_},r.prototype.addTextTrack=function(n,t,i){if(this.tech_)return this.tech_.addTextTrack(n,t,i)},r.prototype.addRemoteTextTrack=function(n,t){if(this.tech_)return this.tech_.addRemoteTextTrack(n,t)},r.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.track,i=n===undefined?arguments[0]:n;if(this.tech_)return this.tech_.removeRemoteTextTrack(i)},r.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.prototype.language=function(n){if(n===undefined)return this.language_;this.language_=String(n).toLowerCase()},r.prototype.languages=function(){return p(r.prototype.options_.languages,this.languages_)},r.prototype.toJSON=function(){var i=p(this.options_),r=i.tracks,n,t;for(i.tracks=[],n=0;n<r.length;n++)t=r[n],t=p(t),t.player=undefined,i.tracks[n]=t;return i},r.prototype.createModal=function(n,t){var r=this,i;t=t||{};t.content=n||"";i=new bu(this,t);this.addChild(i);i.on("dispose",function(){r.removeChild(i)});return i.open(),i},r.getTagSettings=function(n){var t={sources:[],tracks:[]},i=wi(n),o=i["data-setup"],f,r,c,u,e;if(lu(n,"vjs-fluid")&&(i.fluid=!0),o!==null){var s=rd(o||"{}"),h=s[0],a=s[1];h&&l.error(h);k(i,a)}if(k(t,i),n.hasChildNodes())for(f=n.childNodes,r=0,c=f.length;r<c;r++)u=f[r],e=u.nodeName.toLowerCase(),e==="source"?t.sources.push(wi(u)):e==="track"&&t.tracks.push(wi(u));return t},r.prototype.flexNotSupported_=function(){var n=u.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},r}(i);at.names.forEach(function(n){var t=at[n];nt.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});nt.players={};uf=t.navigator;nt.prototype.options_={techOrder:y.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:uf&&(uf.languages&&uf.languages[0]||uf.userLanguage||uf.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){nt.prototype[n]=function(){return this.techGet_(n)}});ett.forEach(function(n){nt.prototype["handleTech"+b(n)+"_"]=function(){return this.trigger(n)}});i.registerComponent("Player",nt);var ah="plugin",ff="activePlugins_",ef={},vh=function(n){return ef.hasOwnProperty(n)},yh=function(n){return vh(n)?ef[n]:undefined},ott=function(n,t){n[ff]=n[ff]||{};n[ff][t]=!0},ph=function(n,t,i){var r=(i?"before":"")+"pluginsetup";n.trigger(r,t);n.trigger(r+":"+t.name,t)},iat=function(n,t){var i=function(){ph(this,{name:n,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return ott(this,n),ph(this,{name:n,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(n){i[n]=t[n]}),i},stt=function(n,t){return t.prototype.name=n,function(){var r;ph(this,{name:n,plugin:t,instance:null},!0);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=new(Function.prototype.bind.apply(t,[null].concat([this].concat(f)))),this[n]=function(){return r},ph(this,r.getEventHash()),r}},li=function(){function n(t){if(f(this,n),this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t;dl(this);delete this.trigger;vk(this,this.constructor.defaultState);ott(t,this.name);this.dispose=s(this,this.dispose);t.on("dispose",this.dispose)}return n.prototype.version=function(){return this.constructor.VERSION},n.prototype.getEventHash=function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return n.name=this.name,n.plugin=this.constructor,n.instance=this,n},n.prototype.trigger=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return yu(this.eventBusEl_,n,this.getEventHash(t))},n.prototype.handleStateChanged=function(){},n.prototype.dispose=function(){var n=this.name,t=this.player;this.trigger("dispose");this.off();t.off("dispose",this.dispose);t[ff][n]=!1;this.player=this.state=null;t[n]=stt(n,ef[n])},n.isBasic=function(t){var i=typeof t=="string"?yh(t):t;return typeof i=="function"&&!n.prototype.isPrototypeOf(i.prototype)},n.registerPlugin=function(t,i){if(typeof t!="string")throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(typeof t=="undefined"?"undefined":d(t))+".");if(vh(t))l.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(nt.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if(typeof i!="function")throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(typeof i=="undefined"?"undefined":d(i))+".");return ef[t]=i,t!==ah&&(nt.prototype[t]=n.isBasic(i)?iat(t,i):stt(t,i)),i},n.deregisterPlugin=function(n){if(n===ah)throw new Error("Cannot de-register base plugin.");vh(n)&&(delete ef[n],delete nt.prototype[n])},n.getPlugins=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(ef),n=void 0;return t.forEach(function(t){var i=yh(t);i&&(n=n||{},n[t]=i)}),n},n.getPluginVersion=function(n){var t=yh(n);return t&&t.VERSION||""},n}();li.getPlugin=yh;li.BASE_PLUGIN_NAME=ah;li.registerPlugin(ah,li);nt.prototype.usingPlugin=function(n){return!!this[ff]&&this[ff][n]===!0};nt.prototype.hasPlugin=function(n){return!!vh(n)};var rat=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":d(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(n.super_=t)},uat=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=function(){n.apply(this,arguments)},r={},u;(typeof t=="undefined"?"undefined":d(t))==="object"?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):typeof t=="function"&&(i=t);rat(i,n);for(u in r)r.hasOwnProperty(u)&&(i.prototype[u]=r[u]);return i},htt=function(n){return n.indexOf("#")===0?n.slice(1):n};n.hooks_={};n.hooks=function(t,i){return n.hooks_[t]=n.hooks_[t]||[],i&&(n.hooks_[t]=n.hooks_[t].concat(i)),n.hooks_[t]};n.hook=function(t,i){n.hooks(t,i)};n.hookOnce=function(t,i){n.hooks(t,[].concat(i).map(function(i){var r=function r(){return n.removeHook(t,r),i.apply(undefined,arguments)};return r}))};n.removeHook=function(t,i){var r=n.hooks(t).indexOf(i);return r<=-1?!1:(n.hooks_[t]=n.hooks_[t].slice(),n.hooks_[t].splice(r,1),!0)};t.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&cu()&&(io=rr(".vjs-styles-defaults"),io||(io=ek("vjs-styles-defaults"),wh=rr("head"),wh&&wh.insertBefore(io,wh.firstChild),ok(io,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")));bl(1,n);n.VERSION=tb;n.options=nt.prototype.options_;n.getPlayers=function(){return nt.players};n.getPlayer=function(n){var i=nt.players,t=void 0,r,u;if(typeof n=="string"){if(r=htt(n),u=i[r],u)return u;t=rr("#"+r)}else t=n;if(ue(t)){var f=t,e=f.player,o=f.playerId;if(e||i[o])return e||i[o]}};n.getAllPlayers=function(){return Object.keys(nt.players).map(function(n){return nt.players[n]}).filter(Boolean)};n.players=nt.players;n.getComponent=i.getComponent;n.registerComponent=function(n,t){y.isTech(t)&&l.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");i.registerComponent.call(i,n,t)};n.getTech=y.getTech;n.registerTech=y.registerTech;n.use=gct;Object.defineProperty(n,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(n.middleware,"TERMINATOR",{value:ys,writeable:!1,enumerable:!0});n.browser=est;n.TOUCH_ENABLED=es;n.extend=uat;n.mergeOptions=p;n.bind=s;n.registerPlugin=li.registerPlugin;n.deregisterPlugin=li.deregisterPlugin;n.plugin=function(n,t){return l.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),li.registerPlugin(n,t)};n.getPlugins=li.getPlugins;n.getPlugin=li.getPlugin;n.getPluginVersion=li.getPluginVersion;n.addLanguage=function(t,i){var r;return t=(""+t).toLowerCase(),n.options.languages=p(n.options.languages,(r={},r[t]=i,r)),n.options.languages[t]};n.log=l;n.createTimeRange=n.createTimeRanges=kr;n.formatTime=nf;n.setFormatTime=alt;n.resetFormatTime=vlt;n.parseUrl=ha;n.isCrossOrigin=cs;n.EventTarget=rt;n.on=ei;n.one=ce;n.off=pt;n.trigger=yu;n.xhr=kd;n.TextTrack=we;n.AudioTrack=tg;n.VideoTrack=ig;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){n[t]=function(){return l.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),tk[t].apply(null,arguments)}});n.computedStyle=hl;n.dom=tk;n.url=dst;var bh=el(function(n){(function(){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,u=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,t={buildAbsoluteURL:function(n,i,u){var s,f,e,h,o,c,l;if(u=u||{},n=n.trim(),i=i.trim(),!i){if(!u.alwaysNormalize)return n;if(s=t.parseURL(n),!s)throw new Error("Error trying to parse base URL.");return s.path=t.normalizePath(s.path),t.buildURLFromParts(s)}if(f=t.parseURL(i),!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=t.normalizePath(f.path),t.buildURLFromParts(f)):i;if(e=t.parseURL(n),!e)throw new Error("Error trying to parse base URL.");return!e.netLoc&&e.path&&e.path[0]!=="/"&&(h=r.exec(e.path),e.netLoc=h[1],e.path=h[2]),e.netLoc&&!e.path&&(e.path="/"),o={scheme:e.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment},f.netLoc||(o.netLoc=e.netLoc,f.path[0]!=="/"&&(f.path?(c=e.path,l=c.substring(0,c.lastIndexOf("/")+1)+f.path,o.path=t.normalizePath(l)):(o.path=e.path,f.params||(o.params=e.params,f.query||(o.query=e.query))))),o.path===null&&(o.path=u.alwaysNormalize?t.normalizePath(f.path):f.path),t.buildURLFromParts(o)},parseURL:function(n){var t=i.exec(n);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(n){for(n=n.split("").reverse().join("").replace(u,"");n.length!==(n=n.replace(f,"")).length;);return n.split("").reverse().join("")},buildURLFromParts:function(n){return n.scheme+n.netLoc+n.path+n.params+n.query+n.fragment}};n.exports=t})(te)}),kh=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},fat=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},sy=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":d(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},hy=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":d(t))==="object"||typeof t=="function")?t:n},cy=function(){function n(){kh(this,n);this.listeners={}}return n.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},n.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),i>-1},n.prototype.trigger=function(n){var i=this.listeners[n],t=void 0,r=void 0,u=void 0;if(i)if(arguments.length===2)for(r=i.length,t=0;t<r;++t)i[t].call(this,arguments[1]);else for(u=Array.prototype.slice.call(arguments,1),r=i.length,t=0;t<r;++t)i[t].apply(this,u)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},n}(),eat=function(n){function t(){kh(this,t);var i=hy(this,n.call(this));return i.buffer="",i}return sy(t,n),t.prototype.push=function(n){var t=void 0;for(this.buffer+=n,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(cy),oat=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')},ro=function(n){for(var i=n.split(oat()),u={},r=i.length,t=void 0;r--;)i[r]!==""&&(t=/([^=]*)=(.*)/.exec(i[r]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),u[t[0]]=t[1]);return u},sat=function(n){function t(){kh(this,t);var i=hy(this,n.call(this));return i.customParsers=[],i}return sy(t,n),t.prototype.push=function(n){var i=void 0,t=void 0,f,r,u,e;if(n=n.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),n.length!==0){if(n[0]!=="#"){this.trigger("data",{type:"uri",uri:n});return}for(f=0;f<this.customParsers.length;f++)if(this.customParsers[f].call(this,n))return;if(n.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:n.slice(1)});return}if(n=n.replace("\r",""),i=/^#EXTM3U/.exec(n),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(n),i){t={type:"tag",tagType:"inf"};i[1]&&(t.duration=parseFloat(i[1]));i[2]&&(t.title=i[2]);this.trigger("data",t);return}if(i=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"targetduration"};i[1]&&(t.duration=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"totalduration"};i[1]&&(t.duration=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"version"};i[1]&&(t.version=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"media-sequence"};i[1]&&(t.number=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"discontinuity-sequence"};i[1]&&(t.number=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"playlist-type"};i[1]&&(t.playlistType=i[1]);this.trigger("data",t);return}if(i=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"byterange"};i[1]&&(t.length=parseInt(i[1],10));i[2]&&(t.offset=parseInt(i[2],10));this.trigger("data",t);return}if(i=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(n),i){t={type:"tag",tagType:"allow-cache"};i[1]&&(t.allowed=!/NO/.test(i[1]));this.trigger("data",t);return}if(i=/^#EXT-X-MAP:?(.*)$/.exec(n),i){if(t={type:"tag",tagType:"map"},i[1]&&(r=ro(i[1]),r.URI&&(t.uri=r.URI),r.BYTERANGE)){var o=r.BYTERANGE.split("@"),s=o[0],h=o[1];t.byterange={};s&&(t.byterange.length=parseInt(s,10));h&&(t.byterange.offset=parseInt(h,10))}this.trigger("data",t);return}if(i=/^#EXT-X-STREAM-INF:?(.*)$/.exec(n),i){t={type:"tag",tagType:"stream-inf"};i[1]&&(t.attributes=ro(i[1]),t.attributes.RESOLUTION&&(u=t.attributes.RESOLUTION.split("x"),e={},u[0]&&(e.width=parseInt(u[0],10)),u[1]&&(e.height=parseInt(u[1],10)),t.attributes.RESOLUTION=e),t.attributes.BANDWIDTH&&(t.attributes.BANDWIDTH=parseInt(t.attributes.BANDWIDTH,10)),t.attributes["PROGRAM-ID"]&&(t.attributes["PROGRAM-ID"]=parseInt(t.attributes["PROGRAM-ID"],10)));this.trigger("data",t);return}if(i=/^#EXT-X-MEDIA:?(.*)$/.exec(n),i){t={type:"tag",tagType:"media"};i[1]&&(t.attributes=ro(i[1]));this.trigger("data",t);return}if(i=/^#EXT-X-ENDLIST/.exec(n),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(n),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(n),i){t={type:"tag",tagType:"program-date-time"};i[1]&&(t.dateTimeString=i[1],t.dateTimeObject=new Date(i[1]));this.trigger("data",t);return}if(i=/^#EXT-X-KEY:?(.*)$/.exec(n),i){t={type:"tag",tagType:"key"};i[1]&&(t.attributes=ro(i[1]),t.attributes.IV&&(t.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(t.attributes.IV=t.attributes.IV.substring(2)),t.attributes.IV=t.attributes.IV.match(/.{8}/g),t.attributes.IV[0]=parseInt(t.attributes.IV[0],16),t.attributes.IV[1]=parseInt(t.attributes.IV[1],16),t.attributes.IV[2]=parseInt(t.attributes.IV[2],16),t.attributes.IV[3]=parseInt(t.attributes.IV[3],16),t.attributes.IV=new Uint32Array(t.attributes.IV)));this.trigger("data",t);return}if(i=/^#EXT-X-START:?(.*)$/.exec(n),i){t={type:"tag",tagType:"start"};i[1]&&(t.attributes=ro(i[1]),t.attributes["TIME-OFFSET"]=parseFloat(t.attributes["TIME-OFFSET"]),t.attributes.PRECISE=/YES/.test(t.attributes.PRECISE));this.trigger("data",t);return}if(i=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"cue-out-cont"};t.data=i[1]?i[1]:"";this.trigger("data",t);return}if(i=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"cue-out"};t.data=i[1]?i[1]:"";this.trigger("data",t);return}if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"cue-in"};t.data=i[1]?i[1]:"";this.trigger("data",t);return}this.trigger("data",{type:"tag",data:n.slice(4)})}},t.prototype.addParser=function(n){var i=this,r=n.expression,u=n.customType,t=n.dataParser,f=n.segment;typeof t!="function"&&(t=function(n){return n});this.customParsers.push(function(n){var e=r.exec(n);if(e)return i.trigger("data",{type:"custom",data:t(n),customType:u,segment:f}),!0})},t}(cy),ctt=function(n){function t(){var r;kh(this,t);r=hy(this,n.call(this));r.lineStream=new eat;r.parseStream=new sat;r.lineStream.pipe(r.parseStream);var s=r,e=[],i={},u=void 0,f=void 0,c=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},o=0;r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};r.parseStream.on("data",function(n){var r=void 0,t=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=n.allowed;"allowed"in n||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in n&&(i.byterange=t,t.length=n.length,"offset"in n||(this.trigger("info",{message:"defaulting offset to zero"}),n.offset=0));"offset"in n&&(i.byterange=t,t.offset=n.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"}));"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"}));n.duration>0&&(i.duration=n.duration);n.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"}));this.manifest.segments=e},key:function(){if(!n.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(n.attributes.METHOD==="NONE"){f=null;return}if(!n.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}n.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"});f={method:n.attributes.METHOD||"AES-128",uri:n.attributes.URI};typeof n.attributes.IV!="undefined"&&(f.iv=n.attributes.IV)},"media-sequence":function(){if(!isFinite(n.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+n.number});return}this.manifest.mediaSequence=n.number},"discontinuity-sequence":function(){if(!isFinite(n.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+n.number});return}this.manifest.discontinuitySequence=n.number;o=n.number},"playlist-type":function(){if(!/VOD|EVENT/.test(n.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+n.playlist});return}this.manifest.playlistType=n.playlistType},map:function(){u={};n.uri&&(u.uri=n.uri);n.byterange&&(u.byterange=n.byterange)},"stream-inf":function(){if(this.manifest.playlists=e,this.manifest.mediaGroups=this.manifest.mediaGroups||h,!n.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={});fat(i.attributes,n.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(n.attributes&&n.attributes.TYPE&&n.attributes["GROUP-ID"]&&n.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var i=this.manifest.mediaGroups[n.attributes.TYPE];i[n.attributes["GROUP-ID"]]=i[n.attributes["GROUP-ID"]]||{};r=i[n.attributes["GROUP-ID"]];t={"default":/yes/i.test(n.attributes.DEFAULT)};t.autoselect=t["default"]?!0:/yes/i.test(n.attributes.AUTOSELECT);n.attributes.LANGUAGE&&(t.language=n.attributes.LANGUAGE);n.attributes.URI&&(t.uri=n.attributes.URI);n.attributes["INSTREAM-ID"]&&(t.instreamId=n.attributes["INSTREAM-ID"]);n.attributes.CHARACTERISTICS&&(t.characteristics=n.attributes.CHARACTERISTICS);n.attributes.FORCED&&(t.forced=/yes/i.test(n.attributes.FORCED));r[n.attributes.NAME]=t},discontinuity:function(){o+=1;i.discontinuity=!0;this.manifest.discontinuityStarts.push(e.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=n.dateTimeString,this.manifest.dateTimeObject=n.dateTimeObject);i.dateTimeString=n.dateTimeString;i.dateTimeObject=n.dateTimeObject},targetduration:function(){if(!isFinite(n.duration)||n.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+n.duration});return}this.manifest.targetDuration=n.duration},totalduration:function(){if(!isFinite(n.duration)||n.duration<0){this.trigger("warn",{message:"ignoring invalid total duration: "+n.duration});return}this.manifest.totalDuration=n.duration},start:function(){if(!n.attributes||isNaN(n.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:n.attributes["TIME-OFFSET"],precise:n.attributes.PRECISE}},"cue-out":function(){i.cueOut=n.data},"cue-out-cont":function(){i.cueOutCont=n.data},"cue-in":function(){i.cueIn=n.data}}[n.tagType]||c).call(s)},uri:function(){i.uri=n.uri;e.push(i);!this.manifest.targetDuration||"duration"in i||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration);f&&(i.key=f);i.timeline=o;u&&(i.map=u);i={}},comment:function(){},custom:function(){n.segment?(i.custom=i.custom||{},i.custom[n.customType]=n.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[n.customType]=n.data)}})[n.type].call(s)});return r}return sy(t,n),t.prototype.push=function(n){this.lineStream.push(n)},t.prototype.end=function(){this.lineStream.push("\n")},t.prototype.addParser=function(n){this.parseStream.addParser(n)},t}(cy);
/**
   * mpd-parser
   * @version 0.6.1
   * @copyright 2018 Brightcove, Inc
   * @license Apache-2.0
   */
var hat=function(n){var i,t=n.attributes,r=n.segments,u={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:(t.type||"static")==="static",timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:r,mediaSequence:r.length?r[0].number:1};return t.contentProtection&&(u.contentProtection=t.contentProtection),u},cat=function(n){var r,t=n.attributes,i=n.segments;return typeof i=="undefined"&&(i=[{uri:t.baseUrl,timeline:t.periodIndex,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),{attributes:(r={NAME:t.id,BANDWIDTH:t.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:(t.type||"static")==="static",timeline:t.periodIndex,resolvedUri:t.baseUrl||"",targetDuration:t.duration,segments:i,mediaSequence:i.length?i[0].number:1}},lat=function(n){return n.reduce(function(n,t){var r=t.attributes.role&&t.attributes.role.value||"main",u=t.attributes.lang||"",i="main";return(u&&(i=t.attributes.lang+" ("+r+")"),n[i]&&n[i].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth)?n:(n[i]={language:u,autoselect:!0,"default":r==="main",playlists:[hat(t)],uri:""},n)},{})},aat=function(n){return n.reduce(function(n,t){var i=t.attributes.lang||"text";return n[i]?n:(n[i]={language:i,"default":!1,autoselect:!1,playlists:[cat(t)],uri:""},n)},{})},vat=function(n){var i,t=n.attributes,r=n.segments,u={attributes:(i={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:(t.type||"static")==="static",timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:r,mediaSequence:r.length?r[0].number:1};return t.contentProtection&&(u.contentProtection=t.contentProtection),u},yat=function(n){var t;if(!n.length)return{};var r=n[0].attributes,o=r.sourceDuration,u=r.minimumUpdatePeriod,s=u===undefined?0:u,h=function(n){var t=n.attributes;return t.mimeType==="video/mp4"||t.contentType==="video"},c=function(n){var t=n.attributes;return t.mimeType==="audio/mp4"||t.contentType==="audio"},l=function(n){var t=n.attributes;return t.mimeType==="text/vtt"||t.contentType==="text"},a=n.filter(h).map(vat),f=n.filter(c),e=n.filter(l),i={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:o,playlists:a,minimumUpdatePeriod:s*1e3};return f.length&&(i.mediaGroups.AUDIO.audio=lat(f)),e.length&&(i.mediaGroups.SUBTITLES.subs=aat(e)),i},pat=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(n){return typeof n=="undefined"?"undefined":d(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n=="undefined"?"undefined":d(n)},ltt=function(n){return!!n&&(typeof n=="undefined"?"undefined":pat(n))==="object"},vt=function vt(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.reduce(function(n,t){return Object.keys(t).forEach(function(i){n[i]=Array.isArray(n[i])&&Array.isArray(t[i])?n[i].concat(t[i]):ltt(n[i])&&ltt(t[i])?vt(n[i],t[i]):t[i]}),n},{})},ly=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=bh.buildAbsoluteURL(t.location.href,n)),bh.buildAbsoluteURL(n,i))},uo=function(n){var t=n.baseUrl,h=t===undefined?"":t,i=n.source,r=i===undefined?"":i,u=n.range,f=u===undefined?"":u,e={uri:r,resolvedUri:ly(h||"",r)};if(f){var o=f.split("-"),s=parseInt(o[0],10),c=parseInt(o[1],10);e.byterange={length:c-s,offset:s}}return e},wat=function(n,t,i){var e=n.NOW,o=n.clientOffset,s=n.availabilityStartTime,r=n.timescale,h=r===undefined?1:r,u=n.start,c=u===undefined?0:u,f=n.minimumUpdatePeriod,l=f===undefined?0:f,a=(e+o)/1e3,v=s+c,y=a+l,p=y-v;return Math.ceil((p*h-t)/i)},att=function(n,t){for(var o,c,d,s,l=n.type,g=l===undefined?"static":l,a=n.minimumUpdatePeriod,nt=a===undefined?0:a,v=n.media,tt=v===undefined?"":v,it=n.sourceDuration,y=n.timescale,p=y===undefined?1:y,w=n.startNumber,b=w===undefined?1:w,rt=n.periodIndex,u=[],i=-1,f=0;f<t.length;f++){var h=t[f],r=h.d,k=h.r||0,e=h.t||0;for(i<0&&(i=e),e&&e>i&&(i=e),o=void 0,k<0?(c=f+1,o=c===t.length?g==="dynamic"&&nt>0&&tt.indexOf("$Number$")>0?wat(n,i,r):(it*p-i)/r:(t[c].t-i)/r):o=k+1,d=b+u.length+o,s=b+u.length;s<d;)u.push({number:s,duration:r/p,time:i,timeline:rt}),i+=r,s++}return u},bat=function(n,t){for(var r=[],i=n;i<t;i++)r.push(i);return r},dh=function(n){return n.reduce(function(n,t){return n.concat(t)},[])},vtt=function(n){var i,t;if(!n.length)return[];for(i=[],t=0;t<n.length;t++)i.push(n[t]);return i},kat={static:function(n){var i=n.duration,t=n.timescale,r=t===undefined?1:t,u=n.sourceDuration;return{start:0,end:Math.ceil(u/(i/r))}},dynamic:function(n){var h=n.NOW,c=n.clientOffset,l=n.availabilityStartTime,f=n.timescale,t=f===undefined?1:f,i=n.duration,e=n.start,a=e===undefined?0:e,o=n.minimumUpdatePeriod,v=o===undefined?0:o,s=n.timeShiftBufferDepth,y=s===undefined?Infinity:s,r=(h+c)/1e3,u=l+a,p=r+v,w=p-u,b=Math.ceil(w*t/i),k=Math.floor((r-u-y)*t/i),d=Math.floor((r-u)*t/i);return{start:Math.max(0,k),end:Math.min(b,d)}}},dat=function(n){return function(t,i){var r=n.duration,u=n.timescale,e=u===undefined?1:u,o=n.periodIndex,f=n.startNumber,s=f===undefined?1:f;return{number:s+t,duration:r/e,timeline:o,time:i*r}}},ay=function(n){var r=n.type,u=r===undefined?"static":r,o=n.duration,f=n.timescale,s=f===undefined?1:f,h=n.sourceDuration,e=kat[u](n),c=e.start,l=e.end,t=bat(c,l).map(dat(n)),i;return u==="static"&&(i=t.length-1,t[i].duration=h-o/s*i),t},gat=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,nvt=function(n){return function(t,i,r,u){if(t==="$$")return"$";if(typeof n[i]=="undefined")return t;var f=""+n[i];return i==="RepresentationID"?f:(u=r?parseInt(u,10):1,f.length>=u)?f:""+new Array(u-f.length+1).join("0")+f}},ytt=function(n,t){return n.replace(gat,nvt(t))},tvt=function(n,t){return!n.duration&&!t?[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodIndex}]:n.duration?ay(n):att(n,t)},ivt=function(n,t){var i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},r=n.initialization,u=r===undefined?{sourceURL:"",range:""}:r,f=uo({baseUrl:n.baseUrl,source:ytt(u.sourceURL,i),range:u.range}),e=tvt(n,t);return e.map(function(t){i.Number=t.number;i.Time=t.time;var r=ytt(n.media||"",i);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:ly(n.baseUrl||"",r),map:f,number:t.number}})},sf={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},rvt=function(n,t){var i=n.baseUrl,r=n.initialization,u=r===undefined?{}:r,e=uo({baseUrl:i,source:u.sourceURL,range:u.range}),f=uo({baseUrl:i,source:t.media,range:t.mediaRange});return f.map=e,f},uvt=function(n,t){var r=n.duration,f=n.segmentUrls,e=f===undefined?[]:f,u,i;if(!r&&!t||r&&t)throw new Error(sf.SEGMENT_TIME_UNSPECIFIED);return u=e.map(function(t){return rvt(n,t)}),i=void 0,r&&(i=ay(n)),t&&(i=att(n,t)),i.map(function(n,t){if(u[t]){var i=u[t];return i.timeline=n.timeline,i.duration=n.duration,i.number=n.number,i}}).filter(function(n){return n})},fvt=function(n){var i=n.baseUrl,u=n.initialization,f=u===undefined?{}:u,e=n.sourceDuration,o=n.timescale,c=o===undefined?1:o,s=n.indexRange,l=s===undefined?"":s,a=n.duration,h,t,r;if(!i)throw new Error(sf.NO_BASE_URL);return h=uo({baseUrl:i,source:f.sourceURL,range:f.range}),t=uo({baseUrl:i,source:i,range:l}),t.map=h,a?(r=ay(n),r.length&&(t.duration=r[0].duration,t.timeline=r[0].timeline)):e&&(t.duration=e/c,t.timeline=0),t.number=0,[t]},evt=function(n){var u=n.attributes,i=n.segmentInfo,t=void 0,r=void 0,f;if(i.template?(r=ivt,t=vt(u,i.template)):i.base?(r=fvt,t=vt(u,i.base)):i.list&&(r=uvt,t=vt(u,i.list)),!r)return{attributes:u};if(f=r(t,i.timeline),t.duration){var e=t,s=e.duration,o=e.timescale,h=o===undefined?1:o;t.duration=s/h}else t.duration=f.length?f.reduce(function(n,t){return Math.max(n,Math.ceil(t.duration))},0):0;return{attributes:t,segments:f}},ovt=function(n){return n.map(evt)},tt=function(n,t){return vtt(n.childNodes).filter(function(n){var i=n.tagName;return i===t})},ptt=function(n){return n.textContent.trim()},fo=function(n){var i=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!i)return 0;var t=i.slice(1),r=t[0],u=t[1],f=t[2],e=t[3],o=t[4],s=t[5];return parseFloat(r||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(f||0)*86400+parseFloat(e||0)*3600+parseFloat(o||0)*60+parseFloat(s||0)},svt=function(n){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)},wtt={mediaPresentationDuration:function(n){return fo(n)},availabilityStartTime:function(n){return svt(n)/1e3},minimumUpdatePeriod:function(n){return fo(n)},timeShiftBufferDepth:function(n){return fo(n)},start:function(n){return fo(n)},width:function(n){return parseInt(n,10)},height:function(n){return parseInt(n,10)},bandwidth:function(n){return parseInt(n,10)},startNumber:function(n){return parseInt(n,10)},timescale:function(n){return parseInt(n,10)},duration:function(n){var t=parseInt(n,10);return isNaN(t)?fo(n):t},d:function(n){return parseInt(n,10)},t:function(n){return parseInt(n,10)},r:function(n){return parseInt(n,10)},DEFAULT:function(n){return n}},ot=function(n){return(n&&n.attributes)?vtt(n.attributes).reduce(function(n,t){var i=wtt[t.name]||wtt.DEFAULT;return n[t.name]=i(t.value),n},{}):{}};var cvt={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},gh=function(n,t){return t.length?dh(n.map(function(n){return t.map(function(t){return ly(n,ptt(t))})})):n},vy=function(n){var f=tt(n,"SegmentTemplate")[0],i=tt(n,"SegmentList")[0],c=i&&tt(i,"SegmentURL").map(function(n){return vt({tag:"SegmentURL"},ot(n))}),e=tt(n,"SegmentBase")[0],o=i||f,s=o&&tt(o,"SegmentTimeline")[0],h=i||e||f,r=h&&tt(h,"Initialization")[0],t=f&&ot(f),u;return t&&r?t.initialization=r&&ot(r):t&&t.initialization&&(t.initialization={sourceURL:t.initialization}),u={template:t,timeline:s&&tt(s,"S").map(function(n){return ot(n)}),list:i&&vt(ot(i),{segmentUrls:c,initialization:ot(r)}),base:e&&vt(ot(e),{initialization:ot(r)})},Object.keys(u).forEach(function(n){u[n]||delete u[n]}),u},lvt=function(n,t,i){return function(r){var u=tt(r,"BaseURL"),f=gh(t,u),e=vt(n,ot(r)),o=vy(r);return f.map(function(n){return{segmentInfo:vt(i,o),attributes:vt(e,{baseUrl:n})}})}},avt=function(n){return n.reduce(function(n,t){var f=ot(t),i=cvt[f.schemeIdUri],r,u,e;return i&&(n[i]={attributes:f},r=tt(t,"cenc:pssh")[0],r&&(u=ptt(r),e=u&&hvt(u),n[i].pssh=e)),n},{})},vvt=function(n,t,i){return function(r){var e=ot(r),o=gh(t,tt(r,"BaseURL")),s=tt(r,"Role")[0],h={role:ot(s)},u=vt(n,e,h),f=avt(tt(r,"ContentProtection"));Object.keys(f).length&&(u=vt(u,{contentProtection:f}));var c=vy(r),l=tt(r,"Representation"),a=vt(i,c);return dh(l.map(lvt(u,o,a)))}},yvt=function(n,t){return function(i,r){var u=gh(t,tt(i,"BaseURL")),f=ot(i),e=vt(n,f,{periodIndex:r}),o=tt(i,"AdaptationSet"),s=vy(i);return dh(o.map(vvt(e,u,s)))}},pvt=function(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=i.manifestUri,s=r===undefined?"":r,u=i.NOW,h=u===undefined?Date.now():u,f=i.clientOffset,c=f===undefined?0:f,e=tt(n,"Period"),t,o;if(e.length!==1)throw new Error(sf.INVALID_NUMBER_OF_PERIOD);return t=ot(n),o=gh([s],tt(n,"BaseURL")),t.sourceDuration=t.mediaPresentationDuration||0,t.NOW=h,t.clientOffset=c,dh(e.map(yvt(t,o)))},btt=function(n){if(n==="")throw new Error(sf.DASH_EMPTY_MANIFEST);var u=new t.DOMParser,r=u.parseFromString(n,"application/xml"),i=r&&r.documentElement.tagName==="MPD"?r.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(sf.DASH_INVALID_XML);return i},wvt=function(n){var i=tt(n,"UTCTiming")[0],t;if(!i)return null;t=ot(i);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT";t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(sf.UNSUPPORTED_UTC_TIMING_SCHEME);}return t},bvt=function(n,t){return yat(ovt(pvt(btt(n),t)))},kvt=function(n){return wvt(btt(n))},dvt=function(n){return n>>>0},nc={toUnsigned:dvt},gvt=nc.toUnsigned,ktt=Object.freeze({"default":nc,__moduleExports:nc,toUnsigned:gvt}),nyt=ktt&&nc||ktt,hf=nyt.toUnsigned,gt,tc,dtt,gtt,nit;gt=function(n,t){var r=[],i,f,o,u,e;if(!t.length)return null;for(i=0;i<n.byteLength;)f=hf(n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),o=tc(n.subarray(i+4,i+8)),u=f>1?i+f:n.byteLength,o===t[0]&&(t.length===1?r.push(n.subarray(i+8,u)):(e=gt(n.subarray(i+8,u),t.slice(1)),e.length&&(r=r.concat(e)))),i=u;return r};tc=function(n){var t="";return t+=String.fromCharCode(n[0]),t+=String.fromCharCode(n[1]),t+=String.fromCharCode(n[2]),t+String.fromCharCode(n[3])};dtt=function(n){var t=gt(n,["moov","trak"]);return t.reduce(function(n,t){var r,f,i,e,u;return(r=gt(t,["tkhd"])[0],!r)?null:(f=r[0],i=f===0?12:20,e=hf(r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),u=gt(t,["mdia","mdhd"])[0],!u)?null:(f=u[0],i=f===0?12:20,n[e]=hf(u[i]<<24|u[i+1]<<16|u[i+2]<<8|u[i+3]),n)},{})};gtt=function(n,t){var r,u,i;return r=gt(t,["moof","traf"]),u=[].concat.apply([],r.map(function(t){return gt(t,["tfhd"]).map(function(i){var u,f,r;return u=hf(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),f=n[u]||9e4,r=gt(t,["tfdt"]).map(function(n){var i,t;return i=n[0],t=hf(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i===1&&(t*=Math.pow(2,32),t+=hf(n[8]<<24|n[9]<<16|n[10]<<8|n[11])),t})[0],r=r||Infinity,r/f})})),i=Math.min.apply(null,u),isFinite(i)?i:0};nit=function(n){var i=gt(n,["moov","trak"]),t=[];return i.forEach(function(n){var i=gt(n,["mdia","hdlr"]),r=gt(n,["tkhd"]);i.forEach(function(n,i){var s=tc(n.subarray(8,12)),f=r[i],u,e,o;s==="vide"&&(u=new DataView(f.buffer,f.byteOffset,f.byteLength),e=u.getUint8(0),o=e===0?u.getUint32(12):u.getUint32(20),t.push(o))})}),t};ni={findBox:gt,parseType:tc,timescale:dtt,startTime:gtt,videoTrackIds:nit};yy=Math.pow(2,32)-1,function(){var n;if(h={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(n in h)h.hasOwnProperty(n)&&(h[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);ky=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);git=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);dit=new Uint8Array([0,0,0,1]);nrt=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);trt=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);irt={video:nrt,audio:trt};frt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);urt=new Uint8Array([0,0,0,0,0,0,0,0]);ic=new Uint8Array([0,0,0,0,0,0,0,0]);ert=ic;ort=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);srt=ic;rrt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}();c=function(n){for(var r=[],u=0,i,f,t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)u+=r[t].byteLength;for(i=new Uint8Array(u+8),f=new DataView(i.buffer,i.byteOffset,i.byteLength),f.setUint32(0,i.byteLength),i.set(n,4),t=0,u=8;t<r.length;t++)i.set(r[t],u),u+=r[t].byteLength;return i};tit=function(){return c(h.dinf,c(h.dref,frt))};iit=function(n){return c(h.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,n.audioobjecttype<<3|n.samplingfrequencyindex>>>1,n.samplingfrequencyindex<<7|n.channelcount<<3,6,1,2]))};py=function(){return c(h.ftyp,ky,dit,ky,git)};vit=function(n){return c(h.hdlr,irt[n])};rit=function(n){return c(h.mdat,n)};ait=function(n){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,n.duration>>>24&255,n.duration>>>16&255,n.duration>>>8&255,n.duration&255,85,196,0,0]);return n.samplerate&&(t[12]=n.samplerate>>>24&255,t[13]=n.samplerate>>>16&255,t[14]=n.samplerate>>>8&255,t[15]=n.samplerate&255),c(h.mdhd,t)};lit=function(n){return c(h.mdia,ait(n),vit(n.type),fit(n))};uit=function(n){return c(h.mfhd,new Uint8Array([0,0,0,0,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255]))};fit=function(n){return c(h.minf,n.type==="video"?c(h.vmhd,rrt):c(h.smhd,urt),tit(),pit(n))};eit=function(n,t){for(var r=[],i=t.length;i--;)r[i]=bit(t[i]);return c.apply(null,[h.moof,uit(n)].concat(r))};wy=function(n){for(var t=n.length,i=[];t--;)i[t]=hit(n[t]);return c.apply(null,[h.moov,sit(4294967295)].concat(i).concat(oit(n)))};oit=function(n){for(var t=n.length,i=[];t--;)i[t]=kit(n[t]);return c.apply(null,[h.mvex].concat(i))};sit=function(n){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return c(h.mvhd,t)};yit=function(n){for(var r=n.samples||[],u=new Uint8Array(4+r.length),i,t=0;t<r.length;t++)i=r[t].flags,u[t+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return c(h.sdtp,u)};pit=function(n){return c(h.stbl,wit(n),c(h.stts,srt),c(h.stsc,ert),c(h.stsz,ort),c(h.stco,ic))},function(){var n,t;wit=function(i){return c(h.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),i.type==="video"?n(i):t(i))};n=function(n){for(var i=n.sps||[],r=n.pps||[],u=[],f=[],t=0;t<i.length;t++)u.push((i[t].byteLength&65280)>>>8),u.push(i[t].byteLength&255),u=u.concat(Array.prototype.slice.call(i[t]));for(t=0;t<r.length;t++)f.push((r[t].byteLength&65280)>>>8),f.push(r[t].byteLength&255),f=f.concat(Array.prototype.slice.call(r[t]));return c(h.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(n.width&65280)>>8,n.width&255,(n.height&65280)>>8,n.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c(h.avcC,new Uint8Array([1,n.profileIdc,n.profileCompatibility,n.levelIdc,255].concat([i.length]).concat(u).concat([r.length]).concat(f))),c(h.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};t=function(n){return c(h.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(n.channelcount&65280)>>8,n.channelcount&255,(n.samplesize&65280)>>8,n.samplesize&255,0,0,0,0,(n.samplerate&65280)>>8,n.samplerate&255,0,0]),iit(n))}}();cit=function(n){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,0,(n.duration&4278190080)>>24,(n.duration&16711680)>>16,(n.duration&65280)>>8,n.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(n.width&65280)>>8,n.width&255,0,0,(n.height&65280)>>8,n.height&255,0,0]);return c(h.tkhd,t)};bit=function(n){var u,f,r,e,o,t,i;return(u=c(h.tfhd,new Uint8Array([0,0,0,58,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),t=Math.floor(n.baseMediaDecodeTime/(yy+1)),i=Math.floor(n.baseMediaDecodeTime%(yy+1)),f=c(h.tfdt,new Uint8Array([1,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,t&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255])),o=92,n.type==="audio")?(r=by(n,o),c(h.traf,u,f,r)):(e=yit(n),r=by(n,e.length+o),c(h.traf,u,f,r,e))};hit=function(n){return n.duration=n.duration||4294967295,c(h.trak,cit(n),lit(n))};kit=function(n){var t=new Uint8Array([0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return n.type!=="video"&&(t[t.length-1]=0),c(h.trex,t)},function(){var t,i,n;n=function(n,t){var i=0,r=0,u=0,f=0;return n.length&&(n[0].duration!==undefined&&(i=1),n[0].size!==undefined&&(r=2),n[0].flags!==undefined&&(u=4),n[0].compositionTimeOffset!==undefined&&(f=8)),[0,0,i|r|u|f,1,(n.length&4278190080)>>>24,(n.length&16711680)>>>16,(n.length&65280)>>>8,n.length&255,(t&4278190080)>>>24,(t&16711680)>>>16,(t&65280)>>>8,t&255]};i=function(t,i){var f,u,r,e;for(u=t.samples||[],i+=20+16*u.length,f=n(u,i),e=0;e<u.length;e++)r=u[e],f=f.concat([(r.duration&4278190080)>>>24,(r.duration&16711680)>>>16,(r.duration&65280)>>>8,r.duration&255,(r.size&4278190080)>>>24,(r.size&16711680)>>>16,(r.size&65280)>>>8,r.size&255,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,r.flags.degradationPriority&61440,r.flags.degradationPriority&15,(r.compositionTimeOffset&4278190080)>>>24,(r.compositionTimeOffset&16711680)>>>16,(r.compositionTimeOffset&65280)>>>8,r.compositionTimeOffset&255]);return c(h.trun,new Uint8Array(f))};t=function(t,i){var f,u,r,e;for(u=t.samples||[],i+=20+8*u.length,f=n(u,i),e=0;e<u.length;e++)r=u[e],f=f.concat([(r.duration&4278190080)>>>24,(r.duration&16711680)>>>16,(r.duration&65280)>>>8,r.duration&255,(r.size&4278190080)>>>24,(r.size&16711680)>>>16,(r.size&65280)>>>8,r.size&255]);return c(h.trun,new Uint8Array(f))};by=function(n,r){return n.type==="audio"?t(n,r):i(n,r)}}();var or={ftyp:py,mdat:rit,moof:eit,moov:wy,initSegment:function(n){var i=py(),r=wy(n),t;return t=new Uint8Array(i.byteLength+r.byteLength),t.set(i),t.set(r,i.byteLength),t}},tyt=or.ftyp,iyt=or.mdat,ryt=or.moof,uyt=or.moov,fyt=or.initSegment,hrt=Object.freeze({"default":or,__moduleExports:or,ftyp:tyt,mdat:iyt,moof:ryt,moov:uyt,initSegment:fyt}),rc=function(){this.init=function(){var n={};this.on=function(t,i){n[t]||(n[t]=[]);n[t]=n[t].concat(i)};this.off=function(t,i){var r;return n[t]?(r=n[t].indexOf(i),n[t]=n[t].slice(),n[t].splice(r,1),r>-1):!1};this.trigger=function(t){var r,i,u,f;if(r=n[t],r)if(arguments.length===2)for(u=r.length,i=0;i<u;++i)r[i].call(this,arguments[1]);else{for(f=[],i=arguments.length,i=1;i<arguments.length;++i)f.push(arguments[i]);for(u=r.length,i=0;i<u;++i)r[i].apply(this,f)}};this.dispose=function(){n={}}}};rc.prototype.pipe=function(n){this.on("data",function(t){n.push(t)});this.on("done",function(t){n.flush(t)});return n};rc.prototype.push=function(n){this.trigger("data",n)};rc.prototype.flush=function(n){this.trigger("done",n)};var dy=rc,crt=Object.freeze({"default":dy,__moduleExports:dy}),eyt=function(n){var u,i,t=[],r=[];for(t.byteLength=0,u=0;u<n.length;u++)i=n[u],i.nalUnitType==="access_unit_delimiter_rbsp"?(t.length&&(t.duration=i.dts-t.dts,r.push(t)),t=[i],t.byteLength=i.data.byteLength,t.pts=i.pts,t.dts=i.dts):(i.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(t.keyFrame=!0),t.duration=i.dts-t.dts,t.byteLength+=i.data.byteLength,t.push(i));return r.length&&(!t.duration||t.duration<=0)&&(t.duration=r[r.length-1].duration),r.push(t),r},oyt=function(n){var u,r,t=[],i=[];for(t.byteLength=0,t.nalCount=0,t.duration=0,t.pts=n[0].pts,t.dts=n[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=n[0].pts,i.dts=n[0].dts,u=0;u<n.length;u++)r=n[u],r.keyFrame?(t.length&&(i.push(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration),t=[r],t.nalCount=r.length,t.byteLength=r.byteLength,t.pts=r.pts,t.dts=r.dts,t.duration=r.duration):(t.duration+=r.duration,t.nalCount+=r.length,t.byteLength+=r.byteLength,t.push(r));return i.length&&t.duration<=0&&(t.duration=i[i.length-1].duration),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration,i.push(t),i},syt=function(n){var t;return!n[0][0].keyFrame&&n.length>1&&(t=n.shift(),n.byteLength-=t.byteLength,n.nalCount-=t.nalCount,n[0][0].dts=t.dts,n[0][0].pts=t.pts,n[0][0].duration+=t.duration),n},hyt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},cyt=function(n,t){var i=hyt();return i.dataOffset=t,i.compositionTimeOffset=n.pts-n.dts,i.duration=n.duration,i.size=4*n.length,i.size+=n.byteLength,n.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},lyt=function(n,t){for(var r,u,f,e,o=t||0,s=[],i=0;i<n.length;i++)for(f=n[i],r=0;r<f.length;r++)e=f[r],u=cyt(e,o),o+=u.size,s.push(u);return s},ayt=function(n){for(var i,r,e,o,u,f=0,h=n.byteLength,c=n.nalCount,l=h+4*c,s=new Uint8Array(l),a=new DataView(s.buffer),t=0;t<n.length;t++)for(e=n[t],i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)u=o[r],a.setUint32(f,u.data.byteLength),f+=4,s.set(u.data,f),f+=u.data.byteLength;return s},sr={groupNalsIntoFrames:eyt,groupFramesIntoGops:oyt,extendFirstKeyFrame:syt,generateSampleTable:lyt,concatenateNalData:ayt},vyt=sr.groupNalsIntoFrames,yyt=sr.groupFramesIntoGops,pyt=sr.extendFirstKeyFrame,wyt=sr.generateSampleTable,byt=sr.concatenateNalData,lrt=Object.freeze({"default":sr,__moduleExports:sr,groupNalsIntoFrames:vyt,groupFramesIntoGops:yyt,extendFirstKeyFrame:pyt,generateSampleTable:wyt,concatenateNalData:byt}),kyt=9e4,dyt=function(n,t){typeof t.pts=="number"&&(n.timelineStartInfo.pts===undefined&&(n.timelineStartInfo.pts=t.pts),n.minSegmentPts=n.minSegmentPts===undefined?t.pts:Math.min(n.minSegmentPts,t.pts),n.maxSegmentPts=n.maxSegmentPts===undefined?t.pts:Math.max(n.maxSegmentPts,t.pts));typeof t.dts=="number"&&(n.timelineStartInfo.dts===undefined&&(n.timelineStartInfo.dts=t.dts),n.minSegmentDts=n.minSegmentDts===undefined?t.dts:Math.min(n.minSegmentDts,t.dts),n.maxSegmentDts=n.maxSegmentDts===undefined?t.dts:Math.max(n.maxSegmentDts,t.dts))},gyt=function(n){delete n.minSegmentDts;delete n.maxSegmentDts;delete n.minSegmentPts;delete n.maxSegmentPts},npt=function(n,t){var i,r,u=n.minSegmentDts;return t||(u-=n.timelineStartInfo.dts),i=n.timelineStartInfo.baseMediaDecodeTime,i+=u,i=Math.max(0,i),n.type==="audio"&&(r=n.samplerate/kyt,i*=r,i=Math.floor(i)),i},cf={clearDtsInfo:gyt,calculateTrackBaseMediaDecodeTime:npt,collectDtsInfo:dyt},tpt=cf.clearDtsInfo,ipt=cf.calculateTrackBaseMediaDecodeTime,rpt=cf.collectDtsInfo,art=Object.freeze({"default":cf,__moduleExports:cf,clearDtsInfo:tpt,calculateTrackBaseMediaDecodeTime:ipt,collectDtsInfo:rpt}),vrt=4,upt=128,fpt=function(n){for(var t=0,r={payloadType:-1,payloadSize:0},u=0,i=0;t<n.byteLength;){if(n[t]===upt)break;while(n[t]===255)u+=255,t++;for(u+=n[t++];n[t]===255;)i+=255,t++;if(i+=n[t++],!r.payload&&u===vrt){r.payloadType=u;r.payloadSize=i;r.payload=n.subarray(t,t+i);break}t+=i;u=0;i=0}return r},ept=function(n){return n.payload[0]!==181?null:(n.payload[1]<<8|n.payload[2])!=49?null:String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])!=="GA94"?null:n.payload[7]!==3?null:n.payload.subarray(8,n.payload.length-1)},opt=function(n,t){var u=[],r,e,i,f;if(!(t[0]&64))return u;for(e=t[0]&31,r=0;r<e;r++)i=r*3,f={type:t[i+2]&3,pts:n},t[i+2]&4&&(f.ccData=t[i+3]<<8|t[i+4],u.push(f));return u},spt=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f},hr={parseSei:fpt,parseUserData:ept,parseCaptionPackets:opt,discardEmulationPreventionBytes:spt,USER_DATA_REGISTERED_ITU_T_T35:vrt},hpt=hr.parseSei,cpt=hr.parseUserData,lpt=hr.parseCaptionPackets,apt=hr.discardEmulationPreventionBytes,vpt=hr.USER_DATA_REGISTERED_ITU_T_T35,yrt=Object.freeze({"default":hr,__moduleExports:hr,parseSei:hpt,parseUserData:cpt,parseCaptionPackets:lpt,discardEmulationPreventionBytes:apt,USER_DATA_REGISTERED_ITU_T_T35:vpt}),st=crt&&dy||crt,eo=yrt&&hr||yrt,ki=function ki(){ki.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new w(0,0),new w(0,1),new w(1,0),new w(1,1)];this.reset();this.ccStreams_.forEach(function(n){n.on("data",this.trigger.bind(this,"data"));n.on("done",this.trigger.bind(this,"done"))},this)};ki.prototype=new st;ki.prototype.push=function(n){var t,i,r;if(n.nalUnitType==="sei_rbsp"&&(t=eo.parseSei(n.escapedRBSP),t.payloadType===eo.USER_DATA_REGISTERED_ITU_T_T35)&&(i=eo.parseUserData(t),i)){if(n.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--;this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}r=eo.parseCaptionPackets(n.pts,i);this.captionPackets_=this.captionPackets_.concat(r);this.latestDts_!==n.dts&&(this.numSameDts_=0);this.numSameDts_++;this.latestDts_=n.dts}};ki.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(n){n.flush()},this);return}this.captionPackets_.forEach(function(n,t){n.presortIndex=t});this.captionPackets_.sort(function(n,t){return n.pts===t.pts?n.presortIndex-t.presortIndex:n.pts-t.pts});this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(n){n.flush()},this);return};ki.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(n){n.reset()})};ki.prototype.dispatchCea608Packet=function(n){(this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1),this.activeCea608Channel_[n.type]!==null)&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)};ki.prototype.setsChannel1Active=function(n){return(n.ccData&30720)==4096};ki.prototype.setsChannel2Active=function(n){return(n.ccData&30720)==6144};var ypt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},uc=function(n){return n===null?"":(n=ypt[n]||n,String.fromCharCode(n))},fc=14,ppt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],fu=function(){for(var n=[],t=fc+1;t--;)n.push("");return n},w=function w(n,t){w.prototype.init.call(this);this.field_=n||0;this.dataChannel_=t||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(n){var t,e,r,i,u,f;if(t=n.ccData&32639,t===this.lastControlCode_){this.lastControlCode_=null;return}((t&61440)==4096?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=t&255,t!==this.PADDING_)&&(t===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":t===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),e=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=e,this.startPts_=n.pts):t===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(n.pts)):t===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(n.pts)):t===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(n.pts)):t===this.CARRIAGE_RETURN_?(this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts):t===this.BACKSPACE_?this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):t===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(n.pts),this.displayed_=fu()):t===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=fu():t===this.RESUME_DIRECT_CAPTIONING_?(this.mode_!=="paintOn"&&(this.flushDisplayed(n.pts),this.displayed_=fu()),this.mode_="paintOn",this.startPts_=n.pts):this.isSpecialCharacter(r,i)?(r=(r&3)<<8,u=uc(r|i),this[this.mode_](n.pts,u),this.column_++):this.isExtCharacter(r,i)?(this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(r&3)<<8,u=uc(r|i),this[this.mode_](n.pts,u),this.column_++):this.isMidRowCode(r,i)?(this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,(i&14)==14&&this.addFormatting(n.pts,["i"]),(i&1)==1&&this.addFormatting(n.pts,["u"])):this.isOffsetControlCode(r,i)?this.column_+=i&3:this.isPAC(r,i)?(f=ppt.indexOf(t&7968),this.mode_==="rollUp"&&this.setRollUp(n.pts,f),f!==this.row_&&(this.clearFormatting(n.pts),this.row_=f),i&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(n.pts,["u"]),(t&16)==16&&(this.column_=((t&14)>>1)*4),this.isColorPAC(i)&&(i&14)==14&&this.addFormatting(n.pts,["i"])):this.isNormalChar(r)&&(i===0&&(i=null),u=uc(r),u+=uc(i),this[this.mode_](n.pts,u),this.column_+=u.length))}};w.prototype=new st;w.prototype.flushDisplayed=function(n){var t=this.displayed_.map(function(n){return n.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:t,stream:this.name_})};w.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=fu();this.nonDisplayed_=fu();this.lastControlCode_=null;this.column_=0;this.row_=fc;this.rollUpRows_=2;this.formatting_=[]};w.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};w.prototype.isSpecialCharacter=function(n,t){return n===this.EXT_&&t>=48&&t<=63};w.prototype.isExtCharacter=function(n,t){return(n===this.EXT_+1||n===this.EXT_+2)&&t>=32&&t<=63};w.prototype.isMidRowCode=function(n,t){return n===this.EXT_&&t>=32&&t<=47};w.prototype.isOffsetControlCode=function(n,t){return n===this.OFFSET_&&t>=33&&t<=35};w.prototype.isPAC=function(n,t){return n>=this.BASE_&&n<this.BASE_+8&&t>=64&&t<=127};w.prototype.isColorPAC=function(n){return n>=64&&n<=79||n>=96&&n<=127};w.prototype.isNormalChar=function(n){return n>=32&&n<=127};w.prototype.setRollUp=function(n,t){if(this.mode_!=="rollUp"&&(this.row_=fc,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=fu(),this.displayed_=fu()),t!==undefined&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";t===undefined&&(t=this.row_);this.topRow_=t-this.rollUpRows_+1};w.prototype.addFormatting=function(n,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(n,t){return n+"<"+t+">"},"");this[this.mode_](n,i)};w.prototype.clearFormatting=function(n){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(n,t){return n+"<\/"+t+">"},"");this.formatting_=[];this[this.mode_](n,t)}};w.prototype.popOn=function(n,t){var i=this.nonDisplayed_[this.row_];i+=t;this.nonDisplayed_[this.row_]=i};w.prototype.rollUp=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};w.prototype.shiftRowsUp_=function(){for(var n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<fc+1;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""};w.prototype.paintOn=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};var oo={CaptionStream:ki,Cea608Stream:w},wpt=oo.CaptionStream,bpt=oo.Cea608Stream,prt=Object.freeze({"default":oo,__moduleExports:oo,CaptionStream:wpt,Cea608Stream:bpt}),lf={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},kpt=lf.H264_STREAM_TYPE,dpt=lf.ADTS_STREAM_TYPE,gpt=lf.METADATA_STREAM_TYPE,wrt=Object.freeze({"default":lf,__moduleExports:lf,H264_STREAM_TYPE:kpt,ADTS_STREAM_TYPE:dpt,METADATA_STREAM_TYPE:gpt}),nwt=8589934592,twt=4294967296,gy=function(n,t){var i=1;for(n>t&&(i=-1);Math.abs(t-n)>twt;)n+=i*nwt;return n},np=function np(n){var i,t;np.prototype.init.call(this);this.type_=n;this.push=function(n){n.type===this.type_&&(t===undefined&&(t=n.dts),n.dts=gy(n.dts,t),n.pts=gy(n.pts,t),i=n.dts,this.trigger("data",n))};this.flush=function(){t=i;this.trigger("done")};this.discontinuity=function(){t=void 0;i=void 0}};np.prototype=new st;var so={TimestampRolloverStream:np,handleRollover:gy},iwt=so.TimestampRolloverStream,rwt=so.handleRollover,brt=Object.freeze({"default":so,__moduleExports:so,TimestampRolloverStream:iwt,handleRollover:rwt}),it=wrt&&lf||wrt,krt=function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u},ec=function(n,t,i){return decodeURIComponent(krt(n,t,i))},uwt=function(n,t,i){return unescape(krt(n,t,i))},oc=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},drt={TXXX:function(n){var t;if(n.data[0]===3){for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=ec(n.data,1,t);n.value=ec(n.data,t+1,n.data.length).replace(/\0*$/,"");break}n.data=n.value}},WXXX:function(n){var t;if(n.data[0]===3)for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=ec(n.data,1,t);n.url=ec(n.data,t+1,n.data.length);break}},PRIV:function(n){for(var t=0;t<n.data.length;t++)if(n.data[t]===0){n.owner=uwt(n.data,0,t);break}n.privateData=n.data.subarray(t+1);n.data=n.privateData}},sc;sc=function(n){var r={debug:!!(n&&n.debug),descriptor:n&&n.descriptor},i=0,t=[],u=0,f;if(sc.prototype.init.call(this),this.dispatchType=it.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(f=0;f<r.descriptor.length;f++)this.dispatchType+=("00"+r.descriptor[f].toString(16)).slice(-2);this.push=function(n){var f,e,c,o,h,a,s,l;if(n.type==="timed-metadata"){if(n.dataAlignmentIndicator&&(u=0,t.length=0),t.length===0&&(n.data.length<10||n.data[0]!=="I".charCodeAt(0)||n.data[1]!=="D".charCodeAt(0)||n.data[2]!=="3".charCodeAt(0))){r.debug&&console.log("Skipping unrecognized metadata packet");return}if(t.push(n),u+=n.data.byteLength,t.length===1&&(i=oc(n.data.subarray(6,10))+10),!(u<i)){for(f={data:new Uint8Array(i),frames:[],pts:t[0].pts,dts:t[0].dts},h=0;h<i;)f.data.set(t[0].data.subarray(0,i-h),h),h+=t[0].data.byteLength,u-=t[0].data.byteLength,t.shift();e=10;f.data[5]&64&&(e+=4,e+=oc(f.data.subarray(10,14)),i-=oc(f.data.subarray(16,20)));do{if(c=oc(f.data.subarray(e+4,e+8)),c<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");a=String.fromCharCode(f.data[e],f.data[e+1],f.data[e+2],f.data[e+3]);o={id:a,data:f.data.subarray(e+10,e+c+10)};o.key=o.id;drt[o.id]&&(drt[o.id](o),o.owner==="com.apple.streaming.transportStreamTimestamp"&&(s=o.data,l=(s[3]&1)<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,l*=4,l+=s[7]&3,o.timeStamp=l,f.pts===undefined&&f.dts===undefined&&(f.pts=o.timeStamp,f.dts=o.timeStamp),this.trigger("timestamp",o)));f.frames.push(o);e+=10;e+=c}while(e<i);this.trigger("data",f)}}}};sc.prototype=new st;var tp=sc,grt=Object.freeze({"default":tp,__moduleExports:tp}),ip=prt&&oo||prt,nut=brt&&so||brt,fwt=grt&&tp||grt,ewt=nut.TimestampRolloverStream,hc,ho,cc,af=188,rp=71;hc=function(){var t=new Uint8Array(af),n=0;hc.prototype.init.call(this);this.push=function(i){var u=0,f=af,r;for(n?(r=new Uint8Array(i.byteLength+n),r.set(t.subarray(0,n)),r.set(i,n),n=0):r=i;f<r.byteLength;){if(r[u]===rp&&r[f]===rp){this.trigger("data",r.subarray(u,f));u+=af;f+=af;continue}u++;f++}u<r.byteLength&&(t.set(r.subarray(u),0),n=r.byteLength-u)};this.flush=function(){n===af&&t[0]===rp&&(this.trigger("data",t),n=0);this.trigger("done")}};hc.prototype=new st;ho=function(){var t,i,r,n;ho.prototype.init.call(this);n=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;t=function(n,t){var u=0;t.payloadUnitStartIndicator&&(u+=n[u]+1);t.type==="pat"?i(n.subarray(u),t):r(n.subarray(u),t)};i=function(t,i){i.section_number=t[7];i.last_section_number=t[8];n.pmtPid=(t[10]&31)<<8|t[11];i.pmtPid=n.pmtPid};r=function(t,i){var e,o,s,r,u,f;if(t[5]&1){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},e=(t[1]&15)<<8|t[2],o=3+e-4,s=(t[10]&15)<<8|t[11],r=12+s;r<o;)u=t[r],f=(t[r+1]&31)<<8|t[r+2],u===it.H264_STREAM_TYPE&&n.programMapTable.video===null?n.programMapTable.video=f:u===it.ADTS_STREAM_TYPE&&n.programMapTable.audio===null?n.programMapTable.audio=f:u===it.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][f]=u),r+=((t[r+3]&15)<<8|t[r+4])+5;i.programMapTable=n.programMapTable}};this.push=function(n){var i={},r=4;if(i.payloadUnitStartIndicator=!!(n[1]&64),i.pid=n[1]&31,i.pid<<=8,i.pid|=n[2],(n[3]&48)>>>4>1&&(r+=n[r]+1),i.pid===0)i.type="pat",t(n.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(n.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===undefined?this.packetsWaitingForPmt.push([n,r,i]):this.processPes_(n,r,i)};this.processPes_=function(n,t,i){i.streamType=i.pid===this.programMapTable.video?it.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?it.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][i.pid];i.type="pes";i.data=n.subarray(t);this.trigger("data",i)}};ho.prototype=new st;ho.STREAM_TYPES={h264:27,adts:15};cc=function(){var t=this,i={data:[],size:0},r={data:[],size:0},u={data:[],size:0},f=function(n,t){var i;t.packetLength=6+(n[4]<<8|n[5]);t.dataAlignmentIndicator=(n[6]&4)!=0;i=n[7];i&192&&(t.pts=(n[9]&14)<<27|(n[10]&255)<<20|(n[11]&254)<<12|(n[12]&255)<<5|(n[13]&254)>>>3,t.pts*=4,t.pts+=(n[13]&6)>>>1,t.dts=t.pts,i&64&&(t.dts=(n[14]&14)<<27|(n[15]&255)<<20|(n[16]&254)<<12|(n[17]&255)<<5|(n[18]&254)>>>3,t.dts*=4,t.dts+=(n[18]&6)>>>1));t.data=n.subarray(9+n[8])},n=function(n,i,r){var h=new Uint8Array(n.size),u={type:i},e=0,c=0,o=!1,s;if(n.data.length&&!(n.size<9)){for(u.trackId=n.data[0].pid,e=0;e<n.data.length;e++)s=n.data[e],h.set(s.data,c),c+=s.data.byteLength;f(h,u);o=i==="video"||u.packetLength<=n.size;(r||o)&&(n.size=0,n.data.length=0);o&&t.trigger("data",u)}};cc.prototype.init.call(this);this.push=function(f){({pat:function(){},pes:function(){var t,e;switch(f.streamType){case it.H264_STREAM_TYPE:case it.H264_STREAM_TYPE:t=i;e="video";break;case it.ADTS_STREAM_TYPE:t=r;e="audio";break;case it.METADATA_STREAM_TYPE:t=u;e="timed-metadata";break;default:return}f.payloadUnitStartIndicator&&n(t,e,!0);t.data.push(f);t.size+=f.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]},n=f.programMapTable;n.video!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"});n.audio!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"});t.trigger("data",i)}})[f.type]()};this.flush=function(){n(i,"video");n(r,"audio");n(u,"timed-metadata");this.trigger("done")}};cc.prototype=new st;up={PAT_PID:0,MP2T_PACKET_LENGTH:af,TransportPacketStream:hc,TransportParseStream:ho,ElementaryStream:cc,TimestampRolloverStream:ewt,CaptionStream:ip.CaptionStream,Cea608Stream:ip.Cea608Stream,MetadataStream:fwt};for(lc in it)it.hasOwnProperty(lc)&&(up[lc]=it[lc]);var fp=up,tut=Object.freeze({"default":fp,__moduleExports:fp}),ac,iut=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ac=function(){var n;ac.prototype.init.call(this);this.push=function(t){var i=0,f=0,s,h,r,u,e,o;if(t.type==="audio")for(n?(u=n,n=new Uint8Array(u.byteLength+t.data.byteLength),n.set(u),n.set(t.data,u.byteLength)):n=t.data;i+5<n.length;){if(n[i]!==255||(n[i+1]&246)!=240){i++;continue}if(h=(~n[i+1]&1)*2,s=(n[i+3]&3)<<11|n[i+4]<<3|(n[i+5]&224)>>5,e=((n[i+6]&3)+1)*1024,o=e*9e4/iut[(n[i+2]&60)>>>2],r=i+s,n.byteLength<r)return;if(this.trigger("data",{pts:t.pts+f*o,dts:t.dts+f*o,sampleCount:e,audioobjecttype:(n[i+2]>>>6&3)+1,channelcount:(n[i+2]&1)<<2|(n[i+3]&192)>>>6,samplerate:iut[(n[i+2]&60)>>>2],samplingfrequencyindex:(n[i+2]&60)>>>2,samplesize:16,data:n.subarray(i+7+h,r)}),n.byteLength===r){n=undefined;return}f++;n=n.subarray(r)}};this.flush=function(){this.trigger("done")}};ac.prototype=new st;vc=ac;ep=Object.freeze({"default":vc,__moduleExports:vc});rut=function(n){var i=n.byteLength,r=0,t=0;this.length=function(){return 8*i};this.bitsAvailable=function(){return 8*i+t};this.loadWord=function(){var f=n.byteLength-i,e=new Uint8Array(4),u=Math.min(4,i);if(u===0)throw new Error("no bytes available");e.set(n.subarray(f,f+u));r=new DataView(e.buffer).getUint32(0);t=u*8;i-=u};this.skipBits=function(n){var u;t>n?(r<<=n,t-=n):(n-=t,u=Math.floor(n/8),n-=u*8,i-=u,this.loadWord(),r<<=n,t-=n)};this.readBits=function(n){var u=Math.min(t,n),f=r>>>32-u;return(t-=u,t>0?r<<=u:i>0&&this.loadWord(),u=n-u,u>0)?f<<u|this.readBits(u):f};this.skipLeadingZeros=function(){for(var n=0;n<t;++n)if((r&2147483648>>>n)!=0)return r<<=n,t-=n,n;return this.loadWord(),n+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var n=this.skipLeadingZeros();return this.readBits(n+1)-1};this.readExpGolomb=function(){var n=this.readUnsignedExpGolomb();return 1&n?1+n>>>1:-1*(n>>>1)};this.readBoolean=function(){return this.readBits(1)===1};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};var op=rut,uut=Object.freeze({"default":op,__moduleExports:op}),owt=uut&&op||uut,yc,co,fut;co=function(){var i=0,t,n;co.prototype.init.call(this);this.push=function(r){var u;for(n?(u=new Uint8Array(n.byteLength+r.data.byteLength),u.set(n),u.set(r.data,n.byteLength),n=u):n=r.data;i<n.byteLength-3;i++)if(n[i+2]===1){t=i+5;break}while(t<n.byteLength)switch(n[t]){case 0:if(n[t-1]!==0){t+=2;break}else if(n[t-2]!==0){t++;break}i+3!==t-2&&this.trigger("data",n.subarray(i+3,t-2));do t++;while(n[t]!==1&&t<n.length);i=t-2;t+=3;break;case 1:if(n[t-1]!==0||n[t-2]!==0){t+=3;break}this.trigger("data",n.subarray(i+3,t-2));i=t-2;t+=3;break;default:t+=3}n=n.subarray(i);t-=i;i=0};this.flush=function(){n&&n.byteLength>3&&this.trigger("data",n.subarray(i+3));n=null;i=0;this.trigger("done")}};co.prototype=new st;fut={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};yc=function(){var n=new co,t,u,f,e,i,o,r;yc.prototype.init.call(this);t=this;this.push=function(t){t.type==="video"&&(u=t.trackId,f=t.pts,e=t.dts,n.push(t))};n.on("data",function(n){var r={trackId:u,pts:f,dts:e,data:n};switch(n[0]&31){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp";r.escapedRBSP=i(n.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp";r.escapedRBSP=i(n.subarray(1));r.config=o(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)});n.on("done",function(){t.trigger("done")});this.flush=function(){n.flush()};r=function(n,t){for(var r=8,i=8,f,u=0;u<n;u++)i!==0&&(f=t.readExpGolomb(),i=(r+f+256)%256),r=i===0?r:i};i=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f};o=function(n){var h=0,c=0,l=0,a=0,v=1,t,f,y,p,e,o,w,b,k,s,d,i,g,u;if(t=new owt(n),f=t.readUnsignedByte(),p=t.readUnsignedByte(),y=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),fut[f]&&(e=t.readUnsignedExpGolomb(),e===3&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=e!==3?8:12,u=0;u<d;u++)t.readBoolean()&&(u<6?r(16,t):r(64,t));if(t.skipUnsignedExpGolomb(),o=t.readUnsignedExpGolomb(),o===0)t.readUnsignedExpGolomb();else if(o===1)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),w=t.readUnsignedExpGolomb(),u=0;u<w;u++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),b=t.readUnsignedExpGolomb(),k=t.readUnsignedExpGolomb(),s=t.readBits(1),s===0&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),a=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){g=t.readUnsignedByte();switch(g){case 1:i=[1,1];break;case 2:i=[12,11];break;case 3:i=[10,11];break;case 4:i=[16,11];break;case 5:i=[40,33];break;case 6:i=[24,11];break;case 7:i=[20,11];break;case 8:i=[32,11];break;case 9:i=[80,33];break;case 10:i=[18,11];break;case 11:i=[15,11];break;case 12:i=[64,33];break;case 13:i=[160,99];break;case 14:i=[4,3];break;case 15:i=[3,2];break;case 16:i=[2,1];break;case 255:i=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}i&&(v=i[0]/i[1])}return{profileIdc:f,levelIdc:y,profileCompatibility:p,width:Math.ceil(((b+1)*16-h*2-c*2)*v),height:(2-s)*(k+1)*16-l*2-a*2}}};yc.prototype=new st;var lo={H264Stream:yc,NalByteStream:co},swt=lo.H264Stream,hwt=lo.NalByteStream,eut=Object.freeze({"default":lo,__moduleExports:lo,H264Stream:swt,NalByteStream:hwt}),pc;pc=function(){var n=new Uint8Array,t=0;pc.prototype.init.call(this);this.setTimestamp=function(n){t=n};this.parseId3TagSize=function(n,t){var i=n[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9],r=n[t+5],u=(r&16)>>4;return u?i+20:i+10};this.parseAdtsSize=function(n,t){var i=(n[t+5]&224)>>5,r=n[t+4]<<3,u=n[t+3]&6144;return u|r|i};this.push=function(i){var u=0,r=0,e,o,s,f;for(n.length?(f=n.length,n=new Uint8Array(i.byteLength+f),n.set(n.subarray(0,f)),n.set(i,f)):n=i;n.length-r>=3;){if(n[r]==="I".charCodeAt(0)&&n[r+1]==="D".charCodeAt(0)&&n[r+2]==="3".charCodeAt(0)){if(n.length-r<10)break;if(u=this.parseId3TagSize(n,r),u>n.length)break;o={type:"timed-metadata",data:n.subarray(r,r+u)};this.trigger("data",o);r+=u;continue}else if(n[r]&!0&&(n[r+1]&240)==240){if(n.length-r<7)break;if(u=this.parseAdtsSize(n,r),u>n.length)break;s={type:"audio",data:n.subarray(r,r+u),pts:t,dts:t};this.trigger("data",s);r+=u;continue}r++}e=n.length-r;n=e>0?n.subarray(r):new Uint8Array}};pc.prototype=new st;var sp=pc,out=Object.freeze({"default":sp,__moduleExports:sp}),cr=[33,16,5,32,164,27],hp=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(n){for(var t=[];n--;)t.push(0);return t},cwt=function(n){return Object.keys(n).reduce(function(t,i){return t[i]=new Uint8Array(n[i].reduce(function(n,t){return n.concat(t)},[])),t},{})},lwt={96e3:[cr,[227,64],a(154),[56]],88200:[cr,[231],a(170),[56]],64e3:[cr,[248,192],a(240),[56]],48e3:[cr,[255,192],a(268),[55,148,128],a(54),[112]],44100:[cr,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[cr,[255,192],a(268),[55,234],a(226),[112]],24e3:[cr,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[cr,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[hp,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[hp,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[hp,a(268),[3,121,16],a(47),[7]]},cp=cwt(lwt),sut=Object.freeze({"default":cp,__moduleExports:cp}),hut=9e4,lp,ap,vp,yp,cut,lut;lp=function(n){return n*hut};ap=function(n,t){return n*t};vp=function(n){return n/hut};yp=function(n,t){return n/t};cut=function(n,t){return lp(yp(n,t))};lut=function(n,t){return ap(vp(n),t)};var di={secondsToVideoTs:lp,secondsToAudioTs:ap,videoTsToSeconds:vp,audioTsToSeconds:yp,audioTsToVideoTs:cut,videoTsToAudioTs:lut},awt=di.secondsToVideoTs,vwt=di.secondsToAudioTs,ywt=di.videoTsToSeconds,pwt=di.audioTsToSeconds,wwt=di.audioTsToVideoTs,bwt=di.videoTsToAudioTs,aut=Object.freeze({"default":di,__moduleExports:di,secondsToVideoTs:awt,secondsToAudioTs:vwt,videoTsToSeconds:ywt,audioTsToSeconds:pwt,audioTsToVideoTs:wwt,videoTsToAudioTs:bwt}),vf=hrt&&or||hrt,ao=lrt&&sr||lrt,ai=art&&cf||art,oi=tut&&fp||tut,vut=ep&&vc||ep,kwt=eut&&lo||eut,dwt=out&&sp||out,gwt=sut&&cp||sut,yut=aut&&di||aut,nbt=kwt.H264Stream,pp=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],wp=["width","height","profileIdc","levelIdc","profileCompatibility"],put=9e4,vo,yf,wc,pf,wut,bp,but;wut=function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?!0:!1};bp=function(n,t){var i;if(n.length!==t.length)return!1;for(i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0};but=function(n){for(var i,r=0,t=0;t<n.length;t++)i=n[t],r+=i.data.byteLength;return r};yf=function(n,t){var i=[],e=0,r=0,u=0,f=Infinity;t=t||{};yf.prototype.init.call(this);this.push=function(t){ai.collectDtsInfo(n,t);n&&pp.forEach(function(i){n[i]=t[i]});i.push(t)};this.setEarliestDts=function(t){r=t-n.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(n){f=n};this.setAudioAppendStart=function(n){u=n};this.flush=function(){var r,u,o,f;if(i.length===0){this.trigger("done","AudioSegmentStream");return}r=this.trimAdtsFramesByEarliestDts_(i);n.baseMediaDecodeTime=ai.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);this.prefixWithSilence_(n,r);n.samples=this.generateSampleTable_(r);o=vf.mdat(this.concatenateFrameData_(r));i=[];u=vf.moof(e,[n]);f=new Uint8Array(u.byteLength+o.byteLength);e++;f.set(u);f.set(o,u.byteLength);ai.clearDtsInfo(n);this.trigger("data",{track:n,boxes:f});this.trigger("done","AudioSegmentStream")};this.prefixWithSilence_=function(n,t){var h,o=0,c=0,i=0,s=0,r,e;if(t.length&&(h=yut.audioTsToVideoTs(n.baseMediaDecodeTime,n.samplerate),o=Math.ceil(put/(n.samplerate/1024)),u&&f&&(c=h-Math.max(u,f),i=Math.floor(c/o),s=i*o),!(i<1)&&!(s>put/2))){for(r=gwt[n.samplerate],r||(r=t[0].data),e=0;e<i;e++)t.splice(e,0,{data:r});n.baseMediaDecodeTime-=Math.floor(yut.videoTsToAudioTs(s,n.samplerate))}};this.trimAdtsFramesByEarliestDts_=function(t){return n.minSegmentDts>=r?t:(n.minSegmentDts=Infinity,t.filter(function(t){return t.dts>=r?(n.minSegmentDts=Math.min(n.minSegmentDts,t.dts),n.minSegmentPts=n.minSegmentDts,!0):!1}))};this.generateSampleTable_=function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r.push({size:i.data.byteLength,duration:1024});return r};this.concatenateFrameData_=function(n){for(var i,r=0,u=new Uint8Array(but(n)),t=0;t<n.length;t++)i=n[t],u.set(i.data,r),r+=i.data.byteLength;return u}};yf.prototype=new st;vo=function(n,t){var e=0,i=[],r=[],u,f;t=t||{};vo.prototype.init.call(this);delete n.minPTS;this.gopCache_=[];this.push=function(t){ai.collectDtsInfo(n,t);t.nalUnitType!=="seq_parameter_set_rbsp"||u||(u=t.config,n.sps=[t.data],wp.forEach(function(t){n[t]=u[t]},this));t.nalUnitType!=="pic_parameter_set_rbsp"||f||(f=t.data,n.pps=[t.data]);i.push(t)};this.flush=function(){for(var l,f,u,o,h,s,c;i.length;){if(i[0].nalUnitType==="access_unit_delimiter_rbsp")break;i.shift()}if(i.length===0){this.resetStream_();this.trigger("done","VideoSegmentStream");return}if(l=ao.groupNalsIntoFrames(i),u=ao.groupFramesIntoGops(l),u[0][0].keyFrame||(f=this.getGopForFusion_(i[0],n),f?(u.unshift(f),u.byteLength+=f.byteLength,u.nalCount+=f.nalCount,u.pts=f.pts,u.dts=f.dts,u.duration+=f.duration):u=ao.extendFirstKeyFrame(u)),r.length){if(c=t.alignGopsAtEnd?this.alignGopsAtEnd_(u):this.alignGopsAtStart_(u),!c){this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}ai.clearDtsInfo(n);u=c}ai.collectDtsInfo(n,u);n.samples=ao.generateSampleTable(u);h=vf.mdat(ao.concatenateNalData(u));n.baseMediaDecodeTime=ai.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);this.trigger("processedGopsInfo",u.map(function(n){return{pts:n.pts,dts:n.dts,byteLength:n.byteLength}}));this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.trigger("baseMediaDecodeTime",n.baseMediaDecodeTime);this.trigger("timelineStartInfo",n.timelineStartInfo);o=vf.moof(e,[n]);s=new Uint8Array(o.byteLength+h.byteLength);e++;s.set(o);s.set(h,o.byteLength);this.trigger("data",{track:n,boxes:s});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.resetStream_=function(){ai.clearDtsInfo(n);u=undefined;f=undefined};this.getGopForFusion_=function(t){for(var o=Infinity,i,u,f,r,e=0;e<this.gopCache_.length;e++)(r=this.gopCache_[e],f=r.gop,n.pps&&bp(n.pps[0],r.pps[0])&&n.sps&&bp(n.sps[0],r.sps[0]))&&(f.dts<n.timelineStartInfo.dts||(i=t.dts-f.dts-f.duration,i>=-1e4&&i<=45e3&&(!u||o>i)&&(u=r,o=i)));return u?u.gop:null};this.alignGopsAtStart_=function(n){var f,i,e,u,o,s,h,t;for(o=n.byteLength,s=n.nalCount,h=n.duration,f=i=0;f<r.length&&i<n.length;){if(e=r[f],u=n[i],e.pts===u.pts)break;if(u.pts>e.pts){f++;continue}i++;o-=u.byteLength;s-=u.nalCount;h-=u.duration}return i===0?n:i===n.length?null:(t=n.slice(i),t.byteLength=o,t.duration=h,t.nalCount=s,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsAtEnd_=function(n){var u,i,s,h,f,e,c,t,o;for(u=r.length-1,i=n.length-1,f=null,e=!1;u>=0&&i>=0;){if(s=r[u],h=n[i],s.pts===h.pts){e=!0;break}if(s.pts>h.pts){u--;continue}u===r.length-1&&(f=i);i--}return!e&&f===null?null:(c=e?i:f,c===0)?n:(t=n.slice(c),o=t.reduce(function(n,t){return n.byteLength+=t.byteLength,n.duration+=t.duration,n.nalCount+=t.nalCount,n},{byteLength:0,duration:0,nalCount:0}),t.byteLength=o.byteLength,t.duration=o.duration,t.nalCount=o.nalCount,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsWith=function(n){r=n}};vo.prototype=new st;pf=function(n,t){this.numberOfTracks=0;this.metadataStream=t;this.remuxTracks=typeof n.remux!="undefined"?!!n.remux:!0;this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;pf.prototype.init.call(this);this.push=function(n){if(n.text)return this.pendingCaptions.push(n);if(n.frames)return this.pendingMetadata.push(n);this.pendingTracks.push(n.track);this.pendingBoxes.push(n.boxes);this.pendingBytes+=n.boxes.byteLength;n.track.type==="video"&&(this.videoTrack=n.track);n.track.type==="audio"&&(this.audioTrack=n.track)}};pf.prototype=new st;pf.prototype.flush=function(n){var o=0,i={captions:[],captionStreams:{},metadata:[],info:{}},r,u,e,f=0,t;if(this.pendingTracks.length<this.numberOfTracks){if(n!=="VideoSegmentStream"&&n!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++;this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}for(this.videoTrack?(f=this.videoTrack.timelineStartInfo.pts,wp.forEach(function(n){i.info[n]=this.videoTrack[n]},this)):this.audioTrack&&(f=this.audioTrack.timelineStartInfo.pts,pp.forEach(function(n){i.info[n]=this.audioTrack[n]},this)),i.type=this.pendingTracks.length===1?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,e=vf.initSegment(this.pendingTracks),i.initSegment=new Uint8Array(e.byteLength),i.initSegment.set(e),i.data=new Uint8Array(this.pendingBytes),t=0;t<this.pendingBoxes.length;t++)i.data.set(this.pendingBoxes[t],o),o+=this.pendingBoxes[t].byteLength;for(t=0;t<this.pendingCaptions.length;t++)r=this.pendingCaptions[t],r.startTime=r.startPts-f,r.startTime/=9e4,r.endTime=r.endPts-f,r.endTime/=9e4,i.captionStreams[r.stream]=!0,i.captions.push(r);for(t=0;t<this.pendingMetadata.length;t++)u=this.pendingMetadata[t],u.cueTime=u.pts-f,u.cueTime/=9e4,i.metadata.push(u);i.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;this.trigger("data",i);this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};wc=function(n){var r=this,u=!0,i,t;wc.prototype.init.call(this);n=n||{};this.baseMediaDecodeTime=n.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i;i.type="aac";i.metadataStream=new oi.MetadataStream;i.aacStream=new dwt;i.audioTimestampRolloverStream=new oi.TimestampRolloverStream("audio");i.timedMetadataTimestampRolloverStream=new oi.TimestampRolloverStream("timed-metadata");i.adtsStream=new vut;i.coalesceStream=new pf(n,i.metadataStream);i.headOfPipeline=i.aacStream;i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream);i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream);i.metadataStream.on("timestamp",function(n){i.aacStream.setTimestamp(n.timeStamp)});i.aacStream.on("data",function(u){u.type!=="timed-metadata"||i.audioSegmentStream||(t=t||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new yf(t,n),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))});i.coalesceStream.on("data",this.trigger.bind(this,"data"));i.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var u={};this.transmuxPipeline_=u;u.type="ts";u.metadataStream=new oi.MetadataStream;u.packetStream=new oi.TransportPacketStream;u.parseStream=new oi.TransportParseStream;u.elementaryStream=new oi.ElementaryStream;u.videoTimestampRolloverStream=new oi.TimestampRolloverStream("video");u.audioTimestampRolloverStream=new oi.TimestampRolloverStream("audio");u.timedMetadataTimestampRolloverStream=new oi.TimestampRolloverStream("timed-metadata");u.adtsStream=new vut;u.h264Stream=new nbt;u.captionStream=new oi.CaptionStream;u.coalesceStream=new pf(n,u.metadataStream);u.headOfPipeline=u.packetStream;u.packetStream.pipe(u.parseStream).pipe(u.elementaryStream);u.elementaryStream.pipe(u.videoTimestampRolloverStream).pipe(u.h264Stream);u.elementaryStream.pipe(u.audioTimestampRolloverStream).pipe(u.adtsStream);u.elementaryStream.pipe(u.timedMetadataTimestampRolloverStream).pipe(u.metadataStream).pipe(u.coalesceStream);u.h264Stream.pipe(u.captionStream).pipe(u.coalesceStream);u.elementaryStream.on("data",function(f){var e;if(f.type==="metadata"){for(e=f.tracks.length;e--;)i||f.tracks[e].type!=="video"?t||f.tracks[e].type!=="audio"||(t=f.tracks[e],t.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(i=f.tracks[e],i.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime);if(i&&!u.videoSegmentStream){u.coalesceStream.numberOfTracks++;u.videoSegmentStream=new vo(i,n);u.videoSegmentStream.on("timelineStartInfo",function(n){t&&(t.timelineStartInfo=n,u.audioSegmentStream.setEarliestDts(n.dts))});u.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo"));u.videoSegmentStream.on("baseMediaDecodeTime",function(n){t&&u.audioSegmentStream.setVideoBaseMediaDecodeTime(n)});u.h264Stream.pipe(u.videoSegmentStream).pipe(u.coalesceStream)}t&&!u.audioSegmentStream&&(u.coalesceStream.numberOfTracks++,u.audioSegmentStream=new yf(t,n),u.adtsStream.pipe(u.audioSegmentStream).pipe(u.coalesceStream))}});u.coalesceStream.on("data",this.trigger.bind(this,"data"));u.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=n;t&&(t.timelineStartInfo.dts=undefined,t.timelineStartInfo.pts=undefined,ai.clearDtsInfo(t),t.timelineStartInfo.baseMediaDecodeTime=n,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity());i&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=undefined,i.timelineStartInfo.pts=undefined,ai.clearDtsInfo(i),r.captionStream.reset(),i.timelineStartInfo.baseMediaDecodeTime=n);r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()};this.setAudioAppendStart=function(n){t&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(n)};this.alignGopsWith=function(n){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(n)};this.push=function(n){if(u){var t=wut(n);t&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():t||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline();u=!1}this.transmuxPipeline_.headOfPipeline.push(n)};this.flush=function(){u=!0;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};wc.prototype=new st;var lr={Transmuxer:wc,VideoSegmentStream:vo,AudioSegmentStream:yf,AUDIO_PROPERTIES:pp,VIDEO_PROPERTIES:wp},tbt=lr.Transmuxer,ibt=lr.VideoSegmentStream,rbt=lr.AudioSegmentStream,ubt=lr.AUDIO_PROPERTIES,fbt=lr.VIDEO_PROPERTIES,kut=Object.freeze({"default":lr,__moduleExports:lr,Transmuxer:tbt,VideoSegmentStream:ibt,AudioSegmentStream:rbt,AUDIO_PROPERTIES:ubt,VIDEO_PROPERTIES:fbt}),ht,kp,bc=ni.parseType,ti=function(n){return new Date(n*1e3-20828448e5)},dut=function(n){return{isLeading:(n[0]&12)>>>2,dependsOn:n[0]&3,isDependedOn:(n[1]&192)>>>6,hasRedundancy:(n[1]&48)>>>4,paddingValue:(n[1]&14)>>>1,isNonSyncSample:n[1]&1,degradationPriority:n[2]<<8|n[3]}},ebt=function(n){for(var u=new DataView(n.buffer,n.byteOffset,n.byteLength),t=[],r,i=0;i+4<n.length;i+=r){if(r=u.getUint32(i),i+=4,r<=0){t.push("<span style='color:red;'>MALFORMED DATA<\/span>");continue}switch(n[i]&31){case 1:t.push("slice_layer_without_partitioning_rbsp");break;case 5:t.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:t.push("sei_rbsp");break;case 7:t.push("seq_parameter_set_rbsp");break;case 8:t.push("pic_parameter_set_rbsp");break;case 9:t.push("access_unit_delimiter_rbsp");break;default:t.push("UNKNOWN NAL - "+n[i]&31)}}return t},wf={avc1:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:ht(n.subarray(78,n.byteLength))}},avcC:function(n){for(var f=new DataView(n.buffer,n.byteOffset,n.byteLength),u={configurationVersion:n[0],avcProfileIndication:n[1],profileCompatibility:n[2],avcLevelIndication:n[3],lengthSizeMinusOne:n[4]&3,sps:[],pps:[]},o=n[5]&31,e,i,t=6,r=0;r<o;r++)i=f.getUint16(t),t+=2,u.sps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;for(e=n[t],t++,r=0;r<e;r++)i=f.getUint16(t),t+=2,u.pps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;return u},btrt:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),esId:n[6]<<8|n[7],streamPriority:n[8]&31,decoderConfig:{objectProfileIndication:n[11],streamType:n[12]>>>2&63,bufferSize:n[13]<<16|n[14]<<8|n[15],maxBitrate:n[16]<<24|n[17]<<16|n[18]<<8|n[19],avgBitrate:n[20]<<24|n[21]<<16|n[22]<<8|n[23],decoderConfigDescriptor:{tag:n[24],length:n[25],audioObjectType:n[26]>>>3&31,samplingFrequencyIndex:(n[26]&7)<<1|n[27]>>>7&1,channelConfiguration:n[27]>>>3&15}}}},ftyp:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={majorBrand:bc(n.subarray(0,4)),minorVersion:r.getUint32(4),compatibleBrands:[]},t=8;t<n.byteLength;)i.compatibleBrands.push(bc(n.subarray(t,t+4))),t+=4;return i},dinf:function(n){return{boxes:ht(n)}},dref:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),dataReferences:ht(n.subarray(8))}},hdlr:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),handlerType:bc(n.subarray(8,12)),name:""},t=8,t=24;t<n.byteLength;t++){if(n[t]===0){t++;break}i.name+=String.fromCharCode(n[t])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(n){return{byteLength:n.byteLength,nals:ebt(n)}},mdhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,u,i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),language:""};return i.version===1?(t+=4,i.creationTime=ti(r.getUint32(t)),t+=8,i.modificationTime=ti(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=8,i.duration=r.getUint32(t)):(i.creationTime=ti(r.getUint32(t)),t+=4,i.modificationTime=ti(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=4,i.duration=r.getUint32(t)),t+=4,u=r.getUint16(t),i.language+=String.fromCharCode((u>>10)+96),i.language+=String.fromCharCode(((u&992)>>5)+96),i.language+=String.fromCharCode((u&31)+96),i},mdia:function(n){return{boxes:ht(n)}},mfhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sequenceNumber:n[4]<<24|n[5]<<16|n[6]<<8|n[7]}},minf:function(n){return{boxes:ht(n)}},mp4a:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return n.byteLength>28&&(i.streamDescriptor=ht(n.subarray(28))[0]),i},moof:function(n){return{boxes:ht(n)}},moov:function(n){return{boxes:ht(n)}},mvex:function(n){return{boxes:ht(n)}},mvhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=ti(i.getUint32(t)),t+=8,r.modificationTime=ti(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=8,r.duration=i.getUint32(t)):(r.creationTime=ti(i.getUint32(t)),t+=4,r.modificationTime=ti(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=4,r.duration=i.getUint32(t)),t+=4,r.rate=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,t+=8,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,t+=24,r.nextTrackId=i.getUint32(t),r},pdin:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(n){for(var i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},t=4;t<n.byteLength;t++)i.samples.push({dependsOn:(n[t]&48)>>4,isDependedOn:(n[t]&12)>>2,hasRedundancy:n[t]&3});return i},sidx:function(n){for(var t=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},u=t.getUint16(22),i=24;u;i+=12,u--)r.references.push({referenceType:(n[i]&128)>>>7,referencedSize:t.getUint32(i)&2147483647,subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(n[i+8]&128),sapType:(n[i+8]&112)>>>4,sapDeltaTime:t.getUint32(i+8)&268435455});return r},smhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),balance:n[4]+n[5]/256}},stbl:function(n){return{boxes:ht(n)}},stco:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),chunkOffsets:[]},u=i.getUint32(4),t=8;u;t+=4,u--)r.chunkOffsets.push(i.getUint32(t));return r},stsc:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r=i.getUint32(4),u={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleToChunks:[]},t=8;r;t+=12,r--)u.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return u},stsd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleDescriptions:ht(n.subarray(8))}},stsz:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]},t=12;t<n.byteLength;t+=4)r.entries.push(i.getUint32(t));return r},stts:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),timeToSamples:[]},u=i.getUint32(4),t=8;u;t+=8,u--)r.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return r},styp:function(n){return wf.ftyp(n)},tfdt:function(n){var t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),baseMediaDecodeTime:n[4]<<24|n[5]<<16|n[6]<<8|n[7]};return t.version===1&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n[8]<<24|n[9]<<16|n[10]<<8|n[11]),t},tfhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:r.getUint32(4)},u=t.flags[2]&1,f=t.flags[2]&2,e=t.flags[2]&8,o=t.flags[2]&16,s=t.flags[2]&32,h=t.flags[0]&65536,c=t.flags[0]&131072,i;return i=8,u&&(i+=4,t.baseDataOffset=r.getUint32(12),i+=4),f&&(t.sampleDescriptionIndex=r.getUint32(i),i+=4),e&&(t.defaultSampleDuration=r.getUint32(i),i+=4),o&&(t.defaultSampleSize=r.getUint32(i),i+=4),s&&(t.defaultSampleFlags=r.getUint32(i)),h&&(t.durationIsEmpty=!0),!u&&c&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=ti(i.getUint32(t)),t+=8,r.modificationTime=ti(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=8,r.duration=i.getUint32(t)):(r.creationTime=ti(i.getUint32(t)),t+=4,r.modificationTime=ti(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=4,r.duration=i.getUint32(t)),t+=4,t+=8,r.layer=i.getUint16(t),t+=2,r.alternateGroup=i.getUint16(t),t+=2,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,r.width=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.height=i.getUint16(t)+i.getUint16(t+2)/16,r},traf:function(n){return{boxes:ht(n)}},trak:function(n){return{boxes:ht(n)}},trex:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:n[20]&3,sampleIsDependedOn:(n[21]&192)>>6,sampleHasRedundancy:(n[21]&48)>>4,samplePaddingValue:(n[21]&14)>>1,sampleIsDifferenceSample:!!(n[21]&1),sampleDegradationPriority:t.getUint16(22)}},trun:function(n){var r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},u=new DataView(n.buffer,n.byteOffset,n.byteLength),h=r.flags[2]&1,c=r.flags[2]&4,e=r.flags[1]&1,o=r.flags[1]&2,l=r.flags[1]&4,s=r.flags[1]&8,f=u.getUint32(4),t=8,i;for(h&&(r.dataOffset=u.getInt32(t),t+=4),c&&f&&(i={flags:dut(n.subarray(t,t+4))},t+=4,e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i),f--);f--;)i={},e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),l&&(i.flags=dut(n.subarray(t,t+4)),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i);return r},"url ":function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4))}},vmhd:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};ht=function(n){for(var t=0,o=[],s,i,f,e,r,h=new ArrayBuffer(n.length),c=new Uint8Array(h),u=0;u<n.length;++u)c[u]=n[u];for(s=new DataView(h);t<n.byteLength;)i=s.getUint32(t),f=bc(n.subarray(t+4,t+8)),e=i>1?t+i:n.byteLength,r=(wf[f]||function(n){return{data:n}})(n.subarray(t+8,e)),r.size=i,r.type=f,o.push(r),t=e;return o};kp=function(n,t){var i;return t=t||0,i=new Array(t*2+1).join(" "),n.map(function(n){return i+n.type+"\n"+Object.keys(n).filter(function(n){return n!=="type"&&n!=="boxes"}).map(function(t){var f=i+"  "+t+": ",r=n[t],u;return r instanceof Uint8Array||r instanceof Uint32Array?(u=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(n){return" "+("00"+n.toString(16)).slice(-2)}).join("").match(/.{1,24}/g),!u)?f+"<>":u.length===1?f+"<"+u.join("").slice(1)+">":f+"<\n"+u.map(function(n){return i+"  "+n}).join("\n")+"\n"+i+"  >":f+JSON.stringify(r,null,2).split("\n").map(function(n,t){return t===0?n:i+"  "+n}).join("\n")}).join("\n")+(n.boxes?"\n"+kp(n.boxes,t+1):"")}).join("\n")};var gi={inspect:ht,textify:kp,parseTfdt:wf.tfdt,parseHdlr:wf.hdlr,parseTfhd:wf.tfhd,parseTrun:wf.trun},obt=gi.inspect,sbt=gi.textify,hbt=gi.parseTfdt,cbt=gi.parseHdlr,lbt=gi.parseTfhd,abt=gi.parseTrun,gut=Object.freeze({"default":gi,__moduleExports:gi,inspect:obt,textify:sbt,parseTfdt:hbt,parseHdlr:cbt,parseTfhd:lbt,parseTrun:abt}),dp=gut&&gi||gut,vbt=eo.discardEmulationPreventionBytes,ybt=ip.CaptionStream,pbt=function(n,t){for(var i,u=n,r=0;r<t.length;r++){if(i=t[r],u<i.size)return i;u-=i.size}return null},wbt=function(n,t,i){for(var c=new DataView(n.buffer,n.byteOffset,n.byteLength),h=[],u,f,o,s,e,r=0;r+4<n.length;r+=f)if(f=c.getUint32(r),r+=4,!(f<=0))switch(n[r]&31){case 6:s=n.subarray(r+1,r+1+f);e=pbt(r,t);u={nalUnitType:"sei_rbsp",size:f,data:s,escapedRBSP:vbt(s),trackId:i};e?(u.pts=e.pts,u.dts=e.dts,o=e):(u.pts=o.pts,u.dts=o.dts);h.push(u)}return h},bbt=function(n,t,i){var r=t,f=i.defaultSampleDuration||0,e=i.defaultSampleSize||0,o=i.trackId,u=[];return n.forEach(function(n){var i=dp.parseTrun(n),t=i.samples;t.forEach(function(n){n.duration===undefined&&(n.duration=f);n.size===undefined&&(n.size=e);n.trackId=o;n.dts=r;n.compositionTimeOffset===undefined&&(n.compositionTimeOffset=0);n.pts=r+n.compositionTimeOffset;r+=n.duration});u=u.concat(t)}),u},kbt=function(n,t){var u=ni.findBox(n,["moof","traf"]),f=ni.findBox(n,["mdat"]),i={},r=[];return f.forEach(function(n,t){var i=u[t];r.push({mdat:n,traf:i})}),r.forEach(function(n){var c=n.mdat,u=n.traf,l=ni.findBox(u,["tfhd"]),f=dp.parseTfhd(l[0]),r=f.trackId,e=ni.findBox(u,["tfdt"]),a=e.length>0?dp.parseTfdt(e[0]).baseMediaDecodeTime:0,o=ni.findBox(u,["trun"]),s,h;t===r&&o.length>0&&(s=bbt(o,a,f),h=wbt(c,s,r),i[r]||(i[r]=[]),i[r]=i[r].concat(h))}),i},dbt=function(n,t,i){var r;return t?(r=kbt(n,t),{seiNals:r[t],timescale:i}):null},gbt=function(){var f=!1,r,u,n,t,i;this.isInitialized=function(){return f};this.init=function(){r=new ybt;f=!0;r.on("data",function(n){n.startTime=n.startPts/t;n.endTime=n.endPts/t;i.captions.push(n);i.captionStreams[n.stream]=!0})};this.isNewInit=function(i,r){return i&&i.length===0||r&&(typeof r=="undefined"?"undefined":d(r))==="object"&&Object.keys(r).length===0?!1:n!==i[0]||t!==r[n]};this.parse=function(r,f,e){var o,s;if(this.isInitialized())if(f&&e){if(this.isNewInit(f,e))n=f[0],t=e[n];else if(!n||!t)return u.push(r),null}else return null;else return null;while(u.length>0)s=u.shift(),this.parse(s,f,e);return(o=dbt(r,n,t),o===null||!o.seiNals)?null:(this.pushNals(o.seiNals),this.flushStream(),i)};this.pushNals=function(n){if(!this.isInitialized()||!n||n.length===0)return null;n.forEach(function(n){r.push(n)})};this.flushStream=function(){if(!this.isInitialized())return null;r.flush()};this.clearParsedCaptions=function(){i.captions=[];i.captionStreams={}};this.resetCaptionStream=function(){if(!this.isInitialized())return null;r.reset()};this.clearAllCaptions=function(){this.clearParsedCaptions();this.resetCaptionStream()};this.reset=function(){u=[];n=null;t=null;i?this.clearParsedCaptions():i={captions:[],captionStreams:{}};this.resetCaptionStream()};this.reset()},gp=gbt,nft=Object.freeze({"default":gp,__moduleExports:gp}),nw=kut&&lr||kut,nkt=nft&&gp||nft,tkt={generator:vf,probe:ni,Transmuxer:nw.Transmuxer,AudioSegmentStream:nw.AudioSegmentStream,VideoSegmentStream:nw.VideoSegmentStream,CaptionParser:nkt},ikt=tkt.CaptionParser,tft=function(n){var t=n[1]&31;return t<<=8,t|n[2]},kc=function(n){return!!(n[1]&64)},dc=function(n){var t=0;return(n[3]&48)>>>4>1&&(t+=n[4]+1),t},rkt=function(n,t){var i=tft(n);return i===0?"pat":i===t?"pmt":t?"pes":null},ukt=function(n){var i=kc(n),t=4+dc(n);return i&&(t+=n[t]+1),(n[t+10]&31)<<8|n[t+11]},fkt=function(n){var u={},s=kc(n),t=4+dc(n),f,e,o,r,i;if(s&&(t+=n[t]+1),n[t+5]&1){for(f=(n[t+1]&15)<<8|n[t+2],e=3+f-4,o=(n[t+10]&15)<<8|n[t+11],r=12+o;r<e;)i=t+r,u[(n[i+1]&31)<<8|n[i+2]]=n[i],r+=((n[i+3]&15)<<8|n[i+4])+5;return u}},ekt=function(n,t){var i=tft(n),r=t[i];switch(r){case it.H264_STREAM_TYPE:return"video";case it.ADTS_STREAM_TYPE:return"audio";case it.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},okt=function(n){var u=kc(n),t,i,r;return u?(t=4+dc(n),t>=n.byteLength)?null:(i=null,r=n[t+7],r&192&&(i={},i.pts=(n[t+9]&14)<<27|(n[t+10]&255)<<20|(n[t+11]&254)<<12|(n[t+12]&255)<<5|(n[t+13]&254)>>>3,i.pts*=4,i.pts+=(n[t+13]&6)>>>1,i.dts=i.pts,r&64&&(i.dts=(n[t+14]&14)<<27|(n[t+15]&255)<<20|(n[t+16]&254)<<12|(n[t+17]&255)<<5|(n[t+18]&254)>>>3,i.dts*=4,i.dts+=(n[t+18]&6)>>>1)),i):null},tw=function(n){switch(n){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},skt=function(n){for(var e=4+dc(n),i=n.subarray(e),t=0,r=0,f=!1,u;r<i.byteLength-3;r++)if(i[r+2]===1){t=r+5;break}while(t<i.byteLength)switch(i[t]){case 0:if(i[t-1]!==0){t+=2;break}else if(i[t-2]!==0){t++;break}r+3!==t-2&&(u=tw(i[r+3]&31),u==="slice_layer_without_partitioning_rbsp_idr"&&(f=!0));do t++;while(i[t]!==1&&t<i.length);r=t-2;t+=3;break;case 1:if(i[t-1]!==0||i[t-2]!==0){t+=3;break}u=tw(i[r+3]&31);u==="slice_layer_without_partitioning_rbsp_idr"&&(f=!0);r=t-2;t+=3;break;default:t+=3}return i=i.subarray(r),t-=r,r=0,i&&i.byteLength>3&&(u=tw(i[r+3]&31),u==="slice_layer_without_partitioning_rbsp_idr"&&(f=!0)),f},vi={parseType:rkt,parsePat:ukt,parsePmt:fkt,parsePayloadUnitStartIndicator:kc,parsePesType:ekt,parsePesTime:okt,videoPacketContainsKeyFrame:skt},hkt=vi.parseType,ckt=vi.parsePat,lkt=vi.parsePmt,akt=vi.parsePayloadUnitStartIndicator,vkt=vi.parsePesType,ykt=vi.parsePesTime,pkt=vi.videoPacketContainsKeyFrame,ift=Object.freeze({"default":vi,__moduleExports:vi,parseType:hkt,parsePat:ckt,parsePmt:lkt,parsePayloadUnitStartIndicator:akt,parsePesType:vkt,parsePesTime:ykt,videoPacketContainsKeyFrame:pkt}),wkt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],rft=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},bkt=function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u},kkt=function(n,t,i){return unescape(bkt(n,t,i))},dkt=function(n,t){var i=n[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9],r=n[t+5],u=(r&16)>>4;return u?i+20:i+10},gkt=function(n,t){var i=(n[t+5]&224)>>5,r=n[t+4]<<3,u=n[t+3]&6144;return u|r|i},ndt=function(n,t){return n[t]==="I".charCodeAt(0)&&n[t+1]==="D".charCodeAt(0)&&n[t+2]==="3".charCodeAt(0)?"timed-metadata":n[t]&!0&&(n[t+1]&240)==240?"audio":null},tdt=function(n){for(var t=0;t+5<n.length;){if(n[t]!==255||(n[t+1]&246)!=240){t++;continue}return wkt[(n[t+2]&60)>>>2]}return null},idt=function(n){var t,f,u,o,r,s,i,e;t=10;n[5]&64&&(t+=4,t+=rft(n.subarray(10,14)));do{if(f=rft(n.subarray(t+4,t+8)),f<1)return null;if(o=String.fromCharCode(n[t],n[t+1],n[t+2],n[t+3]),o==="PRIV")for(u=n.subarray(t+10,t+f+10),r=0;r<u.byteLength;r++)if(u[r]===0){if(s=kkt(u,0,r),s==="com.apple.streaming.transportStreamTimestamp")return i=u.subarray(r+1),e=(i[3]&1)<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2,e*=4,e+(i[7]&3);break}t+=10;t+=f}while(t<n.byteLength);return null},ar={parseId3TagSize:dkt,parseAdtsSize:gkt,parseType:ndt,parseSampleRate:tdt,parseAacTimestamp:idt},rdt=ar.parseId3TagSize,udt=ar.parseAdtsSize,fdt=ar.parseType,edt=ar.parseSampleRate,odt=ar.parseAacTimestamp,uft=Object.freeze({"default":ar,__moduleExports:ar,parseId3TagSize:rdt,parseAdtsSize:udt,parseType:fdt,parseSampleRate:edt,parseAacTimestamp:odt}),sdt=ift&&vi||ift,hdt=uft&&ar||uft,bf=nut.handleRollover,v={};v.ts=sdt;v.aac=hdt;var eu=9e4,ct=188,yi=71,cdt=function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?!0:!1},ldt=function(n,t){for(var r=0,i=ct,u,f;i<n.byteLength;){if(n[r]===yi&&n[i]===yi){u=n.subarray(r,i);f=v.ts.parseType(u,t.pid);switch(f){case"pat":t.pid||(t.pid=v.ts.parsePat(u));break;case"pmt":t.table||(t.table=v.ts.parsePmt(u))}if(t.pid&&t.table)return;r+=ct;i+=ct;continue}r++;i++}},adt=function(n,t,i){for(var u=0,r=ct,f,s,h,c,e,o=!1;r<n.byteLength;){if(n[u]===yi&&n[r]===yi){f=n.subarray(u,r);s=v.ts.parseType(f,t.pid);switch(s){case"pes":h=v.ts.parsePesType(f,t.table);c=v.ts.parsePayloadUnitStartIndicator(f);h==="audio"&&c&&(e=v.ts.parsePesTime(f),e&&(e.type="audio",i.audio.push(e),o=!0))}if(o)break;u+=ct;r+=ct;continue}u++;r++}for(r=n.byteLength,u=r-ct,o=!1;u>=0;){if(n[u]===yi&&n[r]===yi){f=n.subarray(u,r);s=v.ts.parseType(f,t.pid);switch(s){case"pes":h=v.ts.parsePesType(f,t.table);c=v.ts.parsePayloadUnitStartIndicator(f);h==="audio"&&c&&(e=v.ts.parsePesTime(f),e&&(e.type="audio",i.audio.push(e),o=!0))}if(o)break;u-=ct;r-=ct;continue}u--;r--}},vdt=function(n,t,i){for(var f=0,u=ct,r,c,l,h,e,a,y,p,s=!1,o={data:[],size:0};u<n.byteLength;){if(n[f]===yi&&n[u]===yi){r=n.subarray(f,u);c=v.ts.parseType(r,t.pid);switch(c){case"pes":if(l=v.ts.parsePesType(r,t.table),h=v.ts.parsePayloadUnitStartIndicator(r),l==="video"&&(h&&!s&&(e=v.ts.parsePesTime(r),e&&(e.type="video",i.video.push(e),s=!0)),!i.firstKeyFrame)){if(h&&o.size!==0){for(a=new Uint8Array(o.size),y=0;o.data.length;)p=o.data.shift(),a.set(p,y),y+=p.byteLength;v.ts.videoPacketContainsKeyFrame(a)&&(i.firstKeyFrame=v.ts.parsePesTime(a),i.firstKeyFrame.type="video");o.size=0}o.data.push(r);o.size+=r.byteLength}}if(s&&i.firstKeyFrame)break;f+=ct;u+=ct;continue}f++;u++}for(u=n.byteLength,f=u-ct,s=!1;f>=0;){if(n[f]===yi&&n[u]===yi){r=n.subarray(f,u);c=v.ts.parseType(r,t.pid);switch(c){case"pes":l=v.ts.parsePesType(r,t.table);h=v.ts.parsePayloadUnitStartIndicator(r);l==="video"&&h&&(e=v.ts.parsePesTime(r),e&&(e.type="video",i.video.push(e),s=!0))}if(s)break;f-=ct;u-=ct;continue}f--;u--}},ydt=function(n,t){var u,r,i;n.audio&&n.audio.length&&(u=t,typeof u=="undefined"&&(u=n.audio[0].dts),n.audio.forEach(function(n){n.dts=bf(n.dts,u);n.pts=bf(n.pts,u);n.dtsTime=n.dts/eu;n.ptsTime=n.pts/eu}));n.video&&n.video.length&&(r=t,typeof r=="undefined"&&(r=n.video[0].dts),n.video.forEach(function(n){n.dts=bf(n.dts,r);n.pts=bf(n.pts,r);n.dtsTime=n.dts/eu;n.ptsTime=n.pts/eu}),n.firstKeyFrame&&(i=n.firstKeyFrame,i.dts=bf(i.dts,r),i.pts=bf(i.pts,r),i.dtsTime=i.dts/eu,i.ptsTime=i.dts/eu))},pdt=function(n){for(var u=!1,o=0,f=null,r=null,i=0,t=0,e,h,s,c;n.length-t>=3;){h=v.aac.parseType(n,t);switch(h){case"timed-metadata":if(n.length-t<10){u=!0;break}if(i=v.aac.parseId3TagSize(n,t),i>n.length){u=!0;break}r===null&&(e=n.subarray(t,t+i),r=v.aac.parseAacTimestamp(e));t+=i;break;case"audio":if(n.length-t<7){u=!0;break}if(i=v.aac.parseAdtsSize(n,t),i>n.length){u=!0;break}f===null&&(e=n.subarray(t,t+i),f=v.aac.parseSampleRate(e));o++;t+=i;break;default:t++}if(u)return null}return f===null||r===null?null:(s=eu/f,c={audio:[{type:"audio",dts:r,pts:r},{type:"audio",dts:r+o*1024*s,pts:r+o*1024*s}]},c)},wdt=function(n){var i={pid:null,table:null},t={},r,u;ldt(n,i);for(r in i.table)if(i.table.hasOwnProperty(r)){u=i.table[r];switch(u){case it.H264_STREAM_TYPE:t.video=[];vdt(n,i,t);t.video.length===0&&delete t.video;break;case it.ADTS_STREAM_TYPE:t.audio=[];adt(n,i,t);t.audio.length===0&&delete t.audio}}return t},bdt=function(n,t){var r=cdt(n),i;return(i=r?pdt(n):wdt(n),!i||!i.audio&&!i.video)?null:(ydt(i,t),i)},kdt={inspect:bdt};var gc=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},gdt=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),ngt=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":d(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},tgt=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":d(t))==="object"||typeof t=="function")?t:n},igt=function(){for(var h=[[[],[],[],[],[]],[[],[],[],[],[]]],f=h[0],e=h[1],l=f[4],p=e[4],n=void 0,i=void 0,r=void 0,u=[],a=[],c=void 0,v=void 0,y=void 0,t=void 0,o=void 0,s=void 0,n=0;n<256;n++)a[(u[n]=n<<1^(n>>7)*283)^n]=n;for(i=r=0;!l[i];i^=c||1,r=a[r]||1)for(t=r^r<<1^r<<2^r<<3^r<<4,t=t>>8^t&255^99,l[i]=t,p[t]=i,y=u[v=u[c=u[i]]],s=y*16843009^v*65537^c*257^i*16843008,o=u[t]*257^t*16843008,n=0;n<4;n++)f[n][i]=o=o<<24^o>>>8,e[n][t]=s=s<<24^s>>>8;for(n=0;n<5;n++)f[n]=f[n].slice(0),e[n]=e[n].slice(0);return h},ii=null,rgt=function(){function n(t){gc(this,n);ii||(ii=igt());this._tables=[[ii[0][0].slice(),ii[0][1].slice(),ii[0][2].slice(),ii[0][3].slice(),ii[0][4].slice()],[ii[1][0].slice(),ii[1][1].slice(),ii[1][2].slice(),ii[1][3].slice(),ii[1][4].slice()]];var r=void 0,o=void 0,i=void 0,e=void 0,c=void 0,f=this._tables[0][4],s=this._tables[1],u=t.length,h=1;if(u!==4&&u!==6&&u!==8)throw new Error("Invalid aes key size");for(e=t.slice(0),c=[],this._key=[e,c],r=u;r<4*u+28;r++)i=e[r-1],(r%u==0||u===8&&r%u==4)&&(i=f[i>>>24]<<24^f[i>>16&255]<<16^f[i>>8&255]<<8^f[i&255],r%u==0&&(i=i<<8^i>>>24^h<<24,h=h<<1^(h>>7)*283)),e[r]=e[r-u]^i;for(o=0;r;o++,r--)i=e[o&3?r:r-4],c[o]=r<=4||o<4?i:s[0][f[i>>>24]]^s[1][f[i>>16&255]]^s[2][f[i>>8&255]]^s[3][f[i&255]]}return n.prototype.decrypt=function(n,t,i,r,u,f){for(var e=this._key[1],o=n^e[0],s=r^e[1],h=i^e[2],c=t^e[3],y=void 0,g=void 0,nt=void 0,tt=e.length/4-2,l=void 0,a=4,v=this._tables[1],p=v[0],w=v[1],b=v[2],k=v[3],d=v[4],l=0;l<tt;l++)y=p[o>>>24]^w[s>>16&255]^b[h>>8&255]^k[c&255]^e[a],g=p[s>>>24]^w[h>>16&255]^b[c>>8&255]^k[o&255]^e[a+1],nt=p[h>>>24]^w[c>>16&255]^b[o>>8&255]^k[s&255]^e[a+2],c=p[c>>>24]^w[o>>16&255]^b[s>>8&255]^k[h&255]^e[a+3],a+=4,o=y,s=g,h=nt;for(l=0;l<4;l++)u[(3&-l)+f]=d[o>>>24]<<24^d[s>>16&255]<<16^d[h>>8&255]<<8^d[c&255]^e[a++],y=o,o=s,s=h,h=c,c=y},n}(),fft=function(){function n(){gc(this,n);this.listeners={}}return n.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},n.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),i>-1},n.prototype.trigger=function(n){var t=this.listeners[n],u,i,f,e,r;if(t)if(arguments.length===2)for(u=t.length,i=0;i<u;++i)t[i].call(this,arguments[1]);else for(f=Array.prototype.slice.call(arguments,1),e=t.length,r=0;r<e;++r)t[r].apply(this,f)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},n}(),eft=function(n){function t(){gc(this,t);var i=tgt(this,n.call(this,fft));return i.jobs=[],i.delay=1,i.timeout_=null,i}return ngt(t,n),t.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},t.prototype.push=function(n){this.jobs.push(n);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(fft),ri=function(n){return n<<24|(n&65280)<<8|(n&16711680)>>8|n>>>24},oft=function(n,t,i){var f=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),p=new rgt(Array.prototype.slice.call(t)),y=new Uint8Array(n.byteLength),u=new Int32Array(y.buffer),e=void 0,o=void 0,s=void 0,h=void 0,c=void 0,l=void 0,a=void 0,v=void 0,r=void 0;for(e=i[0],o=i[1],s=i[2],h=i[3],r=0;r<f.length;r+=4)c=ri(f[r]),l=ri(f[r+1]),a=ri(f[r+2]),v=ri(f[r+3]),p.decrypt(c,l,a,v,u,r),u[r]=ri(u[r]^e),u[r+1]=ri(u[r+1]^o),u[r+2]=ri(u[r+2]^s),u[r+3]=ri(u[r+3]^h),e=c,o=l,s=a,h=v;return y},ugt=function(){function n(t,i,r,u){gc(this,n);var o=n.STEP,e=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),f=0;for(this.asyncStream_=new eft,this.asyncStream_.push(this.decryptChunk_(e.subarray(f,f+o),i,r,s)),f=o;f<e.length;f+=o)r=new Uint32Array([ri(e[f-4]),ri(e[f-3]),ri(e[f-2]),ri(e[f-1])]),this.asyncStream_.push(this.decryptChunk_(e.subarray(f,f+o),i,r,s));this.asyncStream_.push(function(){u(null,ddt(s))})}return n.prototype.decryptChunk_=function(n,t,i,r){return function(){var u=oft(n,t,i);r.set(u,n.byteOffset)}},gdt(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}();
/**
   * @videojs/http-streaming
   * @version 1.2.6
   * @copyright 2018 Brightcove, Inc
   * @license Apache-2.0
   */
var nr=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=bh.buildAbsoluteURL(t.location.href,n)),bh.buildAbsoluteURL(n,i))},ui=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},si=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),fgt=function egt(n,t,i){var r,u,f;return n===null&&(n=Function.prototype),r=Object.getOwnPropertyDescriptor(n,t),r===undefined?(u=Object.getPrototypeOf(n),u===null?undefined:egt(u,t,i)):"value"in r?r.value:(f=r.get,f===undefined)?undefined:f.call(i)},tr=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":d(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},pi=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":d(t))==="object"||typeof t=="function")?t:n},ogt=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),iw=n.mergeOptions,sgt=n.EventTarget,hgt=n.log,rw=function(n,t){["AUDIO","SUBTITLES"].forEach(function(i){var r,u,f;for(r in n.mediaGroups[i])for(u in n.mediaGroups[i][r])f=n.mediaGroups[i][r][u],t(f,i,r,u)})},cgt=function(n,t,i){var u=t.slice(),f,r;for(i=i||0,f=Math.min(n.length,t.length+i),r=i;r<f;r++)u[r-i]=iw(n[r],u[r-i]);return u},lgt=function(n,t){n.resolvedUri||(n.resolvedUri=nr(t,n.uri));n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=nr(t,n.key.uri));n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=nr(t,n.map.uri))},uw=function(n,t){var r=iw(n,{}),i=r.playlists[t.uri],u,f;if(!i||i.segments&&t.segments&&i.segments.length===t.segments.length&&i.mediaSequence===t.mediaSequence)return null;for(u=iw(i,t),i.segments&&(u.segments=cgt(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),u.segments.forEach(function(n){lgt(n,u.resolvedUri)}),f=0;f<r.playlists.length;f++)r.playlists[f].uri===t.uri&&(r.playlists[f]=u);return r.playlists[t.uri]=u,r},sft=function(n){for(var i=n.playlists.length,t;i--;)t=n.playlists[i],n.playlists[t.uri]=t,t.resolvedUri=nr(n.uri,t.uri),t.id=i,t.attributes||(t.attributes={},hgt.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))},hft=function(n){rw(n,function(t){t.uri&&(t.resolvedUri=nr(n.uri,t.uri))})},cft=function(n,t){var i=n.segments[n.segments.length-1];return t&&i&&i.duration?i.duration*1e3:(n.targetDuration||10)*500},nl=function(n){function i(n,t,r){ui(this,i);var u=pi(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(u.srcUrl=n,u.hls_=t,u.withCredentials=r,!u.srcUrl)throw new Error("A non-empty playlist URL is required");u.state="HAVE_NOTHING";u.on("mediaupdatetimeout",function(){u.state==="HAVE_METADATA"&&(u.state="HAVE_CURRENT_METADATA",u.request=u.hls_.xhr({uri:nr(u.master.uri,u.media().uri),withCredentials:u.withCredentials},function(n){if(u.request){if(n)return u.playlistRequestError(u.request,u.media().uri,"HAVE_METADATA");u.haveMetadata(u.request,u.media().uri)}}))});return u}return tr(i,n),si(i,[{key:"playlistRequestError",value:function(n,t,i){this.request=null;i&&(this.state=i);this.error={playlist:this.master.playlists[t],status:n.status,message:"HLS playlist request error at URL: "+t,responseText:n.responseText,code:n.status>=500?4:2};this.trigger("error")}},{key:"haveMetadata",value:function(n,i){var f=this,r,u;this.request=null;this.state="HAVE_METADATA";r=new ctt;r.push(n.responseText);r.end();r.manifest.uri=i;r.manifest.attributes=r.manifest.attributes||{};u=uw(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration;u?(this.master=u,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged");this.media().endList||(t.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=t.setTimeout(function(){f.trigger("mediaupdatetimeout")},cft(this.media(),!!u)));this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest();t.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var n=this.request;this.request=null;n.onreadystatechange=null;n.abort()}}},{key:"media",value:function(n){var t=this,i,r;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(i=this.state,typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(r=!this.media_||n.uri!==this.media_.uri,this.master.playlists[n.uri].endList){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null);this.state="HAVE_METADATA";this.media_=n;r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}if(r){if(this.state="SWITCHING_MEDIA",this.request){if(nr(this.master.uri,n.uri)===this.request.url)return;this.request.onreadystatechange=null;this.request.abort();this.request=null}this.media_&&this.trigger("mediachanging");this.request=this.hls_.xhr({uri:nr(this.master.uri,n.uri),withCredentials:this.withCredentials},function(r,u){if(t.request){if(r)return t.playlistRequestError(t.request,n.uri,i);t.haveMetadata(u,n.uri);i==="HAVE_MASTER"?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest();t.clearTimeout(this.mediaUpdateTimeout);this.state==="HAVE_NOTHING"&&(this.started=!1);this.state==="SWITCHING_MEDIA"?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}},{key:"load",value:function(n){var u=this,i,r;if(t.clearTimeout(this.mediaUpdateTimeout),i=this.media(),n){r=i?i.targetDuration*500:5e3;this.mediaUpdateTimeout=t.setTimeout(function(){return u.load()},r);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var n=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,r){if(n.request){if(n.request=null,i)return n.error={status:r.status,message:"HLS playlist request error at URL: "+n.srcUrl,responseText:r.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");var u=new ctt;if(u.push(r.responseText),u.end(),n.state="HAVE_MASTER",u.manifest.uri=n.srcUrl,u.manifest.playlists){n.master=u.manifest;sft(n.master);hft(n.master);n.trigger("loadedplaylist");n.request||n.media(u.manifest.playlists[0]);return}return n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:t.location.href,playlists:[{uri:n.srcUrl,id:0}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.master.playlists[0].resolvedUri=n.srcUrl,n.master.playlists[0].attributes=n.master.playlists[0].attributes||{},n.haveMetadata(r,n.srcUrl),n.trigger("loadedmetadata")}})}}]),i}(sgt),lft=n.createTimeRange,agt=function(n,t){var r=0,u=t-n.mediaSequence,i=n.segments[u];if(i){if(typeof i.start!="undefined")return{result:i.start,precise:!0};if(typeof i.end!="undefined")return{result:i.end-i.duration,precise:!0}}while(u--){if(i=n.segments[u],typeof i.end!="undefined")return{result:r+i.end,precise:!0};if(r+=i.duration,typeof i.start!="undefined")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},vgt=function(n,t){for(var r=0,i=void 0,u=t-n.mediaSequence;u<n.segments.length;u++){if(i=n.segments[u],typeof i.start!="undefined")return{result:i.start-r,precise:!0};if(r+=i.duration,typeof i.end!="undefined")return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}},aft=function(n,t,i){var r=void 0,u=void 0;return(typeof t=="undefined"&&(t=n.mediaSequence+n.segments.length),t<n.mediaSequence)?0:(r=agt(n,t),r.precise)?r.result:(u=vgt(n,t),u.precise)?u.result:r.result+i},vft=function(n,i,r){if(!n)return 0;if(typeof r!="number"&&(r=0),typeof i=="undefined"){if(n.totalDuration)return n.totalDuration;if(!n.endList)return t.Infinity}return aft(n,i,r)},yo=function(n,t,i){var u=0,f,e,r;if(t>i&&(f=[i,t],t=f[0],i=f[1]),t<0){for(e=t;e<Math.min(0,i);e++)u+=n.targetDuration;t=0}for(r=t;r<i;r++)u+=n.segments[r].duration;return u},yft=function(n){if(!n.segments.length)return 0;for(var t=n.segments.length-1,i=n.segments[t].duration||n.targetDuration,r=i+n.targetDuration*2;t--;)if(i+=n.segments[t].duration,i>=r)break;return Math.max(0,t)},pft=function(n,t,i){if(!n||!n.segments)return null;if(n.endList)return vft(n);if(t===null)return null;t=t||0;var r=i?yft(n):n.segments.length;return aft(n,n.mediaSequence+r,t)},ygt=function(n,t){var r=t||0,i=pft(n,t,!0);return i===null?lft():lft(r,i)},wft=function(n){return n-Math.floor(n)==0},bft=function(n,t){var r,i,u,f;if(wft(t))return t+n*.1;for(r=t.toString().split(".")[1].length,i=1;i<=r;i++)if(u=Math.pow(10,i),f=t*u,wft(f)||i===r)return(f+n)/u},pgt=bft.bind(null,1),wgt=bft.bind(null,-1),bgt=function(n,t,i,r){var u=void 0,e=void 0,o=n.segments.length,f=t-r;if(f<0){if(i>0)for(u=i-1;u>=0;u--)if(e=n.segments[u],f+=wgt(e.duration),f>0)return{mediaIndex:u,startTime:r-yo(n,i,u)};return{mediaIndex:0,startTime:t}}if(i<0){for(u=i;u<0;u++)if(f-=n.targetDuration,f<0)return{mediaIndex:0,startTime:t};i=0}for(u=i;u<o;u++)if(e=n.segments[u],f-=pgt(e.duration),f<0)return{mediaIndex:u,startTime:r+yo(n,i,u)};return{mediaIndex:o-1,startTime:t}},kft=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},fw=function(n){return n.excludeUntil&&n.excludeUntil===Infinity},tl=function(n){var t=kft(n);return!n.disabled&&!t},kgt=function(n){return n.disabled},dgt=function(n){for(var t=0;t<n.segments.length;t++)if(n.segments[t].key)return!0;return!1},ggt=function(n){for(var t=0;t<n.segments.length;t++)if(n.segments[t].map)return!0;return!1},dft=function(n,t){return t.attributes&&t.attributes[n]},nnt=function(n,t,i){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,r;return dft("BANDWIDTH",i)?(r=n*i.attributes.BANDWIDTH,(r-u*8)/t):NaN},ew=function(n,t){if(n.playlists.length===1)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return n.playlists.filter(function(n){return tl(n)?(n.attributes.BANDWIDTH||0)<i:!1}).length===0},kt={duration:vft,seekable:ygt,safeLiveIndex:yft,getMediaInfoForTime:bgt,isEnabled:tl,isDisabled:kgt,isBlacklisted:kft,isIncompatible:fw,playlistEnd:pft,isAes:dgt,isFmp4:ggt,hasAttribute:dft,estimateSegmentRequestTime:nnt,isLowestEnabledRendition:ew},tnt=n.xhr,int=n.mergeOptions,gft=function(){return function t(i,r){var f,e,u,o;return i=int({timeout:45e3},i),f=t.beforeRequest||n.Hls.xhr.beforeRequest,f&&typeof f=="function"&&(e=f(i),e&&(i=e)),u=tnt(i,function(n,t){var i=u.response;!n&&i&&(u.responseTime=Date.now(),u.roundTripTime=u.responseTime-u.requestTime,u.bytesReceived=i.byteLength||i.length,u.bandwidth||(u.bandwidth=Math.floor(u.bytesReceived/u.roundTripTime*8e3)));t.headers&&(u.responseHeaders=t.headers);n&&n.code==="ETIMEDOUT"&&(u.timedout=!0);n||u.aborted||t.statusCode===200||t.statusCode===206||t.statusCode===0||(n=new Error("XHR Failed with a response of: "+(u&&(i||u.responseText))));r(n,u)}),o=u.abort,u.abort=function(){return u.aborted=!0,o.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u}},rnt=function(n,t){return n.start(t)+"-"+n.end(t)},unt=function(n,t){var i=n.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},fnt=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},net=function(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i];t[i]=ArrayBuffer.isView(r)?{bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:r}),t},il=function(n){var t=n.byterange||{length:Infinity,offset:0};return[t.length,t.offset,n.resolvedUri].join(",")},tet=function(n){for(var r=Array.prototype.slice.call(n),t=16,u="",f=void 0,e=void 0,i=0;i<r.length/t;i++)f=r.slice(i*t,i*t+t).map(unt).join(""),e=r.slice(i*t,i*t+t).map(fnt).join(""),u+=f+" "+e+"\n";return u},ent=function(n){var t=n.bytes;return tet(t)},ont=function(n){for(var i="",t=void 0,t=0;t<n.length;t++)i+=rnt(n,t)+" ";return i},snt=Object.freeze({createTransferableMessage:net,initSegmentId:il,hexDump:tet,tagDump:ent,textRanges:ont}),kf=1/30,ou=kf*3,iet=function(t,i){var u=[],r=void 0;if(t&&t.length)for(r=0;r<t.length;r++)i(t.start(r),t.end(r))&&u.push([t.start(r),t.end(r)]);return n.createTimeRanges(u)},ret=function(n,t){return iet(n,function(n,i){return n-kf<=t&&i+kf>=t})},uet=function(n,t){return iet(n,function(n){return n-kf>=t})},hnt=function(t){var r,i,u,f;if(t.length<2)return n.createTimeRanges();for(r=[],i=1;i<t.length;i++)u=t.end(i-1),f=t.start(i),r.push([u,f]);return n.createTimeRanges(r)},ow=function(n){var i=[],t;if(!n||!n.length)return"";for(t=0;t<n.length;t++)i.push(n.start(t)+" => "+n.end(t));return i.join(", ")},cnt=function(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,r=n.length?n.end(n.length-1):0;return(r-t)/i},fet=function(n){for(var i=[],t=0;t<n.length;t++)i.push({start:n.start(t),end:n.end(t)});return i},lnt=function(n,t,i){var u=t.player_,r,f;if(i.captions&&i.captions.length){n.inbandTextTracks_||(n.inbandTextTracks_={});for(r in i.captionStreams)n.inbandTextTracks_[r]||(u.tech_.trigger({type:"usage",name:"hls-608"}),f=u.textTracks().getTrackById(r),n.inbandTextTracks_[r]=f?f:u.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track)}i.metadata&&i.metadata.length&&!n.metadataTrack_&&(n.metadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,n.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)},df=function(n,t,i){var u=void 0,r=void 0;if(i&&i.cues)for(u=i.cues.length;u--;)r=i.cues[u],r.startTime<=t&&r.endTime>=n&&i.removeCue(r)},ant=function(t){Object.defineProperties(t.frame,{id:{get:function(){return n.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return n.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return n.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},eet=function(n){return isNaN(n)||Math.abs(n)===Infinity?Number.MAX_VALUE:n},vnt=function(n,i,r){var h=t.WebKitDataCue||t.VTTCue,c,f,e,u,o,s;if(i&&i.forEach(function(n){var t=n.stream;this.inbandTextTracks_[t].addCue(new h(n.startTime+this.timestampOffset,n.endTime+this.timestampOffset,n.text))},n),r&&(c=eet(n.mediaSource_.duration),r.forEach(function(n){var t=n.cueTime+this.timestampOffset;n.frames.forEach(function(n){var i=new h(t,t,n.value||n.url||n.data||"");i.frame=n;i.value=n;ant(i);this.metadataTrack_.addCue(i)},this)},n),n.metadataTrack_&&n.metadataTrack_.cues&&n.metadataTrack_.cues.length)){for(f=n.metadataTrack_.cues,e=[],u=0;u<f.length;u++)f[u]&&e.push(f[u]);o=e.reduce(function(n,t){var i=n[t.startTime]||[];return i.push(t),n[t.startTime]=i,n},{});s=Object.keys(o).sort(function(n,t){return Number(n)-Number(t)});s.forEach(function(n,t){var i=o[n],r=Number(s[t+1])||c;i.forEach(function(n){n.endTime=r})})}},su=typeof window!="undefined"?window:{},sw=typeof Symbol=="undefined"?"__target":Symbol(),ynt="application/javascript",pnt=su.BlobBuilder||su.WebKitBlobBuilder||su.MozBlobBuilder||su.MSBlobBuilder,gf=su.URL||su.webkitURL||gf&&gf.msURL,ne=su.Worker;if(ne){hw=set("self.onmessage = function () {}");cw=new Uint8Array(1);try{rl=new ne(hw);rl.postMessage(cw,[cw.buffer])}catch(toi){ne=null}finally{gf.revokeObjectURL(hw);rl&&rl.terminate()}}var bnt=new oet("./transmuxer-worker.worker.js",function(){var n=this,t=function(){var rr=Math.pow(2,32)-1,i,ur,fr,ii,er,or,sr,hr,ri,cr,lr,ar,vr,yr,pr,wr,br,kr,dr,gr,nu,ui,t,fi,tu,iu,ru,uu,fu,eu,ou,su,st,hu,cu,lu,v,it,ci,bt,h,kt,li,ai,ku,du,dt,et,gu,nf,gt;(function(){var n;if(t={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(n in t)t.hasOwnProperty(n)&&(t[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);fi=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);iu=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);tu=new Uint8Array([0,0,0,1]);ru=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);uu=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);fu={video:ru,audio:uu};su=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);ou=new Uint8Array([0,0,0,0,0,0,0,0]);st=new Uint8Array([0,0,0,0,0,0,0,0]);hu=st;cu=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);lu=st;eu=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();i=function(n){for(var r=[],u=0,i,f,t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)u+=r[t].byteLength;for(i=new Uint8Array(u+8),f=new DataView(i.buffer,i.byteOffset,i.byteLength),f.setUint32(0,i.byteLength),i.set(n,4),t=0,u=8;t<r.length;t++)i.set(r[t],u),u+=r[t].byteLength;return i};ur=function(){return i(t.dinf,i(t.dref,su))};fr=function(n){return i(t.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,n.audioobjecttype<<3|n.samplingfrequencyindex>>>1,n.samplingfrequencyindex<<7|n.channelcount<<3,6,1,2]))};ii=function(){return i(t.ftyp,fi,tu,fi,iu)};wr=function(n){return i(t.hdlr,fu[n])};er=function(n){return i(t.mdat,n)};pr=function(n){var r=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,n.duration>>>24&255,n.duration>>>16&255,n.duration>>>8&255,n.duration&255,85,196,0,0]);return n.samplerate&&(r[12]=n.samplerate>>>24&255,r[13]=n.samplerate>>>16&255,r[14]=n.samplerate>>>8&255,r[15]=n.samplerate&255),i(t.mdhd,r)};yr=function(n){return i(t.mdia,pr(n),wr(n.type),sr(n))};or=function(n){return i(t.mfhd,new Uint8Array([0,0,0,0,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255]))};sr=function(n){return i(t.minf,n.type==="video"?i(t.vmhd,eu):i(t.smhd,ou),ur(),kr(n))};hr=function(n,r){for(var f=[],u=r.length;u--;)f[u]=gr(r[u]);return i.apply(null,[t.moof,or(n)].concat(f))};ri=function(n){for(var r=n.length,u=[];r--;)u[r]=ar(n[r]);return i.apply(null,[t.moov,lr(4294967295)].concat(u).concat(cr(n)))};cr=function(n){for(var r=n.length,u=[];r--;)u[r]=nu(n[r]);return i.apply(null,[t.mvex].concat(u))};lr=function(n){var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(t.mvhd,r)};br=function(n){for(var f=n.samples||[],e=new Uint8Array(4+f.length),u,r=0;r<f.length;r++)u=f[r].flags,e[r+4]=u.dependsOn<<4|u.isDependedOn<<2|u.hasRedundancy;return i(t.sdtp,e)};kr=function(n){return i(t.stbl,dr(n),i(t.stts,lu),i(t.stsc,hu),i(t.stsz,cu),i(t.stco,st))},function(){var n,r;dr=function(u){return i(t.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),u.type==="video"?n(u):r(u))};n=function(n){for(var u=n.sps||[],f=n.pps||[],e=[],o=[],r=0;r<u.length;r++)e.push((u[r].byteLength&65280)>>>8),e.push(u[r].byteLength&255),e=e.concat(Array.prototype.slice.call(u[r]));for(r=0;r<f.length;r++)o.push((f[r].byteLength&65280)>>>8),o.push(f[r].byteLength&255),o=o.concat(Array.prototype.slice.call(f[r]));return i(t.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(n.width&65280)>>8,n.width&255,(n.height&65280)>>8,n.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(t.avcC,new Uint8Array([1,n.profileIdc,n.profileCompatibility,n.levelIdc,255].concat([u.length]).concat(e).concat([f.length]).concat(o))),i(t.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};r=function(n){return i(t.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(n.channelcount&65280)>>8,n.channelcount&255,(n.samplesize&65280)>>8,n.samplesize&255,0,0,0,0,(n.samplerate&65280)>>8,n.samplerate&255,0,0]),fr(n))}}();vr=function(n){var r=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,0,(n.duration&4278190080)>>24,(n.duration&16711680)>>16,(n.duration&65280)>>8,n.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(n.width&65280)>>8,n.width&255,0,0,(n.height&65280)>>8,n.height&255,0,0]);return i(t.tkhd,r)};gr=function(n){var e,o,f,s,h,r,u;return(e=i(t.tfhd,new Uint8Array([0,0,0,58,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),r=Math.floor(n.baseMediaDecodeTime/(rr+1)),u=Math.floor(n.baseMediaDecodeTime%(rr+1)),o=i(t.tfdt,new Uint8Array([1,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,r&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255])),h=92,n.type==="audio")?(f=ui(n,h),i(t.traf,e,o,f)):(s=br(n),f=ui(n,s.length+h),i(t.traf,e,o,f,s))};ar=function(n){return n.duration=n.duration||4294967295,i(t.trak,vr(n),yr(n))};nu=function(n){var r=new Uint8Array([0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return n.type!=="video"&&(r[r.length-1]=0),i(t.trex,r)},function(){var r,u,n;n=function(n,t){var i=0,r=0,u=0,f=0;return n.length&&(n[0].duration!==undefined&&(i=1),n[0].size!==undefined&&(r=2),n[0].flags!==undefined&&(u=4),n[0].compositionTimeOffset!==undefined&&(f=8)),[0,0,i|r|u|f,1,(n.length&4278190080)>>>24,(n.length&16711680)>>>16,(n.length&65280)>>>8,n.length&255,(t&4278190080)>>>24,(t&16711680)>>>16,(t&65280)>>>8,t&255]};u=function(r,u){var o,e,f,s;for(e=r.samples||[],u+=20+16*e.length,o=n(e,u),s=0;s<e.length;s++)f=e[s],o=o.concat([(f.duration&4278190080)>>>24,(f.duration&16711680)>>>16,(f.duration&65280)>>>8,f.duration&255,(f.size&4278190080)>>>24,(f.size&16711680)>>>16,(f.size&65280)>>>8,f.size&255,f.flags.isLeading<<2|f.flags.dependsOn,f.flags.isDependedOn<<6|f.flags.hasRedundancy<<4|f.flags.paddingValue<<1|f.flags.isNonSyncSample,f.flags.degradationPriority&61440,f.flags.degradationPriority&15,(f.compositionTimeOffset&4278190080)>>>24,(f.compositionTimeOffset&16711680)>>>16,(f.compositionTimeOffset&65280)>>>8,f.compositionTimeOffset&255]);return i(t.trun,new Uint8Array(o))};r=function(r,u){var o,e,f,s;for(e=r.samples||[],u+=20+8*e.length,o=n(e,u),s=0;s<e.length;s++)f=e[s],o=o.concat([(f.duration&4278190080)>>>24,(f.duration&16711680)>>>16,(f.duration&65280)>>>8,f.duration&255,(f.size&4278190080)>>>24,(f.size&16711680)>>>16,(f.size&65280)>>>8,f.size&255]);return i(t.trun,new Uint8Array(o))};ui=function(n,t){return n.type==="audio"?r(n,t):u(n,t)}}();var w={ftyp:ii,mdat:er,moof:hr,moov:ri,initSegment:function(n){var i=ii(),r=ri(n),t;return t=new Uint8Array(i.byteLength+r.byteLength),t.set(i),t.set(r,i.byteLength),t}},af=function(n){return n>>>0},vf={toUnsigned:af},b=vf.toUnsigned,s,ht,au,vu,yu;s=function(n,t){var r=[],i,f,o,u,e;if(!t.length)return null;for(i=0;i<n.byteLength;)f=b(n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),o=ht(n.subarray(i+4,i+8)),u=f>1?i+f:n.byteLength,o===t[0]&&(t.length===1?r.push(n.subarray(i+8,u)):(e=s(n.subarray(i+8,u),t.slice(1)),e.length&&(r=r.concat(e)))),i=u;return r};ht=function(n){var t="";return t+=String.fromCharCode(n[0]),t+=String.fromCharCode(n[1]),t+=String.fromCharCode(n[2]),t+String.fromCharCode(n[3])};au=function(n){var t=s(n,["moov","trak"]);return t.reduce(function(n,t){var r,f,i,e,u;return(r=s(t,["tkhd"])[0],!r)?null:(f=r[0],i=f===0?12:20,e=b(r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),u=s(t,["mdia","mdhd"])[0],!u)?null:(f=u[0],i=f===0?12:20,n[e]=b(u[i]<<24|u[i+1]<<16|u[i+2]<<8|u[i+3]),n)},{})};vu=function(n,t){var r,u,i;return r=s(t,["moof","traf"]),u=[].concat.apply([],r.map(function(t){return s(t,["tfhd"]).map(function(i){var u,f,r;return u=b(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),f=n[u]||9e4,r=s(t,["tfdt"]).map(function(n){var i,t;return i=n[0],t=b(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i===1&&(t*=Math.pow(2,32),t+=b(n[8]<<24|n[9]<<16|n[10]<<8|n[11])),t})[0],r=r||Infinity,r/f})})),i=Math.min.apply(null,u),isFinite(i)?i:0};yu=function(n){var i=s(n,["moov","trak"]),t=[];return i.forEach(function(n){var i=s(n,["mdia","hdlr"]),r=s(n,["tkhd"]);i.forEach(function(n,i){var s=ht(n.subarray(8,12)),f=r[i],u,e,o;s==="vide"&&(u=new DataView(f.buffer,f.byteOffset,f.byteLength),e=u.getUint8(0),o=e===0?u.getUint32(12):u.getUint32(20),t.push(o))})}),t};v={findBox:s,parseType:ht,timescale:au,startTime:vu,videoTrackIds:yu};it=function(){this.init=function(){var n={};this.on=function(t,i){n[t]||(n[t]=[]);n[t]=n[t].concat(i)};this.off=function(t,i){var r;return n[t]?(r=n[t].indexOf(i),n[t]=n[t].slice(),n[t].splice(r,1),r>-1):!1};this.trigger=function(t){var r,i,u,f;if(r=n[t],r)if(arguments.length===2)for(u=r.length,i=0;i<u;++i)r[i].call(this,arguments[1]);else{for(f=[],i=arguments.length,i=1;i<arguments.length;++i)f.push(arguments[i]);for(u=r.length,i=0;i<u;++i)r[i].apply(this,f)}};this.dispose=function(){n={}}}};it.prototype.pipe=function(n){this.on("data",function(t){n.push(t)});this.on("done",function(t){n.flush(t)});return n};it.prototype.push=function(n){this.trigger("data",n)};it.prototype.flush=function(n){this.trigger("done",n)};var f=it,yf=function(n){var u,i,t=[],r=[];for(t.byteLength=0,u=0;u<n.length;u++)i=n[u],i.nalUnitType==="access_unit_delimiter_rbsp"?(t.length&&(t.duration=i.dts-t.dts,r.push(t)),t=[i],t.byteLength=i.data.byteLength,t.pts=i.pts,t.dts=i.dts):(i.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(t.keyFrame=!0),t.duration=i.dts-t.dts,t.byteLength+=i.data.byteLength,t.push(i));return r.length&&(!t.duration||t.duration<=0)&&(t.duration=r[r.length-1].duration),r.push(t),r},pf=function(n){var u,r,t=[],i=[];for(t.byteLength=0,t.nalCount=0,t.duration=0,t.pts=n[0].pts,t.dts=n[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=n[0].pts,i.dts=n[0].dts,u=0;u<n.length;u++)r=n[u],r.keyFrame?(t.length&&(i.push(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration),t=[r],t.nalCount=r.length,t.byteLength=r.byteLength,t.pts=r.pts,t.dts=r.dts,t.duration=r.duration):(t.duration+=r.duration,t.nalCount+=r.length,t.byteLength+=r.byteLength,t.push(r));return i.length&&t.duration<=0&&(t.duration=i[i.length-1].duration),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration,i.push(t),i},wf=function(n){var t;return!n[0][0].keyFrame&&n.length>1&&(t=n.shift(),n.byteLength-=t.byteLength,n.nalCount-=t.nalCount,n[0][0].dts=t.dts,n[0][0].pts=t.pts,n[0][0].duration+=t.duration),n},bf=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},kf=function(n,t){var i=bf();return i.dataOffset=t,i.compositionTimeOffset=n.pts-n.dts,i.duration=n.duration,i.size=4*n.length,i.size+=n.byteLength,n.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},df=function(n,t){for(var r,u,f,e,o=t||0,s=[],i=0;i<n.length;i++)for(f=n[i],r=0;r<f.length;r++)e=f[r],u=kf(e,o),o+=u.size,s.push(u);return s},gf=function(n){for(var i,r,e,o,u,f=0,h=n.byteLength,c=n.nalCount,l=h+4*c,s=new Uint8Array(l),a=new DataView(s.buffer),t=0;t<n.length;t++)for(e=n[t],i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)u=o[r],a.setUint32(f,u.data.byteLength),f+=4,s.set(u.data,f),f+=u.data.byteLength;return s},rt={groupNalsIntoFrames:yf,groupFramesIntoGops:pf,extendFirstKeyFrame:wf,generateSampleTable:df,concatenateNalData:gf},ne=9e4,te=function(n,t){typeof t.pts=="number"&&(n.timelineStartInfo.pts===undefined&&(n.timelineStartInfo.pts=t.pts),n.minSegmentPts=n.minSegmentPts===undefined?t.pts:Math.min(n.minSegmentPts,t.pts),n.maxSegmentPts=n.maxSegmentPts===undefined?t.pts:Math.max(n.maxSegmentPts,t.pts));typeof t.dts=="number"&&(n.timelineStartInfo.dts===undefined&&(n.timelineStartInfo.dts=t.dts),n.minSegmentDts=n.minSegmentDts===undefined?t.dts:Math.min(n.minSegmentDts,t.dts),n.maxSegmentDts=n.maxSegmentDts===undefined?t.dts:Math.max(n.maxSegmentDts,t.dts))},ie=function(n){delete n.minSegmentDts;delete n.maxSegmentDts;delete n.minSegmentPts;delete n.maxSegmentPts},re=function(n,t){var i,r,u=n.minSegmentDts;return t||(u-=n.timelineStartInfo.dts),i=n.timelineStartInfo.baseMediaDecodeTime,i+=u,i=Math.max(0,i),n.type==="audio"&&(r=n.samplerate/ne,i*=r,i=Math.floor(i)),i},l={clearDtsInfo:ie,calculateTrackBaseMediaDecodeTime:re,collectDtsInfo:te},pu=4,ue=128,fe=function(n){for(var t=0,r={payloadType:-1,payloadSize:0},u=0,i=0;t<n.byteLength;){if(n[t]===ue)break;while(n[t]===255)u+=255,t++;for(u+=n[t++];n[t]===255;)i+=255,t++;if(i+=n[t++],!r.payload&&u===pu){r.payloadType=u;r.payloadSize=i;r.payload=n.subarray(t,t+i);break}t+=i;u=0;i=0}return r},ee=function(n){return n.payload[0]!==181?null:(n.payload[1]<<8|n.payload[2])!=49?null:String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])!=="GA94"?null:n.payload[7]!==3?null:n.payload.subarray(8,n.payload.length-1)},oe=function(n,t){var u=[],r,e,i,f;if(!(t[0]&64))return u;for(e=t[0]&31,r=0;r<e;r++)i=r*3,f={type:t[i+2]&3,pts:n},t[i+2]&4&&(f.ccData=t[i+3]<<8|t[i+4],u.push(f));return u},se=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f},ut={parseSei:fe,parseUserData:ee,parseCaptionPackets:oe,discardEmulationPreventionBytes:se,USER_DATA_REGISTERED_ITU_T_T35:pu},a=function a(){a.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)];this.reset();this.ccStreams_.forEach(function(n){n.on("data",this.trigger.bind(this,"data"));n.on("done",this.trigger.bind(this,"done"))},this)};a.prototype=new f;a.prototype.push=function(n){var t,i,r;if(n.nalUnitType==="sei_rbsp"&&(t=ut.parseSei(n.escapedRBSP),t.payloadType===ut.USER_DATA_REGISTERED_ITU_T_T35)&&(i=ut.parseUserData(t),i)){if(n.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--;this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}r=ut.parseCaptionPackets(n.pts,i);this.captionPackets_=this.captionPackets_.concat(r);this.latestDts_!==n.dts&&(this.numSameDts_=0);this.numSameDts_++;this.latestDts_=n.dts}};a.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(n){n.flush()},this);return}this.captionPackets_.forEach(function(n,t){n.presortIndex=t});this.captionPackets_.sort(function(n,t){return n.pts===t.pts?n.presortIndex-t.presortIndex:n.pts-t.pts});this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(n){n.flush()},this);return};a.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(n){n.reset()})};a.prototype.dispatchCea608Packet=function(n){(this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1),this.activeCea608Channel_[n.type]!==null)&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)};a.prototype.setsChannel1Active=function(n){return(n.ccData&30720)==4096};a.prototype.setsChannel2Active=function(n){return(n.ccData&30720)==6144};var he={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ct=function(n){return n===null?"":(n=he[n]||n,String.fromCharCode(n))},lt=14,ce=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],p=function(){for(var n=[],t=lt+1;t--;)n.push("");return n},u=function u(n,t){u.prototype.init.call(this);this.field_=n||0;this.dataChannel_=t||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(n){var t,e,r,i,u,f;if(t=n.ccData&32639,t===this.lastControlCode_){this.lastControlCode_=null;return}((t&61440)==4096?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=t&255,t!==this.PADDING_)&&(t===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":t===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),e=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=e,this.startPts_=n.pts):t===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(n.pts)):t===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(n.pts)):t===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(n.pts)):t===this.CARRIAGE_RETURN_?(this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts):t===this.BACKSPACE_?this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):t===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(n.pts),this.displayed_=p()):t===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=p():t===this.RESUME_DIRECT_CAPTIONING_?(this.mode_!=="paintOn"&&(this.flushDisplayed(n.pts),this.displayed_=p()),this.mode_="paintOn",this.startPts_=n.pts):this.isSpecialCharacter(r,i)?(r=(r&3)<<8,u=ct(r|i),this[this.mode_](n.pts,u),this.column_++):this.isExtCharacter(r,i)?(this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(r&3)<<8,u=ct(r|i),this[this.mode_](n.pts,u),this.column_++):this.isMidRowCode(r,i)?(this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,(i&14)==14&&this.addFormatting(n.pts,["i"]),(i&1)==1&&this.addFormatting(n.pts,["u"])):this.isOffsetControlCode(r,i)?this.column_+=i&3:this.isPAC(r,i)?(f=ce.indexOf(t&7968),this.mode_==="rollUp"&&this.setRollUp(n.pts,f),f!==this.row_&&(this.clearFormatting(n.pts),this.row_=f),i&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(n.pts,["u"]),(t&16)==16&&(this.column_=((t&14)>>1)*4),this.isColorPAC(i)&&(i&14)==14&&this.addFormatting(n.pts,["i"])):this.isNormalChar(r)&&(i===0&&(i=null),u=ct(r),u+=ct(i),this[this.mode_](n.pts,u),this.column_+=u.length))}};u.prototype=new f;u.prototype.flushDisplayed=function(n){var t=this.displayed_.map(function(n){return n.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:t,stream:this.name_})};u.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=p();this.nonDisplayed_=p();this.lastControlCode_=null;this.column_=0;this.row_=lt;this.rollUpRows_=2;this.formatting_=[]};u.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};u.prototype.isSpecialCharacter=function(n,t){return n===this.EXT_&&t>=48&&t<=63};u.prototype.isExtCharacter=function(n,t){return(n===this.EXT_+1||n===this.EXT_+2)&&t>=32&&t<=63};u.prototype.isMidRowCode=function(n,t){return n===this.EXT_&&t>=32&&t<=47};u.prototype.isOffsetControlCode=function(n,t){return n===this.OFFSET_&&t>=33&&t<=35};u.prototype.isPAC=function(n,t){return n>=this.BASE_&&n<this.BASE_+8&&t>=64&&t<=127};u.prototype.isColorPAC=function(n){return n>=64&&n<=79||n>=96&&n<=127};u.prototype.isNormalChar=function(n){return n>=32&&n<=127};u.prototype.setRollUp=function(n,t){if(this.mode_!=="rollUp"&&(this.row_=lt,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=p(),this.displayed_=p()),t!==undefined&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";t===undefined&&(t=this.row_);this.topRow_=t-this.rollUpRows_+1};u.prototype.addFormatting=function(n,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(n,t){return n+"<"+t+">"},"");this[this.mode_](n,i)};u.prototype.clearFormatting=function(n){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(n,t){return n+"<\/"+t+">"},"");this.formatting_=[];this[this.mode_](n,t)}};u.prototype.popOn=function(n,t){var i=this.nonDisplayed_[this.row_];i+=t;this.nonDisplayed_[this.row_]=i};u.prototype.rollUp=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};u.prototype.shiftRowsUp_=function(){for(var n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<lt+1;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""};u.prototype.paintOn=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};var ei={CaptionStream:a,Cea608Stream:u},o={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},le=8589934592,ae=4294967296,oi=function(n,t){var i=1;for(n>t&&(i=-1);Math.abs(t-n)>ae;)n+=i*le;return n},si=function si(n){var i,t;si.prototype.init.call(this);this.type_=n;this.push=function(n){n.type===this.type_&&(t===undefined&&(t=n.dts),n.dts=oi(n.dts,t),n.pts=oi(n.pts,t),i=n.dts,this.trigger("data",n))};this.flush=function(){t=i;this.trigger("done")};this.discontinuity=function(){t=void 0;i=void 0}};si.prototype=new f;var ve={TimestampRolloverStream:si,handleRollover:oi},wu=function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u},at=function(n,t,i){return decodeURIComponent(wu(n,t,i))},ye=function(n,t,i){return unescape(wu(n,t,i))},vt=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},bu={TXXX:function(n){var t;if(n.data[0]===3){for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=at(n.data,1,t);n.value=at(n.data,t+1,n.data.length).replace(/\0*$/,"");break}n.data=n.value}},WXXX:function(n){var t;if(n.data[0]===3)for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=at(n.data,1,t);n.url=at(n.data,t+1,n.data.length);break}},PRIV:function(n){for(var t=0;t<n.data.length;t++)if(n.data[t]===0){n.owner=ye(n.data,0,t);break}n.privateData=n.data.subarray(t+1);n.data=n.privateData}},yt;yt=function(n){var r={debug:!!(n&&n.debug),descriptor:n&&n.descriptor},i=0,t=[],u=0,f;if(yt.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(f=0;f<r.descriptor.length;f++)this.dispatchType+=("00"+r.descriptor[f].toString(16)).slice(-2);this.push=function(n){var f,e,c,o,h,a,s,l;if(n.type==="timed-metadata"){if(n.dataAlignmentIndicator&&(u=0,t.length=0),t.length===0&&(n.data.length<10||n.data[0]!=="I".charCodeAt(0)||n.data[1]!=="D".charCodeAt(0)||n.data[2]!=="3".charCodeAt(0))){r.debug&&console.log("Skipping unrecognized metadata packet");return}if(t.push(n),u+=n.data.byteLength,t.length===1&&(i=vt(n.data.subarray(6,10))+10),!(u<i)){for(f={data:new Uint8Array(i),frames:[],pts:t[0].pts,dts:t[0].dts},h=0;h<i;)f.data.set(t[0].data.subarray(0,i-h),h),h+=t[0].data.byteLength,u-=t[0].data.byteLength,t.shift();e=10;f.data[5]&64&&(e+=4,e+=vt(f.data.subarray(10,14)),i-=vt(f.data.subarray(16,20)));do{if(c=vt(f.data.subarray(e+4,e+8)),c<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");a=String.fromCharCode(f.data[e],f.data[e+1],f.data[e+2],f.data[e+3]);o={id:a,data:f.data.subarray(e+10,e+c+10)};o.key=o.id;bu[o.id]&&(bu[o.id](o),o.owner==="com.apple.streaming.transportStreamTimestamp"&&(s=o.data,l=(s[3]&1)<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,l*=4,l+=s[7]&3,o.timeStamp=l,f.pts===undefined&&f.dts===undefined&&(f.pts=o.timeStamp,f.dts=o.timeStamp),this.trigger("timestamp",o)));f.frames.push(o);e+=10;e+=c}while(e<i);this.trigger("data",f)}}}};yt.prototype=new f;var pe=yt,we=ve.TimestampRolloverStream,pt,ft,wt,k=188,hi=71;pt=function(){var t=new Uint8Array(k),n=0;pt.prototype.init.call(this);this.push=function(i){var u=0,f=k,r;for(n?(r=new Uint8Array(i.byteLength+n),r.set(t.subarray(0,n)),r.set(i,n),n=0):r=i;f<r.byteLength;){if(r[u]===hi&&r[f]===hi){this.trigger("data",r.subarray(u,f));u+=k;f+=k;continue}u++;f++}u<r.byteLength&&(t.set(r.subarray(u),0),n=r.byteLength-u)};this.flush=function(){n===k&&t[0]===hi&&(this.trigger("data",t),n=0);this.trigger("done")}};pt.prototype=new f;ft=function(){var t,i,r,n;ft.prototype.init.call(this);n=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;t=function(n,t){var u=0;t.payloadUnitStartIndicator&&(u+=n[u]+1);t.type==="pat"?i(n.subarray(u),t):r(n.subarray(u),t)};i=function(t,i){i.section_number=t[7];i.last_section_number=t[8];n.pmtPid=(t[10]&31)<<8|t[11];i.pmtPid=n.pmtPid};r=function(t,i){var e,s,h,r,u,f;if(t[5]&1){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},e=(t[1]&15)<<8|t[2],s=3+e-4,h=(t[10]&15)<<8|t[11],r=12+h;r<s;)u=t[r],f=(t[r+1]&31)<<8|t[r+2],u===o.H264_STREAM_TYPE&&n.programMapTable.video===null?n.programMapTable.video=f:u===o.ADTS_STREAM_TYPE&&n.programMapTable.audio===null?n.programMapTable.audio=f:u===o.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][f]=u),r+=((t[r+3]&15)<<8|t[r+4])+5;i.programMapTable=n.programMapTable}};this.push=function(n){var i={},r=4;if(i.payloadUnitStartIndicator=!!(n[1]&64),i.pid=n[1]&31,i.pid<<=8,i.pid|=n[2],(n[3]&48)>>>4>1&&(r+=n[r]+1),i.pid===0)i.type="pat",t(n.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(n.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===undefined?this.packetsWaitingForPmt.push([n,r,i]):this.processPes_(n,r,i)};this.processPes_=function(n,t,i){i.streamType=i.pid===this.programMapTable.video?o.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?o.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][i.pid];i.type="pes";i.data=n.subarray(t);this.trigger("data",i)}};ft.prototype=new f;ft.STREAM_TYPES={h264:27,adts:15};wt=function(){var t=this,i={data:[],size:0},r={data:[],size:0},u={data:[],size:0},f=function(n,t){var i;t.packetLength=6+(n[4]<<8|n[5]);t.dataAlignmentIndicator=(n[6]&4)!=0;i=n[7];i&192&&(t.pts=(n[9]&14)<<27|(n[10]&255)<<20|(n[11]&254)<<12|(n[12]&255)<<5|(n[13]&254)>>>3,t.pts*=4,t.pts+=(n[13]&6)>>>1,t.dts=t.pts,i&64&&(t.dts=(n[14]&14)<<27|(n[15]&255)<<20|(n[16]&254)<<12|(n[17]&255)<<5|(n[18]&254)>>>3,t.dts*=4,t.dts+=(n[18]&6)>>>1));t.data=n.subarray(9+n[8])},n=function(n,i,r){var h=new Uint8Array(n.size),u={type:i},e=0,c=0,o=!1,s;if(n.data.length&&!(n.size<9)){for(u.trackId=n.data[0].pid,e=0;e<n.data.length;e++)s=n.data[e],h.set(s.data,c),c+=s.data.byteLength;f(h,u);o=i==="video"||u.packetLength<=n.size;(r||o)&&(n.size=0,n.data.length=0);o&&t.trigger("data",u)}};wt.prototype.init.call(this);this.push=function(f){({pat:function(){},pes:function(){var t,e;switch(f.streamType){case o.H264_STREAM_TYPE:case o.H264_STREAM_TYPE:t=i;e="video";break;case o.ADTS_STREAM_TYPE:t=r;e="audio";break;case o.METADATA_STREAM_TYPE:t=u;e="timed-metadata";break;default:return}f.payloadUnitStartIndicator&&n(t,e,!0);t.data.push(f);t.size+=f.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]},n=f.programMapTable;n.video!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"});n.audio!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"});t.trigger("data",i)}})[f.type]()};this.flush=function(){n(i,"video");n(r,"audio");n(u,"timed-metadata");this.trigger("done")}};wt.prototype=new f;ci={PAT_PID:0,MP2T_PACKET_LENGTH:k,TransportPacketStream:pt,TransportParseStream:ft,ElementaryStream:wt,TimestampRolloverStream:we,CaptionStream:ei.CaptionStream,Cea608Stream:ei.Cea608Stream,MetadataStream:pe};for(bt in o)o.hasOwnProperty(bt)&&(ci[bt]=o[bt]);h=ci;li=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];kt=function(){var n;kt.prototype.init.call(this);this.push=function(t){var i=0,f=0,s,h,r,u,e,o;if(t.type==="audio")for(n?(u=n,n=new Uint8Array(u.byteLength+t.data.byteLength),n.set(u),n.set(t.data,u.byteLength)):n=t.data;i+5<n.length;){if(n[i]!==255||(n[i+1]&246)!=240){i++;continue}if(h=(~n[i+1]&1)*2,s=(n[i+3]&3)<<11|n[i+4]<<3|(n[i+5]&224)>>5,e=((n[i+6]&3)+1)*1024,o=e*9e4/li[(n[i+2]&60)>>>2],r=i+s,n.byteLength<r)return;if(this.trigger("data",{pts:t.pts+f*o,dts:t.dts+f*o,sampleCount:e,audioobjecttype:(n[i+2]>>>6&3)+1,channelcount:(n[i+2]&1)<<2|(n[i+3]&192)>>>6,samplerate:li[(n[i+2]&60)>>>2],samplingfrequencyindex:(n[i+2]&60)>>>2,samplesize:16,data:n.subarray(i+7+h,r)}),n.byteLength===r){n=undefined;return}f++;n=n.subarray(r)}};this.flush=function(){this.trigger("done")}};kt.prototype=new f;ai=kt;ku=function(n){var i=n.byteLength,r=0,t=0;this.length=function(){return 8*i};this.bitsAvailable=function(){return 8*i+t};this.loadWord=function(){var f=n.byteLength-i,e=new Uint8Array(4),u=Math.min(4,i);if(u===0)throw new Error("no bytes available");e.set(n.subarray(f,f+u));r=new DataView(e.buffer).getUint32(0);t=u*8;i-=u};this.skipBits=function(n){var u;t>n?(r<<=n,t-=n):(n-=t,u=Math.floor(n/8),n-=u*8,i-=u,this.loadWord(),r<<=n,t-=n)};this.readBits=function(n){var u=Math.min(t,n),f=r>>>32-u;return(t-=u,t>0?r<<=u:i>0&&this.loadWord(),u=n-u,u>0)?f<<u|this.readBits(u):f};this.skipLeadingZeros=function(){for(var n=0;n<t;++n)if((r&2147483648>>>n)!=0)return r<<=n,t-=n,n;return this.loadWord(),n+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var n=this.skipLeadingZeros();return this.readBits(n+1)-1};this.readExpGolomb=function(){var n=this.readUnsignedExpGolomb();return 1&n?1+n>>>1:-1*(n>>>1)};this.readBoolean=function(){return this.readBits(1)===1};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};du=ku;et=function(){var i=0,t,n;et.prototype.init.call(this);this.push=function(r){var u;for(n?(u=new Uint8Array(n.byteLength+r.data.byteLength),u.set(n),u.set(r.data,n.byteLength),n=u):n=r.data;i<n.byteLength-3;i++)if(n[i+2]===1){t=i+5;break}while(t<n.byteLength)switch(n[t]){case 0:if(n[t-1]!==0){t+=2;break}else if(n[t-2]!==0){t++;break}i+3!==t-2&&this.trigger("data",n.subarray(i+3,t-2));do t++;while(n[t]!==1&&t<n.length);i=t-2;t+=3;break;case 1:if(n[t-1]!==0||n[t-2]!==0){t+=3;break}this.trigger("data",n.subarray(i+3,t-2));i=t-2;t+=3;break;default:t+=3}n=n.subarray(i);t-=i;i=0};this.flush=function(){n&&n.byteLength>3&&this.trigger("data",n.subarray(i+3));n=null;i=0;this.trigger("done")}};et.prototype=new f;gu={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};dt=function(){var n=new et,t,u,f,e,i,o,r;dt.prototype.init.call(this);t=this;this.push=function(t){t.type==="video"&&(u=t.trackId,f=t.pts,e=t.dts,n.push(t))};n.on("data",function(n){var r={trackId:u,pts:f,dts:e,data:n};switch(n[0]&31){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp";r.escapedRBSP=i(n.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp";r.escapedRBSP=i(n.subarray(1));r.config=o(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)});n.on("done",function(){t.trigger("done")});this.flush=function(){n.flush()};r=function(n,t){for(var r=8,i=8,f,u=0;u<n;u++)i!==0&&(f=t.readExpGolomb(),i=(r+f+256)%256),r=i===0?r:i};i=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f};o=function(n){var h=0,c=0,l=0,a=0,v=1,t,f,y,p,e,o,w,b,k,s,d,i,g,u;if(t=new du(n),f=t.readUnsignedByte(),p=t.readUnsignedByte(),y=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),gu[f]&&(e=t.readUnsignedExpGolomb(),e===3&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=e!==3?8:12,u=0;u<d;u++)t.readBoolean()&&(u<6?r(16,t):r(64,t));if(t.skipUnsignedExpGolomb(),o=t.readUnsignedExpGolomb(),o===0)t.readUnsignedExpGolomb();else if(o===1)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),w=t.readUnsignedExpGolomb(),u=0;u<w;u++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),b=t.readUnsignedExpGolomb(),k=t.readUnsignedExpGolomb(),s=t.readBits(1),s===0&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),a=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){g=t.readUnsignedByte();switch(g){case 1:i=[1,1];break;case 2:i=[12,11];break;case 3:i=[10,11];break;case 4:i=[16,11];break;case 5:i=[40,33];break;case 6:i=[24,11];break;case 7:i=[20,11];break;case 8:i=[32,11];break;case 9:i=[80,33];break;case 10:i=[18,11];break;case 11:i=[15,11];break;case 12:i=[64,33];break;case 13:i=[160,99];break;case 14:i=[4,3];break;case 15:i=[3,2];break;case 16:i=[2,1];break;case 255:i=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}i&&(v=i[0]/i[1])}return{profileIdc:f,levelIdc:y,profileCompatibility:p,width:Math.ceil(((b+1)*16-h*2-c*2)*v),height:(2-s)*(k+1)*16-l*2-a*2}}};dt.prototype=new f;nf={H264Stream:dt,NalByteStream:et};gt=function(){var n=new Uint8Array,t=0;gt.prototype.init.call(this);this.setTimestamp=function(n){t=n};this.parseId3TagSize=function(n,t){var i=n[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9],r=n[t+5],u=(r&16)>>4;return u?i+20:i+10};this.parseAdtsSize=function(n,t){var i=(n[t+5]&224)>>5,r=n[t+4]<<3,u=n[t+3]&6144;return u|r|i};this.push=function(i){var u=0,r=0,e,o,s,f;for(n.length?(f=n.length,n=new Uint8Array(i.byteLength+f),n.set(n.subarray(0,f)),n.set(i,f)):n=i;n.length-r>=3;){if(n[r]==="I".charCodeAt(0)&&n[r+1]==="D".charCodeAt(0)&&n[r+2]==="3".charCodeAt(0)){if(n.length-r<10)break;if(u=this.parseId3TagSize(n,r),u>n.length)break;o={type:"timed-metadata",data:n.subarray(r,r+u)};this.trigger("data",o);r+=u;continue}else if(n[r]&!0&&(n[r+1]&240)==240){if(n.length-r<7)break;if(u=this.parseAdtsSize(n,r),u>n.length)break;s={type:"audio",data:n.subarray(r,r+u),pts:t,dts:t};this.trigger("data",s);r+=u;continue}r++}e=n.length-r;n=e>0?n.subarray(r):new Uint8Array}};gt.prototype=new f;var be=gt,y=[33,16,5,32,164,27],vi=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],r=function(n){for(var t=[];n--;)t.push(0);return t},ke=function(n){return Object.keys(n).reduce(function(t,i){return t[i]=new Uint8Array(n[i].reduce(function(n,t){return n.concat(t)},[])),t},{})},de={96e3:[y,[227,64],r(154),[56]],88200:[y,[231],r(170),[56]],64e3:[y,[248,192],r(240),[56]],48e3:[y,[255,192],r(268),[55,148,128],r(54),[112]],44100:[y,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[y,[255,192],r(268),[55,234],r(226),[112]],24e3:[y,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[y,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[vi,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[vi,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[vi,r(268),[3,121,16],r(47),[7]]},ge=ke(de),tf=9e4,yi,pi,wi,bi,rf,uf;yi=function(n){return n*tf};pi=function(n,t){return n*t};wi=function(n){return n/tf};bi=function(n,t){return n/t};rf=function(n,t){return yi(bi(n,t))};uf=function(n,t){return pi(wi(n),t)};var ff={secondsToVideoTs:yi,secondsToAudioTs:pi,videoTsToSeconds:wi,audioTsToSeconds:bi,audioTsToVideoTs:rf,videoTsToAudioTs:uf},no=nf.H264Stream,ki=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],di=["width","height","profileIdc","levelIdc","profileCompatibility"],ef=9e4,ot,g,ni,nt,sf,gi,hf;sf=function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?!0:!1};gi=function(n,t){var i;if(n.length!==t.length)return!1;for(i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0};hf=function(n){for(var i,r=0,t=0;t<n.length;t++)i=n[t],r+=i.data.byteLength;return r};g=function(n,t){var i=[],e=0,r=0,u=0,f=Infinity;t=t||{};g.prototype.init.call(this);this.push=function(t){l.collectDtsInfo(n,t);n&&ki.forEach(function(i){n[i]=t[i]});i.push(t)};this.setEarliestDts=function(t){r=t-n.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(n){f=n};this.setAudioAppendStart=function(n){u=n};this.flush=function(){var r,u,o,f;if(i.length===0){this.trigger("done","AudioSegmentStream");return}r=this.trimAdtsFramesByEarliestDts_(i);n.baseMediaDecodeTime=l.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);this.prefixWithSilence_(n,r);n.samples=this.generateSampleTable_(r);o=w.mdat(this.concatenateFrameData_(r));i=[];u=w.moof(e,[n]);f=new Uint8Array(u.byteLength+o.byteLength);e++;f.set(u);f.set(o,u.byteLength);l.clearDtsInfo(n);this.trigger("data",{track:n,boxes:f});this.trigger("done","AudioSegmentStream")};this.prefixWithSilence_=function(n,t){var h,o=0,c=0,i=0,s=0,r,e;if(t.length&&(h=ff.audioTsToVideoTs(n.baseMediaDecodeTime,n.samplerate),o=Math.ceil(ef/(n.samplerate/1024)),u&&f&&(c=h-Math.max(u,f),i=Math.floor(c/o),s=i*o),!(i<1)&&!(s>ef/2))){for(r=ge[n.samplerate],r||(r=t[0].data),e=0;e<i;e++)t.splice(e,0,{data:r});n.baseMediaDecodeTime-=Math.floor(ff.videoTsToAudioTs(s,n.samplerate))}};this.trimAdtsFramesByEarliestDts_=function(t){return n.minSegmentDts>=r?t:(n.minSegmentDts=Infinity,t.filter(function(t){return t.dts>=r?(n.minSegmentDts=Math.min(n.minSegmentDts,t.dts),n.minSegmentPts=n.minSegmentDts,!0):!1}))};this.generateSampleTable_=function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r.push({size:i.data.byteLength,duration:1024});return r};this.concatenateFrameData_=function(n){for(var i,r=0,u=new Uint8Array(hf(n)),t=0;t<n.length;t++)i=n[t],u.set(i.data,r),r+=i.data.byteLength;return u}};g.prototype=new f;ot=function(n,t){var e=0,i=[],r=[],u,f;t=t||{};ot.prototype.init.call(this);delete n.minPTS;this.gopCache_=[];this.push=function(t){l.collectDtsInfo(n,t);t.nalUnitType!=="seq_parameter_set_rbsp"||u||(u=t.config,n.sps=[t.data],di.forEach(function(t){n[t]=u[t]},this));t.nalUnitType!=="pic_parameter_set_rbsp"||f||(f=t.data,n.pps=[t.data]);i.push(t)};this.flush=function(){for(var a,f,u,o,h,s,c;i.length;){if(i[0].nalUnitType==="access_unit_delimiter_rbsp")break;i.shift()}if(i.length===0){this.resetStream_();this.trigger("done","VideoSegmentStream");return}if(a=rt.groupNalsIntoFrames(i),u=rt.groupFramesIntoGops(a),u[0][0].keyFrame||(f=this.getGopForFusion_(i[0],n),f?(u.unshift(f),u.byteLength+=f.byteLength,u.nalCount+=f.nalCount,u.pts=f.pts,u.dts=f.dts,u.duration+=f.duration):u=rt.extendFirstKeyFrame(u)),r.length){if(c=t.alignGopsAtEnd?this.alignGopsAtEnd_(u):this.alignGopsAtStart_(u),!c){this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}l.clearDtsInfo(n);u=c}l.collectDtsInfo(n,u);n.samples=rt.generateSampleTable(u);h=w.mdat(rt.concatenateNalData(u));n.baseMediaDecodeTime=l.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);this.trigger("processedGopsInfo",u.map(function(n){return{pts:n.pts,dts:n.dts,byteLength:n.byteLength}}));this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.trigger("baseMediaDecodeTime",n.baseMediaDecodeTime);this.trigger("timelineStartInfo",n.timelineStartInfo);o=w.moof(e,[n]);s=new Uint8Array(o.byteLength+h.byteLength);e++;s.set(o);s.set(h,o.byteLength);this.trigger("data",{track:n,boxes:s});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.resetStream_=function(){l.clearDtsInfo(n);u=undefined;f=undefined};this.getGopForFusion_=function(t){for(var o=Infinity,i,u,f,r,e=0;e<this.gopCache_.length;e++)(r=this.gopCache_[e],f=r.gop,n.pps&&gi(n.pps[0],r.pps[0])&&n.sps&&gi(n.sps[0],r.sps[0]))&&(f.dts<n.timelineStartInfo.dts||(i=t.dts-f.dts-f.duration,i>=-1e4&&i<=45e3&&(!u||o>i)&&(u=r,o=i)));return u?u.gop:null};this.alignGopsAtStart_=function(n){var f,i,e,u,o,s,h,t;for(o=n.byteLength,s=n.nalCount,h=n.duration,f=i=0;f<r.length&&i<n.length;){if(e=r[f],u=n[i],e.pts===u.pts)break;if(u.pts>e.pts){f++;continue}i++;o-=u.byteLength;s-=u.nalCount;h-=u.duration}return i===0?n:i===n.length?null:(t=n.slice(i),t.byteLength=o,t.duration=h,t.nalCount=s,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsAtEnd_=function(n){var u,i,s,h,f,e,c,t,o;for(u=r.length-1,i=n.length-1,f=null,e=!1;u>=0&&i>=0;){if(s=r[u],h=n[i],s.pts===h.pts){e=!0;break}if(s.pts>h.pts){u--;continue}u===r.length-1&&(f=i);i--}return!e&&f===null?null:(c=e?i:f,c===0)?n:(t=n.slice(c),o=t.reduce(function(n,t){return n.byteLength+=t.byteLength,n.duration+=t.duration,n.nalCount+=t.nalCount,n},{byteLength:0,duration:0,nalCount:0}),t.byteLength=o.byteLength,t.duration=o.duration,t.nalCount=o.nalCount,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsWith=function(n){r=n}};ot.prototype=new f;nt=function(n,t){this.numberOfTracks=0;this.metadataStream=t;this.remuxTracks=typeof n.remux!="undefined"?!!n.remux:!0;this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;nt.prototype.init.call(this);this.push=function(n){if(n.text)return this.pendingCaptions.push(n);if(n.frames)return this.pendingMetadata.push(n);this.pendingTracks.push(n.track);this.pendingBoxes.push(n.boxes);this.pendingBytes+=n.boxes.byteLength;n.track.type==="video"&&(this.videoTrack=n.track);n.track.type==="audio"&&(this.audioTrack=n.track)}};nt.prototype=new f;nt.prototype.flush=function(n){var o=0,i={captions:[],captionStreams:{},metadata:[],info:{}},r,u,e,f=0,t;if(this.pendingTracks.length<this.numberOfTracks){if(n!=="VideoSegmentStream"&&n!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++;this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}for(this.videoTrack?(f=this.videoTrack.timelineStartInfo.pts,di.forEach(function(n){i.info[n]=this.videoTrack[n]},this)):this.audioTrack&&(f=this.audioTrack.timelineStartInfo.pts,ki.forEach(function(n){i.info[n]=this.audioTrack[n]},this)),i.type=this.pendingTracks.length===1?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,e=w.initSegment(this.pendingTracks),i.initSegment=new Uint8Array(e.byteLength),i.initSegment.set(e),i.data=new Uint8Array(this.pendingBytes),t=0;t<this.pendingBoxes.length;t++)i.data.set(this.pendingBoxes[t],o),o+=this.pendingBoxes[t].byteLength;for(t=0;t<this.pendingCaptions.length;t++)r=this.pendingCaptions[t],r.startTime=r.startPts-f,r.startTime/=9e4,r.endTime=r.endPts-f,r.endTime/=9e4,i.captionStreams[r.stream]=!0,i.captions.push(r);for(t=0;t<this.pendingMetadata.length;t++)u=this.pendingMetadata[t],u.cueTime=u.pts-f,u.cueTime/=9e4,i.metadata.push(u);i.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;this.trigger("data",i);this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};ni=function(n){var r=this,u=!0,i,t;ni.prototype.init.call(this);n=n||{};this.baseMediaDecodeTime=n.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i;i.type="aac";i.metadataStream=new h.MetadataStream;i.aacStream=new be;i.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio");i.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata");i.adtsStream=new ai;i.coalesceStream=new nt(n,i.metadataStream);i.headOfPipeline=i.aacStream;i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream);i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream);i.metadataStream.on("timestamp",function(n){i.aacStream.setTimestamp(n.timeStamp)});i.aacStream.on("data",function(u){u.type!=="timed-metadata"||i.audioSegmentStream||(t=t||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new g(t,n),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))});i.coalesceStream.on("data",this.trigger.bind(this,"data"));i.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var u={};this.transmuxPipeline_=u;u.type="ts";u.metadataStream=new h.MetadataStream;u.packetStream=new h.TransportPacketStream;u.parseStream=new h.TransportParseStream;u.elementaryStream=new h.ElementaryStream;u.videoTimestampRolloverStream=new h.TimestampRolloverStream("video");u.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio");u.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata");u.adtsStream=new ai;u.h264Stream=new no;u.captionStream=new h.CaptionStream;u.coalesceStream=new nt(n,u.metadataStream);u.headOfPipeline=u.packetStream;u.packetStream.pipe(u.parseStream).pipe(u.elementaryStream);u.elementaryStream.pipe(u.videoTimestampRolloverStream).pipe(u.h264Stream);u.elementaryStream.pipe(u.audioTimestampRolloverStream).pipe(u.adtsStream);u.elementaryStream.pipe(u.timedMetadataTimestampRolloverStream).pipe(u.metadataStream).pipe(u.coalesceStream);u.h264Stream.pipe(u.captionStream).pipe(u.coalesceStream);u.elementaryStream.on("data",function(f){var e;if(f.type==="metadata"){for(e=f.tracks.length;e--;)i||f.tracks[e].type!=="video"?t||f.tracks[e].type!=="audio"||(t=f.tracks[e],t.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(i=f.tracks[e],i.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime);if(i&&!u.videoSegmentStream){u.coalesceStream.numberOfTracks++;u.videoSegmentStream=new ot(i,n);u.videoSegmentStream.on("timelineStartInfo",function(n){t&&(t.timelineStartInfo=n,u.audioSegmentStream.setEarliestDts(n.dts))});u.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo"));u.videoSegmentStream.on("baseMediaDecodeTime",function(n){t&&u.audioSegmentStream.setVideoBaseMediaDecodeTime(n)});u.h264Stream.pipe(u.videoSegmentStream).pipe(u.coalesceStream)}t&&!u.audioSegmentStream&&(u.coalesceStream.numberOfTracks++,u.audioSegmentStream=new g(t,n),u.adtsStream.pipe(u.audioSegmentStream).pipe(u.coalesceStream))}});u.coalesceStream.on("data",this.trigger.bind(this,"data"));u.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=n;t&&(t.timelineStartInfo.dts=undefined,t.timelineStartInfo.pts=undefined,l.clearDtsInfo(t),t.timelineStartInfo.baseMediaDecodeTime=n,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity());i&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=undefined,i.timelineStartInfo.pts=undefined,l.clearDtsInfo(i),r.captionStream.reset(),i.timelineStartInfo.baseMediaDecodeTime=n);r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()};this.setAudioAppendStart=function(n){t&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(n)};this.alignGopsWith=function(n){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(n)};this.push=function(n){if(u){var t=sf(n);t&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():t||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline();u=!1}this.transmuxPipeline_.headOfPipeline.push(n)};this.flush=function(){u=!0;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};ni.prototype=new f;var nr={Transmuxer:ni,VideoSegmentStream:ot,AudioSegmentStream:g,AUDIO_PROPERTIES:ki,VIDEO_PROPERTIES:di},e,tr,ti=v.parseType,c=function(n){return new Date(n*1e3-20828448e5)},cf=function(n){return{isLeading:(n[0]&12)>>>2,dependsOn:n[0]&3,isDependedOn:(n[1]&192)>>>6,hasRedundancy:(n[1]&48)>>>4,paddingValue:(n[1]&14)>>>1,isNonSyncSample:n[1]&1,degradationPriority:n[2]<<8|n[3]}},to=function(n){for(var u=new DataView(n.buffer,n.byteOffset,n.byteLength),t=[],r,i=0;i+4<n.length;i+=r){if(r=u.getUint32(i),i+=4,r<=0){t.push("<span style='color:red;'>MALFORMED DATA<\/span>");continue}switch(n[i]&31){case 1:t.push("slice_layer_without_partitioning_rbsp");break;case 5:t.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:t.push("sei_rbsp");break;case 7:t.push("seq_parameter_set_rbsp");break;case 8:t.push("pic_parameter_set_rbsp");break;case 9:t.push("access_unit_delimiter_rbsp");break;default:t.push("UNKNOWN NAL - "+n[i]&31)}}return t},tt={avc1:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:e(n.subarray(78,n.byteLength))}},avcC:function(n){for(var f=new DataView(n.buffer,n.byteOffset,n.byteLength),u={configurationVersion:n[0],avcProfileIndication:n[1],profileCompatibility:n[2],avcLevelIndication:n[3],lengthSizeMinusOne:n[4]&3,sps:[],pps:[]},o=n[5]&31,e,i,t=6,r=0;r<o;r++)i=f.getUint16(t),t+=2,u.sps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;for(e=n[t],t++,r=0;r<e;r++)i=f.getUint16(t),t+=2,u.pps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;return u},btrt:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),esId:n[6]<<8|n[7],streamPriority:n[8]&31,decoderConfig:{objectProfileIndication:n[11],streamType:n[12]>>>2&63,bufferSize:n[13]<<16|n[14]<<8|n[15],maxBitrate:n[16]<<24|n[17]<<16|n[18]<<8|n[19],avgBitrate:n[20]<<24|n[21]<<16|n[22]<<8|n[23],decoderConfigDescriptor:{tag:n[24],length:n[25],audioObjectType:n[26]>>>3&31,samplingFrequencyIndex:(n[26]&7)<<1|n[27]>>>7&1,channelConfiguration:n[27]>>>3&15}}}},ftyp:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={majorBrand:ti(n.subarray(0,4)),minorVersion:r.getUint32(4),compatibleBrands:[]},t=8;t<n.byteLength;)i.compatibleBrands.push(ti(n.subarray(t,t+4))),t+=4;return i},dinf:function(n){return{boxes:e(n)}},dref:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),dataReferences:e(n.subarray(8))}},hdlr:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),handlerType:ti(n.subarray(8,12)),name:""},t=8,t=24;t<n.byteLength;t++){if(n[t]===0){t++;break}i.name+=String.fromCharCode(n[t])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(n){return{byteLength:n.byteLength,nals:to(n)}},mdhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,u,i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),language:""};return i.version===1?(t+=4,i.creationTime=c(r.getUint32(t)),t+=8,i.modificationTime=c(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=8,i.duration=r.getUint32(t)):(i.creationTime=c(r.getUint32(t)),t+=4,i.modificationTime=c(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=4,i.duration=r.getUint32(t)),t+=4,u=r.getUint16(t),i.language+=String.fromCharCode((u>>10)+96),i.language+=String.fromCharCode(((u&992)>>5)+96),i.language+=String.fromCharCode((u&31)+96),i},mdia:function(n){return{boxes:e(n)}},mfhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sequenceNumber:n[4]<<24|n[5]<<16|n[6]<<8|n[7]}},minf:function(n){return{boxes:e(n)}},mp4a:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return n.byteLength>28&&(i.streamDescriptor=e(n.subarray(28))[0]),i},moof:function(n){return{boxes:e(n)}},moov:function(n){return{boxes:e(n)}},mvex:function(n){return{boxes:e(n)}},mvhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=c(i.getUint32(t)),t+=8,r.modificationTime=c(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=8,r.duration=i.getUint32(t)):(r.creationTime=c(i.getUint32(t)),t+=4,r.modificationTime=c(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=4,r.duration=i.getUint32(t)),t+=4,r.rate=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,t+=8,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,t+=24,r.nextTrackId=i.getUint32(t),r},pdin:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(n){for(var i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},t=4;t<n.byteLength;t++)i.samples.push({dependsOn:(n[t]&48)>>4,isDependedOn:(n[t]&12)>>2,hasRedundancy:n[t]&3});return i},sidx:function(n){for(var t=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},u=t.getUint16(22),i=24;u;i+=12,u--)r.references.push({referenceType:(n[i]&128)>>>7,referencedSize:t.getUint32(i)&2147483647,subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(n[i+8]&128),sapType:(n[i+8]&112)>>>4,sapDeltaTime:t.getUint32(i+8)&268435455});return r},smhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),balance:n[4]+n[5]/256}},stbl:function(n){return{boxes:e(n)}},stco:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),chunkOffsets:[]},u=i.getUint32(4),t=8;u;t+=4,u--)r.chunkOffsets.push(i.getUint32(t));return r},stsc:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r=i.getUint32(4),u={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleToChunks:[]},t=8;r;t+=12,r--)u.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return u},stsd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleDescriptions:e(n.subarray(8))}},stsz:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]},t=12;t<n.byteLength;t+=4)r.entries.push(i.getUint32(t));return r},stts:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),timeToSamples:[]},u=i.getUint32(4),t=8;u;t+=8,u--)r.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return r},styp:function(n){return tt.ftyp(n)},tfdt:function(n){var t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),baseMediaDecodeTime:n[4]<<24|n[5]<<16|n[6]<<8|n[7]};return t.version===1&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n[8]<<24|n[9]<<16|n[10]<<8|n[11]),t},tfhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:r.getUint32(4)},u=t.flags[2]&1,f=t.flags[2]&2,e=t.flags[2]&8,o=t.flags[2]&16,s=t.flags[2]&32,h=t.flags[0]&65536,c=t.flags[0]&131072,i;return i=8,u&&(i+=4,t.baseDataOffset=r.getUint32(12),i+=4),f&&(t.sampleDescriptionIndex=r.getUint32(i),i+=4),e&&(t.defaultSampleDuration=r.getUint32(i),i+=4),o&&(t.defaultSampleSize=r.getUint32(i),i+=4),s&&(t.defaultSampleFlags=r.getUint32(i)),h&&(t.durationIsEmpty=!0),!u&&c&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=c(i.getUint32(t)),t+=8,r.modificationTime=c(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=8,r.duration=i.getUint32(t)):(r.creationTime=c(i.getUint32(t)),t+=4,r.modificationTime=c(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=4,r.duration=i.getUint32(t)),t+=4,t+=8,r.layer=i.getUint16(t),t+=2,r.alternateGroup=i.getUint16(t),t+=2,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,r.width=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.height=i.getUint16(t)+i.getUint16(t+2)/16,r},traf:function(n){return{boxes:e(n)}},trak:function(n){return{boxes:e(n)}},trex:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:n[20]&3,sampleIsDependedOn:(n[21]&192)>>6,sampleHasRedundancy:(n[21]&48)>>4,samplePaddingValue:(n[21]&14)>>1,sampleIsDifferenceSample:!!(n[21]&1),sampleDegradationPriority:t.getUint16(22)}},trun:function(n){var r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},u=new DataView(n.buffer,n.byteOffset,n.byteLength),h=r.flags[2]&1,c=r.flags[2]&4,e=r.flags[1]&1,o=r.flags[1]&2,l=r.flags[1]&4,s=r.flags[1]&8,f=u.getUint32(4),t=8,i;for(h&&(r.dataOffset=u.getInt32(t),t+=4),c&&f&&(i={flags:cf(n.subarray(t,t+4))},t+=4,e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i),f--);f--;)i={},e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),l&&(i.flags=cf(n.subarray(t,t+4)),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i);return r},"url ":function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4))}},vmhd:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};e=function(n){for(var t=0,o=[],s,i,f,e,r,h=new ArrayBuffer(n.length),c=new Uint8Array(h),u=0;u<n.length;++u)c[u]=n[u];for(s=new DataView(h);t<n.byteLength;)i=s.getUint32(t),f=ti(n.subarray(t+4,t+8)),e=i>1?t+i:n.byteLength,r=(tt[f]||function(n){return{data:n}})(n.subarray(t+8,e)),r.size=i,r.type=f,o.push(r),t=e;return o};tr=function(n,t){var i;return t=t||0,i=new Array(t*2+1).join(" "),n.map(function(n){return i+n.type+"\n"+Object.keys(n).filter(function(n){return n!=="type"&&n!=="boxes"}).map(function(t){var f=i+"  "+t+": ",r=n[t],u;return r instanceof Uint8Array||r instanceof Uint32Array?(u=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(n){return" "+("00"+n.toString(16)).slice(-2)}).join("").match(/.{1,24}/g),!u)?f+"<>":u.length===1?f+"<"+u.join("").slice(1)+">":f+"<\n"+u.map(function(n){return i+"  "+n}).join("\n")+"\n"+i+"  >":f+JSON.stringify(r,null,2).split("\n").map(function(n,t){return t===0?n:i+"  "+n}).join("\n")}).join("\n")+(n.boxes?"\n"+tr(n.boxes,t+1):"")}).join("\n")};var ir={inspect:e,textify:tr,parseTfdt:tt.tfdt,parseHdlr:tt.hdlr,parseTfhd:tt.tfhd,parseTrun:tt.trun},io=ut.discardEmulationPreventionBytes,ro=ei.CaptionStream,uo=function(n,t){for(var i,u=n,r=0;r<t.length;r++){if(i=t[r],u<i.size)return i;u-=i.size}return null},fo=function(n,t,i){for(var c=new DataView(n.buffer,n.byteOffset,n.byteLength),h=[],u,f,o,s,e,r=0;r+4<n.length;r+=f)if(f=c.getUint32(r),r+=4,!(f<=0))switch(n[r]&31){case 6:s=n.subarray(r+1,r+1+f);e=uo(r,t);u={nalUnitType:"sei_rbsp",size:f,data:s,escapedRBSP:io(s),trackId:i};e?(u.pts=e.pts,u.dts=e.dts,o=e):(u.pts=o.pts,u.dts=o.dts);h.push(u)}return h},eo=function(n,t,i){var r=t,f=i.defaultSampleDuration||0,e=i.defaultSampleSize||0,o=i.trackId,u=[];return n.forEach(function(n){var i=ir.parseTrun(n),t=i.samples;t.forEach(function(n){n.duration===undefined&&(n.duration=f);n.size===undefined&&(n.size=e);n.trackId=o;n.dts=r;n.compositionTimeOffset===undefined&&(n.compositionTimeOffset=0);n.pts=r+n.compositionTimeOffset;r+=n.duration});u=u.concat(t)}),u},oo=function(n,t){var u=v.findBox(n,["moof","traf"]),f=v.findBox(n,["mdat"]),i={},r=[];return f.forEach(function(n,t){var i=u[t];r.push({mdat:n,traf:i})}),r.forEach(function(n){var c=n.mdat,u=n.traf,l=v.findBox(u,["tfhd"]),f=ir.parseTfhd(l[0]),r=f.trackId,e=v.findBox(u,["tfdt"]),a=e.length>0?ir.parseTfdt(e[0]).baseMediaDecodeTime:0,o=v.findBox(u,["trun"]),s,h;t===r&&o.length>0&&(s=eo(o,a,f),h=fo(c,s,r),i[r]||(i[r]=[]),i[r]=i[r].concat(h))}),i},so=function(n,t,i){var r;return t?(r=oo(n,t),{seiNals:r[t],timescale:i}):null},ho=function(){var f=!1,r,u,n,t,i;this.isInitialized=function(){return f};this.init=function(){r=new ro;f=!0;r.on("data",function(n){n.startTime=n.startPts/t;n.endTime=n.endPts/t;i.captions.push(n);i.captionStreams[n.stream]=!0})};this.isNewInit=function(i,r){return i&&i.length===0||r&&(typeof r=="undefined"?"undefined":d(r))==="object"&&Object.keys(r).length===0?!1:n!==i[0]||t!==r[n]};this.parse=function(r,f,e){var o,s;if(this.isInitialized())if(f&&e){if(this.isNewInit(f,e))n=f[0],t=e[n];else if(!n||!t)return u.push(r),null}else return null;else return null;while(u.length>0)s=u.shift(),this.parse(s,f,e);return(o=so(r,n,t),o===null||!o.seiNals)?null:(this.pushNals(o.seiNals),this.flushStream(),i)};this.pushNals=function(n){if(!this.isInitialized()||!n||n.length===0)return null;n.forEach(function(n){r.push(n)})};this.flushStream=function(){if(!this.isInitialized())return null;r.flush()};this.clearParsedCaptions=function(){i.captions=[];i.captionStreams={}};this.resetCaptionStream=function(){if(!this.isInitialized())return null;r.reset()};this.clearAllCaptions=function(){this.clearParsedCaptions();this.resetCaptionStream()};this.reset=function(){u=[];n=null;t=null;i?this.clearParsedCaptions():i={captions:[],captionStreams:{}};this.resetCaptionStream()};this.reset()},co=ho,lo={generator:w,probe:v,Transmuxer:nr.Transmuxer,AudioSegmentStream:nr.AudioSegmentStream,VideoSegmentStream:nr.VideoSegmentStream,CaptionParser:co},ao=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},vo=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),yo=function(n,t){t.on("data",function(t){var r=t.initSegment,i;t.initSegment={data:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength};i=t.data;t.data=i.buffer;n.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])});if(t.captionStream)t.captionStream.on("data",function(t){n.postMessage({action:"caption",data:t})});t.on("done",function(){n.postMessage({action:"done"})});t.on("gopInfo",function(t){n.postMessage({action:"gopInfo",gopInfo:t})})},lf=function(){function n(t,i){ao(this,n);this.options=i||{};this.self=t;this.init()}return vo(n,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose();this.transmuxer=new lo.Transmuxer(this.options);yo(this.self,this.transmuxer)}},{key:"push",value:function(n){var t=new Uint8Array(n.data,n.byteOffset,n.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(n){var t=n.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(t*9e4))}},{key:"setAudioAppendStart",value:function(n){this.transmuxer.setAudioAppendStart(Math.ceil(n.appendStart*9e4))}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(n){this.transmuxer.alignGopsWith(n.gopsToAlignWith.slice())}}]),n}(),po=function(n){n.onmessage=function(t){if(t.data.action==="init"&&t.data.options){this.messageHandlers=new lf(n,t.data.options);return}this.messageHandlers||(this.messageHandlers=new lf(n));t.data&&t.data.action&&t.data.action!=="init"&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)}};return new po(n)}()}),het={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},cet=function(n){return n.map(function(n){return n.replace(/avc1\.(\d+)\.(\d+)/i,function(n,t,i){var r=("00"+Number(t).toString(16)).slice(-2),u=("00"+Number(i).toString(16)).slice(-2);return"avc1."+r+"00"+u})})},po=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n={codecCount:0},t=void 0;return n.codecCount=i.split(",").length,n.codecCount=n.codecCount||2,t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(i),t&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(i),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},knt=function(n){return n.replace(/avc1\.(\d+)\.(\d+)/i,function(n){return cet([n])[0]})},lw=function(n,t,i){return n+"/"+t+'; codecs="'+i.filter(function(n){return!!n}).join(", ")+'"'},dnt=function(n){return n.segments&&n.segments.length&&n.segments[0].map?"mp4":"mp2t"},gnt=function(n){var t=n.attributes||{};return t.CODECS?po(t.CODECS):het},nti=function(n,t){var i,u,r;if(!n.mediaGroups.AUDIO||!t||(i=n.mediaGroups.AUDIO[t],!i))return null;for(u in i)if(r=i[u],r.default&&r.playlists)return po(r.playlists[0].attributes.CODECS).audioProfile;return null},tti=function(t,i){var s=dnt(i),u=gnt(i),h=i.attributes||{},f=!0,c=!1,e,l,r;if(!i)return[];if(t.mediaGroups.AUDIO&&h.AUDIO&&(e=t.mediaGroups.AUDIO[h.AUDIO],e)){c=!0;f=!1;for(l in e)if(!e[l].uri&&!e[l].playlists){f=!0;break}}c&&!u.audioProfile&&(f||(u.audioProfile=nti(t,h.AUDIO)),u.audioProfile||(n.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),u.audioProfile=het.audioProfile));r={};u.videoCodec&&(r.video=""+u.videoCodec+u.videoObjectTypeIndicator);u.audioProfile&&(r.audio="mp4a.40."+u.audioProfile);var o=lw("audio",s,[r.audio]),v=lw("video",s,[r.video]),a=lw("video",s,[r.video,r.audio]);return c?!f&&r.video?[v,o]:!f&&!r.video?[o,o]:[a,o]:r.video?[a]:[o]},iti=function(n){var t={type:"",parameters:{}},i=n.trim().split(";");return t.type=i.shift().trim(),i.forEach(function(n){var i=n.trim().split("="),r,u;i.length>1&&(r=i[0].replace(/"/g,"").trim(),u=i[1].replace(/"/g,"").trim(),t.parameters[r]=u)}),t},aet=function(n){return/mp4a\.\d+.\d+/i.test(n)},vet=function(n){return/avc1\.[\da-f]+/i.test(n)},rti=function(n,t,i){if(typeof t=="undefined"||t===null||!n.length)return[];for(var u=Math.ceil((t-i+3)*9e4),r=void 0,r=0;r<n.length;r++)if(n[r].pts>u)break;return n.slice(r)},uti=function(n,t,i){if(!t.length)return n;if(i)return t.slice();var u=t[0].pts,r=0;for(r;r<n.length;r++)if(n[r].pts>=u)break;return n.slice(0,r).concat(t)},fti=function(n,t,i,r){for(var o=Math.ceil((t-r)*9e4),s=Math.ceil((i-r)*9e4),e=n.slice(),f=n.length,u;f--;)if(n[f].pts<=s)break;if(f===-1)return e;for(u=f+1;u--;)if(n[u].pts<=o)break;return u=Math.max(u,0),e.splice(u,f-u+1),e},eti=function(t,i,r){var e=null,o=null,s=0,f=[],l=[];if(!t&&!i)return n.createTimeRange();if(!t)return i.buffered;if(!i||r)return t.buffered;if(t.buffered.length===0&&i.buffered.length===0)return n.createTimeRange();for(var h=t.buffered,c=i.buffered,u=h.length;u--;)f.push({time:h.start(u),type:"start"}),f.push({time:h.end(u),type:"end"});for(u=c.length;u--;)f.push({time:c.start(u),type:"start"}),f.push({time:c.end(u),type:"end"});for(f.sort(function(n,t){return n.time-t.time}),u=0;u<f.length;u++)f[u].type==="start"?(s++,s===2&&(e=f[u].time)):f[u].type==="end"&&(s--,s===1&&(o=f[u].time)),e!==null&&o!==null&&(l.push([e,o]),e=null,o=null);return n.createTimeRanges(l)},oti=function(n,t){var i=n.addSourceBuffer(t),r=Object.create(null),u,f;r.updating=!1;r.realBuffer_=i;u=function(n){typeof i[n]=="function"?r[n]=function(){return i[n].apply(i,arguments)}:typeof r[n]=="undefined"&&Object.defineProperty(r,n,{get:function(){return i[n]},set:function(t){return i[n]=t}})};for(f in i)u(f);return r},sti=function(t){function i(t,r){var u,f;return ui(this,i),u=pi(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n.EventTarget)),u.timestampOffset_=0,u.pendingBuffers_=[],u.bufferUpdating_=!1,u.mediaSource_=t,u.codecs_=r,u.audioCodec_=null,u.videoCodec_=null,u.audioDisabled_=!1,u.appendAudioInitSegment_=!0,u.gopBuffer_=[],u.timeMapping_=0,u.safeAppend_=n.browser.IE_VERSION>=11,f={remux:!1,alignGopsAtEnd:u.safeAppend_},u.codecs_.forEach(function(n){aet(n)?u.audioCodec_=n:vet(n)&&(u.videoCodec_=n)}),u.transmuxer_=new bnt,u.transmuxer_.postMessage({action:"init",options:f}),u.transmuxer_.onmessage=function(n){return n.data.action==="data"?u.data_(n):n.data.action==="done"?u.done_(n):n.data.action==="gopInfo"?u.appendGopInfo_(n):void 0},Object.defineProperty(u,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(n){typeof n=="number"&&n>=0&&(this.timestampOffset_=n,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n}))}}),Object.defineProperty(u,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(n){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=n);this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=n)}}),Object.defineProperty(u,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(u,"buffered",{get:function(){return eti(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),u}return tr(i,t),si(i,[{key:"data_",value:function(n){var t=n.data.segment;t.data=new Uint8Array(t.data,n.data.byteOffset,n.data.byteLength);t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength);lnt(this,this.mediaSource_,t);this.pendingBuffers_.push(t);return}},{key:"done_",value:function(){if(this.mediaSource_.readyState==="closed"){this.pendingBuffers_.length=0;return}this.processPendingSegments_();return}},{key:"createRealSourceBuffers_",value:function(){var n=this,t=["audio","video"];t.forEach(function(i){var r,u,f;n[i+"Codec_"]&&(n[i+"Buffer_"]||(r=null,n.mediaSource_[i+"Buffer_"]?(r=n.mediaSource_[i+"Buffer_"],r.updating=!1):(u=i+"Codec_",f=i+'/mp4;codecs="'+n[u]+'"',r=oti(n.mediaSource_.nativeMediaSource_,f),n.mediaSource_[i+"Buffer_"]=r),n[i+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(u){r.addEventListener(u,function(){if(i!=="audio"||!n.audioDisabled_){u==="updateend"&&(n[i+"Buffer_"].updating=!1);var r=t.every(function(t){return t==="audio"&&n.audioDisabled_?!0:i!==t&&n[t+"Buffer_"]&&n[t+"Buffer_"].updating?!1:!0});if(r)return n.trigger(u)}})})))})}},{key:"appendBuffer",value:function(n){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:rti(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)});this.transmuxer_.postMessage({action:"push",data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength},[n.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(n){this.gopBuffer_=uti(this.gopBuffer_,n.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(n,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(n,t),this.gopBuffer_=fti(this.gopBuffer_,n,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(n,t)),df(n,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)df(n,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var n={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]},t;n=this.pendingBuffers_.reduce(function(n,t){var i=t.type,r=t.data,u=t.initSegment;return n[i].segments.push(r),n[i].bytes+=r.byteLength,n[i].initSegment=u,t.captions&&(n.captions=n.captions.concat(t.captions)),t.info&&(n[i].info=t.info),t.metadata&&(n.metadata=n.metadata.concat(t.metadata)),n},n);this.videoBuffer_||this.audioBuffer_||(n.video.bytes===0&&(this.videoCodec_=null),n.audio.bytes===0&&(this.audioCodec_=null),this.createRealSourceBuffers_());n.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:n.audio.info});n.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:n.video.info});this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(n.audio.segments.unshift(n.audio.initSegment),n.audio.bytes+=n.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);t=!1;this.videoBuffer_&&n.video.bytes?(n.video.segments.unshift(n.video.initSegment),n.video.bytes+=n.video.initSegment.byteLength,this.concatAndAppendSegments_(n.video,this.videoBuffer_),vnt(this,n.captions,n.metadata)):this.videoBuffer_&&(this.audioDisabled_||!this.audioBuffer_)&&(t=!0);!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(n.audio,this.audioBuffer_);this.pendingBuffers_.length=0;t&&this.trigger("updateend");this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(n,t){var r=0,i=void 0;if(n.bytes){i=new Uint8Array(n.bytes);n.segments.forEach(function(n){i.set(n,r);r+=n.byteLength});try{t.updating=!0;t.appendBuffer(i)}catch(u){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:u.message,originalError:u})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort();!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort();this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"});this.pendingBuffers_.length=0;this.bufferUpdating_=!1}}]),i}(n.EventTarget),aw=function(i){function r(){ui(this,r);var i=pi(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),f=void 0;i.nativeMediaSource_=new t.MediaSource;for(f in i.nativeMediaSource_)f in r.prototype||typeof i.nativeMediaSource_[f]!="function"||(i[f]=i.nativeMediaSource_[f].bind(i.nativeMediaSource_));i.duration_=NaN;Object.defineProperty(i,"duration",{get:function(){return this.duration_===Infinity?this.duration_:this.nativeMediaSource_.duration},set:function(n){if(this.duration_=n,n!==Infinity){this.nativeMediaSource_.duration=n;return}}});Object.defineProperty(i,"seekable",{get:function(){return this.duration_===Infinity?n.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}});Object.defineProperty(i,"readyState",{get:function(){return this.nativeMediaSource_.readyState}});Object.defineProperty(i,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}});i.sourceBuffers=[];i.activeSourceBuffers_=[];i.updateActiveSourceBuffers_=function(){var n,u,t,r,f;if(i.activeSourceBuffers_.length=0,i.sourceBuffers.length===1){n=i.sourceBuffers[0];n.appendAudioInitSegment_=!0;n.audioDisabled_=!n.audioCodec_;i.activeSourceBuffers_.push(n);return}for(u=!1,t=!0,r=0;r<i.player_.audioTracks().length;r++)if(f=i.player_.audioTracks()[r],f.enabled&&f.kind!=="main"){u=!0;t=!1;break}i.sourceBuffers.forEach(function(n,r){if(n.appendAudioInitSegment_=!0,n.videoCodec_&&n.audioCodec_)n.audioDisabled_=u;else if(n.videoCodec_&&!n.audioCodec_)n.audioDisabled_=!0,t=!1;else if(!n.videoCodec_&&n.audioCodec_&&(n.audioDisabled_=r?t:!t,n.audioDisabled_))return;i.activeSourceBuffers_.push(n)})};i.onPlayerMediachange_=function(){i.sourceBuffers.forEach(function(n){n.appendAudioInitSegment_=!0})};i.onHlsReset_=function(){i.sourceBuffers.forEach(function(n){n.transmuxer_&&n.transmuxer_.postMessage({action:"resetCaptions"})})};i.onHlsSegmentTimeMapping_=function(n){i.sourceBuffers.forEach(function(t){return t.timeMapping_=n.mapping})};["sourceopen","sourceclose","sourceended"].forEach(function(n){this.nativeMediaSource_.addEventListener(n,this.trigger.bind(this))},i);i.on("sourceopen",function(){var t=u.querySelector('[src="'+i.url_+'"]');if(t){i.player_=n(t.parentNode);i.player_.tech_.on("hls-reset",i.onHlsReset_);i.player_.tech_.on("hls-segment-time-mapping",i.onHlsSegmentTimeMapping_);if(i.player_.audioTracks&&i.player_.audioTracks()){i.player_.audioTracks().on("change",i.updateActiveSourceBuffers_);i.player_.audioTracks().on("addtrack",i.updateActiveSourceBuffers_);i.player_.audioTracks().on("removetrack",i.updateActiveSourceBuffers_)}i.player_.on("mediachange",i.onPlayerMediachange_)}});i.on("sourceended",function(){for(var r,n,u=eet(i.duration),t=0;t<i.sourceBuffers.length;t++)r=i.sourceBuffers[t],n=r.metadataTrack_&&r.metadataTrack_.cues,n&&n.length&&(n[n.length-1].endTime=u)});i.on("sourceclose",function(){(this.sourceBuffers.forEach(function(n){n.transmuxer_&&n.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_)&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))});return i}return tr(r,i),si(r,[{key:"addSeekableRange_",value:function(n,t){var i=void 0;if(this.duration!==Infinity){i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity");i.name="InvalidStateError";i.code=11;throw i;}(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(n){var i=void 0,r=iti(n),t;return/^(video|audio)\/mp2t$/i.test(r.type)?(t=[],r.parameters&&r.parameters.codecs&&(t=r.parameters.codecs.split(","),t=cet(t),t=t.filter(function(n){return aet(n)||vet(n)})),t.length===0&&(t=["avc1.4d400d","mp4a.40.2"]),i=new sti(this,t),this.sourceBuffers.length!==0&&(this.sourceBuffers[0].createRealSourceBuffers_(),i.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)):i=this.nativeMediaSource_.addSourceBuffer(n),this.sourceBuffers.push(i),i}}]),r}(n.EventTarget),yet=0;n.mediaSources={};var pet=function(t,i){var r=n.mediaSources[t];if(r)r.trigger({type:"sourceopen",swfId:i});else throw new Error("Media Source not found (Video.js)");},vw=function(){return!!t.MediaSource&&!!t.MediaSource.isTypeSupported&&t.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},wo=function(){if(this.MediaSource={open:pet,supportsNativeMediaSources:vw},vw())return new aw;throw new Error("Cannot use create a virtual MediaSource for this video");};wo.open=pet;wo.supportsNativeMediaSources=vw;yw={createObjectURL:function(i){var r=void 0;return i instanceof aw?(r=t.URL.createObjectURL(i.nativeMediaSource_),i.url_=r,r):(i instanceof aw)?(r="blob:vjs-media-source/"+yet,yet++,n.mediaSources[r]=i,r):(r=t.URL.createObjectURL(i),i.url_=r,r)}};n.MediaSource=wo;n.URL=yw;var hti=n.EventTarget,cti=n.mergeOptions,wet=function(n,t){for(var u,i=cti(n,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),r=0;r<t.playlists.length;r++)u=uw(i,t.playlists[r]),u&&(i=u);return rw(t,function(n,t,r,u){if(n.playlists&&n.playlists.length){var e=n.playlists[0].uri,f=uw(i,n.playlists[0]);f&&(i=f,i.mediaGroups[t][r][u].playlists[0]=i.playlists[e])}}),i},pw=function(n){function i(n,r,u,f){ui(this,i);var e=pi(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(e.hls_=r,e.withCredentials=u,!n)throw new Error("A non-empty playlist URL or playlist is required");e.on("minimumUpdatePeriod",function(){e.refreshXml_()});e.on("mediaupdatetimeout",function(){e.refreshMedia_()});return typeof n=="string"?(e.srcUrl=n,e.state="HAVE_NOTHING",pi(e)):(e.masterPlaylistLoader_=f,e.state="HAVE_METADATA",e.started=!0,e.media(n),t.setTimeout(function(){e.trigger("loadedmetadata")},0),e)}return tr(i,n),si(i,[{key:"dispose",value:function(){this.stopRequest();t.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var n=this.request;this.request=null;n.onreadystatechange=null;n.abort()}}},{key:"media",value:function(n){var t,i;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(t=this.state,typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}(i=!this.media_||n.uri!==this.media_.uri,this.state="HAVE_METADATA",i)&&(this.media_&&this.trigger("mediachanging"),this.media_=n,this.refreshMedia_(),t!=="HAVE_MASTER"&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest();this.state==="HAVE_NOTHING"&&(this.started=!1)}},{key:"load",value:function(){if(!this.started){this.start();return}this.trigger("loadedplaylist")}},{key:"parseMasterXml",value:function(){var n=bvt(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_}),t,i;for(n.uri=this.srcUrl,t=0;t<n.playlists.length;t++)i="placeholder-uri-"+t,n.playlists[t].uri=i,n.playlists[i]=n.playlists[t];return rw(n,function(t,i,r,u){if(t.playlists&&t.playlists.length){var f="placeholder-uri-"+i+"-"+r+"-"+u;t.playlists[0].uri=f;n.playlists[f]=t.playlists[0]}}),sft(n),hft(n),n}},{key:"start",value:function(){var n=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,i){if(n.request){if(n.request=null,t)return n.error={status:i.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:i.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.masterXml_=i.responseText;n.masterLoaded_=i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):Date.now();n.syncClientServerClock_(n.onClientServerClockSync_.bind(n))}})}},{key:"syncClientServerClock_",value:function(n){var i=this,t=kvt(this.masterXml_);if(t===null)return this.clientOffset_=this.masterLoaded_-Date.now(),n();if(t.method==="DIRECT")return this.clientOffset_=t.value-Date.now(),n();this.request=this.hls_.xhr({uri:nr(this.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials},function(r,u){if(i.request){if(r)return i.clientOffset_=i.masterLoaded_-Date.now(),n();var f=void 0;f=t.method==="HEAD"?u.responseHeaders&&u.responseHeaders.date?Date.parse(u.responseHeaders.date):i.masterLoaded_:Date.parse(u.responseText);i.clientOffset_=f-Date.now();n()}})}},{key:"onClientServerClockSync_",value:function(){var n=this;this.master=this.parseMasterXml();this.state="HAVE_MASTER";this.trigger("loadedplaylist");this.media_||this.media(this.master.playlists[0]);t.setTimeout(function(){n.trigger("loadedmetadata")},0);this.master.minimumUpdatePeriod&&t.setTimeout(function(){n.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var n=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,r){if(n.request){if(n.request=null,i)return n.error={status:r.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:r.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.masterXml_=r.responseText;var u=n.parseMasterXml();n.master=wet(n.master,u);t.setTimeout(function(){n.trigger("minimumUpdatePeriod")},n.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var u=this,i=void 0,r=void 0,n;this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,r=this.masterPlaylistLoader_.parseMasterXml()):(i=this.master,r=this.parseMasterXml());n=wet(i,r);n?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=n:this.master=n,this.media_=n.playlists[this.media_.uri]):this.trigger("playlistunchanged");this.media().endList||(this.mediaUpdateTimeout=t.setTimeout(function(){u.trigger("mediaupdatetimeout")},cft(this.media(),!!n)));this.trigger("loadedplaylist")}}]),i}(hti),bo=function(t){return n.log.debug?n.log.debug.bind(n,"VHS:",t+" >"):function(){}};var lti=function(){function t(n,i,r,u){ui(this,t);this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=n;this.processedAppend_=!1;this.type_=r;this.mimeType_=i;this.logger_=bo("SourceUpdater["+r+"]["+i+"]");n.readyState==="closed"?n.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,i,u)):this.createSourceBuffer_(i,u)}return si(t,[{key:"createSourceBuffer_",value:function(n,t){var i=this;if(this.sourceBuffer_=this.mediaSource.addSourceBuffer(n),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)){t.on("sourcebufferadded",function(){i.start_()});return}this.start_()}},{key:"start_",value:function(){var n=this;this.started_=!0;this.onUpdateendCallback_=function(){var t=n.pendingCallback_;n.pendingCallback_=null;n.logger_("buffered ["+ow(n.buffered())+"]");t&&t();n.runCallback_()};this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_);this.runCallback_()}},{key:"abort",value:function(n){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},n)}},{key:"appendBuffer",value:function(n,t){var i=this;this.processedAppend_=!0;this.queueCallback_(function(){i.sourceBuffer_.appendBuffer(n)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:n.createTimeRanges()}},{key:"remove",value:function(n,t){var i=this,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:ko;this.processedAppend_&&this.queueCallback_(function(){i.logger_("remove ["+n+" => "+t+"]");i.sourceBuffer_.remove(n,t)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(n){var t=this;return typeof n!="undefined"&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=n}),this.timestampOffset_=n),this.timestampOffset_}},{key:"queueCallback_",value:function(n,t){this.callbacks_.push([n.bind(this),t]);this.runCallback_()}},{key:"runCallback_",value:function(){var n=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(n=this.callbacks_.shift(),this.pendingCallback_=n[1],n[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_);this.sourceBuffer_&&this.mediaSource.readyState==="open"&&this.sourceBuffer_.abort()}}]),t}(),hi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},vr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},ati=function(n){var t=void 0,i=void 0;return i=n.offset+n.length-1,t=n.offset,"bytes="+t+"-"+i},bet=function(n){var t={};return n.byterange&&(t.Range=ati(n.byterange)),t},ket=function(n){n.forEach(function(n){n.abort()})},vti=function(n){return{bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}},yti=function(n){var i=n.target,r=Date.now()-i.requestTime,t={bandwidth:Infinity,bytesReceived:0,roundTripTime:r||0};return t.bytesReceived=n.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8e3),t},ww=function(n,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:vr.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:vr.ABORTED,xhr:t}:n?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:vr.FAILURE,xhr:t}:null},pti=function(n,t){return function(i,r){var f=r.response,e=ww(i,r),u;return e?t(e,n):f.byteLength!==16?t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:vr.FAILURE,xhr:r},n):(u=new DataView(f),n.key.bytes=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),t(null,n))}},wti=function(n,t,i){return function(r,u){var e=u.response,f=ww(r,u);return f?i(f,n):e.byteLength===0?i({status:u.status,message:"Empty HLS segment content at URL: "+u.uri,code:vr.FAILURE,xhr:u},n):(n.map.bytes=new Uint8Array(u.response),t.isInitialized()||t.init(),n.map.timescales=ni.timescale(n.map.bytes),n.map.videoTrackIds=ni.videoTrackIds(n.map.bytes),i(null,n))}},bti=function(n,t,i){return function(r,u){var o=u.response,e=ww(r,u),f=void 0;return e?i(e,n):o.byteLength===0?i({status:u.status,message:"Empty HLS segment content at URL: "+u.uri,code:vr.FAILURE,xhr:u},n):(n.stats=vti(u),n.key?n.encryptedBytes=new Uint8Array(u.response):n.bytes=new Uint8Array(u.response),n.map&&n.map.bytes&&(t.isInitialized()||t.init(),f=t.parse(n.bytes,n.map.videoTrackIds,n.map.timescales),f&&f.captions&&(n.captionStreams=f.captionStreams,n.fmp4Captions=f.captions)),i(null,n))}},kti=function(n,t,i){var r=function r(u){if(u.data.source===t.requestId){n.removeEventListener("message",r);var f=u.data.decrypted;return t.bytes=new Uint8Array(f.bytes,f.byteOffset,f.byteLength),i(null,t)}};n.addEventListener("message",r);n.postMessage(net({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},dti=function(n){return n.reduce(function(n,t){return t.code>n.code?t:n})},gti=function(n,t,i){var r=[],u=0;return function(f,e){if(f&&(ket(n),r.push(f)),u+=1,u===n.length){if(e.endOfAllRequests=Date.now(),r.length>0){var o=dti(r);return i(o,e)}return e.encryptedBytes?kti(t,e,i):i(null,e)}}},nii=function(t,i){return function(r){return t.stats=n.mergeOptions(t.stats,yti(r)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),i(r,t)}},tii=function(t,i,r,u,f,e,o){var s=[],h=gti(s,r,o);if(f.key){var l=n.mergeOptions(i,{uri:f.key.resolvedUri,responseType:"arraybuffer"}),a=pti(f,h),v=t(l,a);s.push(v)}if(f.map&&!f.map.bytes){var y=n.mergeOptions(i,{uri:f.map.resolvedUri,responseType:"arraybuffer",headers:bet(f.map)}),p=wti(f,u,h),w=t(y,p);s.push(w)}var b=n.mergeOptions(i,{uri:f.resolvedUri,responseType:"arraybuffer",headers:bet(f)}),k=bti(f,u,h),c=t(b,k);return c.addEventListener("progress",nii(f,e)),s.push(c),function(){return ket(s)}},det=function(n,i){var r=void 0;return n?(r=t.getComputedStyle(n),!r)?"":r[i]:""},go=function(n,t){var i=n.slice();n.sort(function(n,r){var u=t(n,r);return u===0?i.indexOf(n)-i.indexOf(r):u})},bw=function(n,i){var r=void 0,u=void 0;return n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||t.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(u=i.attributes.BANDWIDTH),u=u||t.Number.MAX_VALUE,r-u},iii=function(n,i){var r=void 0,u=void 0;return(n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||t.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(u=i.attributes.RESOLUTION.width),u=u||t.Number.MAX_VALUE,r===u&&n.attributes.BANDWIDTH&&i.attributes.BANDWIDTH)?n.attributes.BANDWIDTH-i.attributes.BANDWIDTH:r-u},rii=function(n,i,r,u){var f=n.playlists.map(function(n){var r=void 0,u=void 0,i=void 0;return r=n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width,u=n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height,i=n.attributes.BANDWIDTH,i=i||t.Number.MAX_VALUE,{bandwidth:i,width:r,height:u,playlist:n}}),e,h,v;go(f,function(n,t){return n.bandwidth-t.bandwidth});f=f.filter(function(n){return!kt.isIncompatible(n.playlist)});e=f.filter(function(n){return kt.isEnabled(n.playlist)});e.length||(e=f.filter(function(n){return!kt.isDisabled(n.playlist)}));var s=e.filter(function(n){return n.bandwidth*hi.BANDWIDTH_VARIANCE<i}),o=s[s.length-1],w=s.filter(function(n){return n.bandwidth===o.bandwidth})[0],a=s.filter(function(n){return n.width&&n.height});go(a,function(n,t){return n.width-t.width});h=a.filter(function(n){return n.width===r&&n.height===u});o=h[h.length-1];var y=h.filter(function(n){return n.bandwidth===o.bandwidth})[0],c=void 0,l=void 0,p=void 0;return y||(c=a.filter(function(n){return n.width>r||n.height>u}),l=c.filter(function(n){return n.width===c[0].width&&n.height===c[0].height}),o=l[l.length-1],p=l.filter(function(n){return n.bandwidth===o.bandwidth})[0]),v=p||y||w||e[0]||f[0],v?v.playlist:null},uii=function(){return rii(this.playlists.master,this.systemBandwidth,parseInt(det(this.tech_.el(),"width"),10),parseInt(det(this.tech_.el(),"height"),10))},fii=function(n){var f=n.master,e=n.currentTime,o=n.bandwidth,s=n.duration,h=n.segmentDuration,c=n.timeUntilRebuffer,l=n.currentTimeline,a=n.syncController,u=f.playlists.filter(function(n){return!kt.isIncompatible(n)}),t=u.filter(kt.isEnabled);t.length||(t=u.filter(function(n){return!kt.isDisabled(n)}));var v=t.filter(kt.hasAttribute.bind(null,"BANDWIDTH")),i=v.map(function(n){var t=a.getSyncPoint(n,s,l,e),i=t?1:2,r=kt.estimateSegmentRequestTime(h,o,n),u=r*i-c;return{playlist:n,rebufferingImpact:u}}),r=i.filter(function(n){return n.rebufferingImpact<=0});return(go(r,function(n,t){return bw(t.playlist,n.playlist)}),r.length)?r[0]:(go(i,function(n,t){return n.rebufferingImpact-t.rebufferingImpact}),i[0]||null)},eii=function(){var n=this.playlists.master.playlists.filter(kt.isEnabled),t;return go(n,function(n,t){return bw(n,t)}),t=n.filter(function(n){return po(n.attributes.CODECS).videoCodec}),t[0]||null},oii=function(n,t,i){var r,u;for(r in i)n[r]||(t.trigger({type:"usage",name:"hls-608"}),u=t.textTracks().getTrackById(r),n[r]=u?u:t.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track)},sii=function(n){var t=n.inbandTextTracks,i=n.captionArray,r=n.timestampOffset,u;i&&(u=window.WebKitDataCue||window.VTTCue,i.forEach(function(n){var i=n.stream,f=n.startTime,e=n.endTime;t[i]&&(f+=r,e+=r,t[i].addCue(new u(f,e,n.text)))}))},hii=500,get=function(n,t,i){if(!n||!t)return!1;var r=n.segments,u=i===r.length;return n.endList&&t.readyState==="open"&&u},not=function(n){return typeof n=="number"&&isFinite(n)},cii=function(n,t,i){return n!=="main"||!t||!i?null:!i.containsAudio&&!i.containsVideo?"Neither audio nor video found in segment.":t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},lii=function(n,t,i){var r=void 0;return r=n.length&&n.start(0)>0&&n.start(0)<t?n.start(0):t-30,Math.min(r,t-i)},aii=function(n){var i=n.segment,f=i.start,e=i.end,t=n.playlist,r=t.mediaSequence,o=t.id,u=t.segments,s=u===undefined?[]:u,h=n.mediaIndex,c=n.timeline;return["appending ["+h+"] of ["+r+", "+(r+s.length)+"] from playlist ["+o+"]","["+f+" => "+e+"] in timeline ["+c+"]"].join(" ")},kw=function(i){function r(n){ui(this,r);var t=pi(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");t.bandwidth=n.bandwidth;t.throughput={rate:0,count:0};t.roundTrip=NaN;t.resetStats_();t.mediaIndex=null;t.hasPlayed_=n.hasPlayed;t.currentTime_=n.currentTime;t.seekable_=n.seekable;t.seeking_=n.seeking;t.duration_=n.duration;t.mediaSource_=n.mediaSource;t.hls_=n.hls;t.loaderType_=n.loaderType;t.startingMedia_=void 0;t.segmentMetadataTrack_=n.segmentMetadataTrack;t.goalBufferLength_=n.goalBufferLength;t.sourceType_=n.sourceType;t.inbandTextTracks_=n.inbandTextTracks;t.state_="INIT";t.checkBufferTimeout_=null;t.error_=void 0;t.currentTimeline_=-1;t.pendingSegment_=null;t.mimeType_=null;t.sourceUpdater_=null;t.xhrOptions_=null;t.activeInitSegmentId_=null;t.initSegments_={};t.captionParser_=new ikt;t.decrypter_=n.decrypter;t.syncController_=n.syncController;t.syncPoint_={segmentIndex:0,time:0};t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")});return t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=bo("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(n){n!==this.state_&&(this.logger_(this.state_+" -> "+n),this.state_=n)}}),t}return tr(r,i),si(r,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0;this.mediaRequests=0;this.mediaRequestsAborted=0;this.mediaRequestsTimedout=0;this.mediaRequestsErrored=0;this.mediaTransferDuration=0;this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED";this.pause();this.abort_();this.sourceUpdater_&&this.sourceUpdater_.dispose();this.resetStats_();this.captionParser_.reset()}},{key:"abort",value:function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_();this.state="READY";this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests();this.pendingSegment_=null}},{key:"error",value:function(n){return typeof n!="undefined"&&(this.error_=n),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0;this.pause();this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():n.createTimeRanges()}},{key:"initSegment",value:function(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,i,t;return n?(i=il(n),t=this.initSegments_[i],r&&!t&&n.bytes&&(this.initSegments_[i]=t={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,timescales:n.timescales,videoTrackIds:n.videoTrackIds}),t||n):null}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();this.couldBeginLoading_()&&(this.state==="READY"||this.state==="INIT")&&(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new lti(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(n){var f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},t,i,u,r;if(n){if(t=this.playlist_,i=this.pendingSegment_,this.playlist_=n,this.xhrOptions_=f,this.hasPlayed_()||(n.syncInfo={mediaSequence:n.mediaSequence,time:0}),u=t?t.id:null,this.logger_("playlist update ["+u+" => "+n.id+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!t||t.uri!==n.uri){this.mediaIndex!==null&&this.resyncLoader();return}r=n.mediaSequence-t.mediaSequence;this.logger_("live window shift ["+r+"]");this.mediaIndex!==null&&(this.mediaIndex-=r);i&&(i.mediaIndex-=r,i.mediaIndex>=0&&(i.segment=n.segments[i.mediaIndex]));this.syncController_.saveExpiredSegmentInfo(t,n)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function(n,t){this.mimeType_||(this.mimeType_=n,this.sourceBufferEmitter_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(n){this.ended_=!1;this.resetLoader();this.remove(0,this.duration_(),n);this.captionParser_.clearAllCaptions();this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1;this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null;this.syncPoint_=null;this.abort()}},{key:"remove",value:function(n,t,i){if(this.sourceUpdater_&&this.sourceUpdater_.remove(n,t,i),df(n,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)df(n,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){this.state==="READY"&&this.fillBuffer_();this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),hii)}},{key:"fillBuffer_",value:function(){var n,t;if(!this.sourceUpdater_.updating()&&(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),n=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_),n)){if(t=get(this.playlist_,this.mediaSource_,n.mediaIndex),t){this.endOfStream();return}(n.mediaIndex!==this.playlist_.segments.length-1||this.mediaSource_.readyState!=="ended"||this.seeking_())&&((n.timeline!==this.currentTimeline_||n.startOfSegment!==null&&n.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),n.timestampOffset=n.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(n))}}},{key:"checkBuffer_",value:function(n,t,i,r,u,f){var o=0,e=void 0,h,s,c,l;return(n.length&&(o=n.end(n.length-1)),h=Math.max(0,o-u),!t.segments.length)?null:h>=this.goalBufferLength_()?null:!r&&h>=1?null:f===null?(i=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,i,null,!0)):i!==null?(s=t.segments[i],e=s&&s.end?s.end:o,this.generateSegmentInfo_(t,i+1,e,!1)):(this.fetchAtBuffer_?(c=kt.getMediaInfoForTime(t,o,f.segmentIndex,f.time),i=c.mediaIndex,e=c.startTime):(l=kt.getMediaInfoForTime(t,u,f.segmentIndex,f.time),i=l.mediaIndex,e=l.startTime),this.generateSegmentInfo_(t,i,e,!1))}},{key:"getSyncSegmentCandidate_",value:function(n){var i=this,t;return this.currentTimeline_===-1?0:(t=n.segments.map(function(n,t){return{timeline:n.timeline,segmentIndex:t}}).filter(function(n){return n.timeline===i.currentTimeline_}),t.length)?t[Math.min(t.length-1,1)].segmentIndex:Math.max(n.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(n,t,i,r){if(t<0||t>=n.segments.length)return null;var u=n.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:u.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:i,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:u.duration,segment:u}}},{key:"abortRequestEarly_",value:function(n){var t;if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)return!1;var r=this.currentTime_(),u=n.bandwidth,f=this.pendingSegment_.duration,e=kt.estimateSegmentRequestTime(f,u,this.playlist_,n.bytesReceived),i=cnt(this.buffered_(),r,this.hls_.tech_.playbackRate())-1;if(e<=i)return!1;if(t=fii({master:this.hls_.playlists.master,currentTime:r,bandwidth:u,duration:this.duration_(),segmentDuration:f,timeUntilRebuffer:i,currentTimeline:this.currentTimeline_,syncController:this.syncController_}),t){var s=e-i,h=s-t.rebufferingImpact,o=.5;return(i<=kf&&(o=1),!t.playlist||t.playlist.uri===this.playlist_.uri||h<o)?!1:(this.bandwidth=t.playlist.attributes.BANDWIDTH*hi.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(n,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(n){this.state="WAITING";this.pendingSegment_=n;this.trimBackBuffer_(n);n.abortRequests=tii(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(n),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(){var n=lii(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}},{key:"createSimplifiedSegmentObj_",value:function(n){var t=n.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:n.requestId},r;return t.key&&(r=t.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]),i.key={resolvedUri:t.key.resolvedUri,iv:r}),t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(n,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_){this.mediaRequestsAborted+=1;return}if(t.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",n.code===vr.ABORTED){this.mediaRequestsAborted+=1;return}if(this.pause(),n.code===vr.TIMEOUT){this.mediaRequestsTimedout+=1;this.bandwidth=1;this.roundTrip=NaN;this.trigger("bandwidthupdate");return}this.mediaRequestsErrored+=1;this.error(n);this.trigger("error");return}this.bandwidth=t.stats.bandwidth;this.roundTrip=t.stats.roundTripTime;t.map&&(t.map=this.initSegment(t.map,!0));this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(n){var t=this.pendingSegment_;t.bytes=n.bytes;n.map&&(t.segment.map.bytes=n.map.bytes);t.endOfAllRequests=n.endOfAllRequests;n.fmp4Captions&&(oii(this.inbandTextTracks_,this.hls_.tech_,n.captionStreams),sii({inbandTextTracks:this.inbandTextTracks_,captionArray:n.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions());this.handleSegment_()}},{key:"handleSegment_",value:function(){var o=this,r,u,f,e;if(!this.pendingSegment_){this.state="READY";return}var n=this.pendingSegment_,t=n.segment,i=this.syncController_.probeSegmentInfo(n);if(typeof this.startingMedia_=="undefined"&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo}),r=cii(this.loaderType_,this.startingMedia_,i),r){this.error({message:r,blacklistDuration:Infinity});this.trigger("error");return}if(n.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}n.timestampOffset!==null&&n.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(n.timestampOffset),this.trigger("timestampoffset"));u=this.syncController_.mappingForTimeline(n.timeline);u!==null&&this.trigger({type:"segmenttimemapping",mapping:u});this.state="APPENDING";t.map&&(f=il(t.map),this.activeInitSegmentId_&&this.activeInitSegmentId_===f||(e=this.initSegment(t.map),this.sourceUpdater_.appendBuffer(e.bytes,function(){o.activeInitSegmentId_=f})));n.byteLength=n.bytes.byteLength;this.mediaSecondsLoaded+=typeof t.start=="number"&&typeof t.end=="number"?t.end-t.start:t.duration;this.logger_(aii(n));this.sourceUpdater_.appendBuffer(n.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){var i;if(!this.pendingSegment_){this.state="READY";this.paused()||this.monitorBuffer_();return}var n=this.pendingSegment_,t=n.segment,r=this.mediaIndex!==null;if(this.pendingSegment_=null,this.recordThroughput_(n),this.addSegmentMetadataCue_(n),this.state="READY",this.mediaIndex=n.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>n.playlist.targetDuration*3){this.resetEverything();return}r&&this.trigger("bandwidthupdate");this.trigger("progress");i=get(n.playlist,this.mediaSource_,n.mediaIndex+1);i&&this.endOfStream();this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(n){var t=this.throughput.rate,i=Date.now()-n.endOfAllRequests+1,r=Math.floor(n.byteLength/i*8e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(n){if(this.segmentMetadataTrack_){var u=n.segment,i=u.start,r=u.end;if(not(i)&&not(r)){df(i,r,this.segmentMetadataTrack_);var o=t.WebKitDataCue||t.VTTCue,f={bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.uri,start:i,end:r},s=JSON.stringify(f),e=new o(i,r,s);e.value=f;this.segmentMetadataTrack_.addCue(e)}}}}]),r}(n.EventTarget),tot=function(n){return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))},iot=new Uint8Array("\n\n".split("").map(function(n){return n.charCodeAt(0)})),vii=function(i){function r(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},t;return ui(this,r),t=pi(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n,i)),t.mediaSource_=null,t.subtitlesTrack_=null,t}return tr(r,i),si(r,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return n.createTimeRanges();var t=this.subtitlesTrack_.cues,i=t[0].startTime,r=t[t.length-1].startTime;return n.createTimeRanges([[i,r]])}},{key:"initSegment",value:function(n){var f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,r,t,u,i;return n?(r=il(n),t=this.initSegments_[r],f&&!t&&n.bytes&&(u=iot.byteLength+n.bytes.byteLength,i=new Uint8Array(u),i.set(n.bytes),i.set(iot,n.bytes.byteLength),this.initSegments_[r]=t={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:i}),t||n):null}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(n){return typeof n=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=n,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(n,t){df(n,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this,n,i;if(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),n=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_),n=this.skipEmptySegments_(n),n){if(this.syncController_.timestampOffsetForTimeline(n.timeline)===null){i=function(){t.state="READY";t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",i);this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(n)}}},{key:"skipEmptySegments_",value:function(n){while(n&&n.segment.empty)n=this.generateSegmentInfo_(n.playlist,n.mediaIndex+1,n.startOfSegment+n.duration,n.isSyncRequest);return n}},{key:"handleSegment_",value:function(){var i=this,n,r,u;if(!this.pendingSegment_||!this.subtitlesTrack_){this.state="READY";return}if(this.state="APPENDING",n=this.pendingSegment_,r=n.segment,typeof t.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){u=function(){i.handleSegment_()};this.state="WAITING_ON_VTTJS";this.subtitlesTrack_.tech_.one("vttjsloaded",u);this.subtitlesTrack_.tech_.one("vttjserror",function(){i.subtitlesTrack_.tech_.off("vttjsloaded",u);i.error({message:"Error loading vtt.js"});i.state="READY";i.pause();i.trigger("error")});return}r.requested=!0;try{this.parseVTTCues_(n)}catch(f){return this.error({message:f.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}n.byteLength=n.bytes.byteLength;this.mediaSecondsLoaded+=r.duration;n.cues.length&&this.remove(n.cues[0].endTime,n.cues[n.cues.length-1].endTime);n.cues.forEach(function(n){i.subtitlesTrack_.addCue(n)});this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(i){var e=void 0,o=!1,r,u,f;typeof t.TextDecoder=="function"?e=new t.TextDecoder("utf8"):(e=t.WebVTT.StringDecoder(),o=!0);r=new t.WebVTT.Parser(t,t.vttjs,e);i.cues=[];i.timestampmap={MPEGTS:0,LOCAL:0};r.oncue=i.cues.push.bind(i.cues);r.ontimestampmap=function(n){return i.timestampmap=n};r.onparsingerror=function(t){n.log.warn("Error encountered when parsing cues: "+t.message)};i.segment.map&&(u=i.segment.map.bytes,o&&(u=tot(u)),r.parse(u));f=i.bytes;o&&(f=tot(f));r.parse(f);r.flush()}},{key:"updateTimeMapping_",value:function(n,t,i){var f=n.segment,r,u,e,o;if(t){if(!n.cues.length){f.empty=!0;return}r=n.timestampmap;u=r.MPEGTS/9e4-r.LOCAL+t.mapping;n.cues.forEach(function(n){n.startTime+=u;n.endTime+=u});i.syncInfo||(e=n.cues[0].startTime,o=n.cues[n.cues.length-1].startTime,i.syncInfo={mediaSequence:i.mediaSequence+n.mediaIndex,time:Math.min(e,o-f.duration)})}}}]),r}(kw),yii=function(n,t){for(var i,u=n.cues,r=0;r<u.length;r++)if(i=u[r],t>=i.adStartTime&&t<=i.adEndTime)return i;return null},pii=function(n,i){var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,u,r,e,f;if(n.segments)for(u=c,r=void 0,e=0;e<n.segments.length;e++){if(f=n.segments[e],r||(r=yii(i,u+f.duration/2)),r){if("cueIn"in f){r.endTime=u;r.adEndTime=u;u+=f.duration;r=null;continue}if(u<r.endTime){u+=f.duration;continue}r.endTime+=f.duration}else if("cueOut"in f&&(r=new t.VTTCue(u,u+f.duration,f.cueOut),r.adStartTime=u,r.adEndTime=u+parseFloat(f.cueOut),i.addCue(r)),"cueOutCont"in f){var o=void 0,s=void 0,l=f.cueOutCont.split("/").map(parseFloat),h=ogt(l,2);o=h[0];s=h[1];r=new t.VTTCue(u,u+f.duration,"");r.adStartTime=u-o;r.adEndTime=r.adStartTime+s;i.addCue(r)}u+=f.duration}},wii=kdt.inspect,rot=[{name:"VOD",run:function(n,t,i){return i!==Infinity?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(n,t,i,r,u){var f,o;if(!n.datetimeToDisplayTime)return null;var s=t.segments||[],h=null,e=null;for(u=u||0,f=0;f<s.length;f++)if(o=s[f],o.dateTimeObject){var a=o.dateTimeObject.getTime()/1e3,c=a+n.datetimeToDisplayTime,l=Math.abs(u-c);if(e!==null&&e<l)break;e=l;h={time:c,segmentIndex:f}}return h}},{name:"Segment",run:function(n,t,i,r,u){var c=t.segments||[],h=null,f=null,e,o,s;for(u=u||0,e=0;e<c.length;e++)if(o=c[e],o.timeline===r&&typeof o.start!="undefined"){if(s=Math.abs(u-o.start),f!==null&&f<s)break;(!h||f===null||f>=s)&&(f=s,h={time:o.start,segmentIndex:e})}return h}},{name:"Discontinuity",run:function(n,t,i,r,u){var s=null,f,e,o;if(u=u||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(f=null,e=0;e<t.discontinuityStarts.length;e++){var c=t.discontinuityStarts[e],l=t.discontinuitySequence+e+1,h=n.discontinuities[l];if(h){if(o=Math.abs(u-h.time),f!==null&&f<o)break;(!s||f===null||f>=o)&&(f=o,s={time:h.time,segmentIndex:c})}}return s}},{name:"Playlist",run:function(n,t){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],bii=function(n){function t(){ui(this,t);var n=pi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.inspectCache_=undefined,n.timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=bo("SyncController"),n}return tr(t,n),si(t,[{key:"getSyncPoint",value:function(n,t,i,r){var u=this.runStrategies_(n,t,i,r);return u.length?this.selectSyncPoint_(u,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(n,t){var r,i;return!n||!n.segments?null:(r=this.runStrategies_(n,t,n.discontinuitySequence,0),!r.length)?null:(i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0}),i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+yo(n,i.segmentIndex,0)))}},{key:"runStrategies_",value:function(n,t,i,r){for(var u,f,o=[],e=0;e<rot.length;e++)u=rot[e],f=u.run(this,n,t,i,r),f&&(f.strategy=u.name,o.push({strategy:u.name,syncPoint:f}));return o}},{key:"selectSyncPoint_",value:function(n,t){for(var u,r=n[0].syncPoint,f=Math.abs(n[0].syncPoint[t.key]-t.value),e=n[0].strategy,i=1;i<n.length;i++)u=Math.abs(n[i].syncPoint[t.key]-t.value),u<f&&(f=u,r=n[i].syncPoint,e=n[i].strategy);return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy"+(" ["+e+"]: [time:"+r.time+",")+(" segmentIndex:"+r.segmentIndex+"]")),r}},{key:"saveExpiredSegmentInfo",value:function(n,t){for(var r,u=t.mediaSequence-n.mediaSequence,i=u-1;i>=0;i--)if(r=n.segments[i],r&&typeof r.start!="undefined"){t.syncInfo={mediaSequence:n.mediaSequence+i,time:r.start};this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+","+(" mediaSequence: "+t.syncInfo.mediaSequence+"]"));this.trigger("syncinfoupdate");break}}},{key:"setDateTimeMapping",value:function(n){if(!this.datetimeToDisplayTime&&n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var t=n.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=undefined}},{key:"probeSegmentInfo",value:function(n){var r=n.segment,i=n.playlist,t=void 0;return t=r.map?this.probeMp4Segment_(n):this.probeTsSegment_(n),t&&this.calculateSegmentTimeMapping_(n,t)&&(this.saveDiscontinuitySyncInfo_(n),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+n.mediaIndex,time:r.start})),t}},{key:"probeMp4Segment_",value:function(n){var i=n.segment,r=ni.timescale(i.map.bytes),t=ni.startTime(r,n.bytes);return n.timestampOffset!==null&&(n.timestampOffset-=t),{start:t,end:t+i.duration}}},{key:"probeTsSegment_",value:function(n){var t=wii(n.bytes,this.inspectCache_),i=void 0,r=void 0;return t?(t.video&&t.video.length===2?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&t.audio.length===2&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:i,end:r,containsVideo:t.video&&t.video.length===2,containsAudio:t.audio&&t.audio.length===2}):null}},{key:"timestampOffsetForTimeline",value:function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].time}},{key:"mappingForTimeline",value:function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].mapping}},{key:"calculateSegmentTimeMapping_",value:function(n,t){var r=n.segment,i=this.timelines[n.timeline];if(n.timestampOffset!==null)i={time:n.startOfSegment,mapping:n.startOfSegment-t.start},this.timelines[n.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": "+("[time: "+i.time+"] [mapping: "+i.mapping+"]")),r.start=n.startOfSegment,r.end=t.end+i.mapping;else if(i)r.start=t.start+i.mapping,r.end=t.end+i.mapping;else return!1;return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(n){var t=n.playlist,i=n.segment,r,e;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(r=0;r<t.discontinuityStarts.length;r++){var u=t.discontinuityStarts[r],f=t.discontinuitySequence+r+1,o=u-n.mediaIndex,s=Math.abs(o);(!this.discontinuities[f]||this.discontinuities[f].accuracy>s)&&(e=void 0,e=o<0?i.start-yo(t,n.mediaIndex,u):i.end+yo(t,n.mediaIndex+1,u),this.discontinuities[f]={time:e,accuracy:s})}}}]),t}(n.EventTarget),kii=new oet("./decrypter-worker.worker.js",function(){var n=this,t=function(){function f(n){return n.subarray(0,n.byteLength-n[n.byteLength-1])}var r=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":d(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},s=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":d(t))==="object"||typeof t=="function")?t:n},h=function(){for(var h=[[[],[],[],[],[]],[[],[],[],[],[]]],f=h[0],e=h[1],l=f[4],p=e[4],n=void 0,i=void 0,r=void 0,u=[],a=[],c=void 0,v=void 0,y=void 0,t=void 0,o=void 0,s=void 0,n=0;n<256;n++)a[(u[n]=n<<1^(n>>7)*283)^n]=n;for(i=r=0;!l[i];i^=c||1,r=a[r]||1)for(t=r^r<<1^r<<2^r<<3^r<<4,t=t>>8^t&255^99,l[i]=t,p[t]=i,y=u[v=u[c=u[i]]],s=y*16843009^v*65537^c*257^i*16843008,o=u[t]*257^t*16843008,n=0;n<4;n++)f[n][i]=o=o<<24^o>>>8,e[n][t]=s=s<<24^s>>>8;for(n=0;n<5;n++)f[n]=f[n].slice(0),e[n]=e[n].slice(0);return h},t=null,c=function(){function n(i){r(this,n);t||(t=h());this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];var f=void 0,c=void 0,u=void 0,s=void 0,v=void 0,o=this._tables[0][4],l=this._tables[1],e=i.length,a=1;if(e!==4&&e!==6&&e!==8)throw new Error("Invalid aes key size");for(s=i.slice(0),v=[],this._key=[s,v],f=e;f<4*e+28;f++)u=s[f-1],(f%e==0||e===8&&f%e==4)&&(u=o[u>>>24]<<24^o[u>>16&255]<<16^o[u>>8&255]<<8^o[u&255],f%e==0&&(u=u<<8^u>>>24^a<<24,a=a<<1^(a>>7)*283)),s[f]=s[f-e]^u;for(c=0;f;c++,f--)u=s[c&3?f:f-4],v[c]=f<=4||c<4?u:l[0][o[u>>>24]]^l[1][o[u>>16&255]]^l[2][o[u>>8&255]]^l[3][o[u&255]]}return n.prototype.decrypt=function(n,t,i,r,u,f){for(var e=this._key[1],o=n^e[0],s=r^e[1],h=i^e[2],c=t^e[3],y=void 0,g=void 0,nt=void 0,tt=e.length/4-2,l=void 0,a=4,v=this._tables[1],p=v[0],w=v[1],b=v[2],k=v[3],d=v[4],l=0;l<tt;l++)y=p[o>>>24]^w[s>>16&255]^b[h>>8&255]^k[c&255]^e[a],g=p[s>>>24]^w[h>>16&255]^b[c>>8&255]^k[o&255]^e[a+1],nt=p[h>>>24]^w[c>>16&255]^b[o>>8&255]^k[s&255]^e[a+2],c=p[c>>>24]^w[o>>16&255]^b[s>>8&255]^k[h&255]^e[a+3],a+=4,o=y,s=g,h=nt;for(l=0;l<4;l++)u[(3&-l)+f]=d[o>>>24]<<24^d[s>>16&255]<<16^d[h>>8&255]<<8^d[c&255]^e[a++],y=o,o=s,s=h,h=c,c=y},n}(),u=function(){function n(){r(this,n);this.listeners={}}return n.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},n.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),i>-1},n.prototype.trigger=function(n){var t=this.listeners[n],u,i,f,e,r;if(t)if(arguments.length===2)for(u=t.length,i=0;i<u;++i)t[i].call(this,arguments[1]);else for(f=Array.prototype.slice.call(arguments,1),e=t.length,r=0;r<e;++r)t[r].apply(this,f)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},n}(),l=function(n){function t(){r(this,t);var i=s(this,n.call(this,u));return i.jobs=[],i.delay=1,i.timeout_=null,i}return o(t,n),t.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},t.prototype.push=function(n){this.jobs.push(n);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(u),i=function(n){return n<<24|(n&65280)<<8|(n&16711680)>>8|n>>>24},a=function(n,t,r){var e=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),b=new c(Array.prototype.slice.call(t)),w=new Uint8Array(n.byteLength),f=new Int32Array(w.buffer),o=void 0,s=void 0,h=void 0,l=void 0,a=void 0,v=void 0,y=void 0,p=void 0,u=void 0;for(o=r[0],s=r[1],h=r[2],l=r[3],u=0;u<e.length;u+=4)a=i(e[u]),v=i(e[u+1]),y=i(e[u+2]),p=i(e[u+3]),b.decrypt(a,v,y,p,f,u),f[u]=i(f[u]^o),f[u+1]=i(f[u+1]^s),f[u+2]=i(f[u+2]^h),f[u+3]=i(f[u+3]^l),o=a,s=v,h=y,l=p;return w},v=function(){function n(t,u,e,o){r(this,n);var c=n.STEP,h=new Int32Array(t.buffer),a=new Uint8Array(t.byteLength),s=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(h.subarray(s,s+c),u,e,a)),s=c;s<h.length;s+=c)e=new Uint32Array([i(h[s-4]),i(h[s-3]),i(h[s-2]),i(h[s-1])]),this.asyncStream_.push(this.decryptChunk_(h.subarray(s,s+c),u,e,a));this.asyncStream_.push(function(){o(null,f(a))})}return n.prototype.decryptChunk_=function(n,t,i,r){return function(){var u=a(n,t,i);r.set(u,n.byteOffset)}},e(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),y=function(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i];t[i]=ArrayBuffer.isView(r)?{bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:r}),t},p=function(n){n.onmessage=function(t){var i=t.data,r=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),u=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),f=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new v(r,u,f,function(t,r){n.postMessage(y({source:i.source,decrypted:r}),[r.buffer])})}};return new p(n)}()}),dii=function(n){var t=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},ul=function(n,t){n.abort();n.pause();t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},dw=function(n,t){t.activePlaylistLoader=n;n.load()},gii=function(n,t){return function(){var u=t.segmentLoaders,f=u[n],e=u.main,i=t.mediaTypes[n],o=i.activeTrack(),r=i.activeGroup(o),s=i.activePlaylistLoader;if(ul(f,i),r){if(!r.playlistLoader){s&&e.resetEverything();return}f.resyncLoader();dw(r.playlistLoader,i)}}},nri=function(n,t){return function(){var f=t.segmentLoaders,u=f[n],o=f.main,i=t.mediaTypes[n],e=i.activeTrack(),r=i.activeGroup(e),s=i.activePlaylistLoader;if(ul(u,i),r){if(!r.playlistLoader){o.resetEverything();return}if(s===r.playlistLoader){dw(r.playlistLoader,i);return}u.track&&u.track(e);u.resetEverything();dw(r.playlistLoader,i)}}},fl={AUDIO:function(t,i){return function(){var o=i.segmentLoaders[t],r=i.mediaTypes[t],s=i.blacklistCurrentPlaylist,u;ul(o,r);var h=r.activeTrack(),f=r.activeGroup(),c=(f.filter(function(n){return n.default})[0]||f[0]).id,e=r.tracks[c];if(h===e){s({message:"Problem encountered loading the default audio track."});return}n.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(u in r.tracks)r.tracks[u].enabled=r.tracks[u]===e;r.onTrackChanged()}},SUBTITLES:function(t,i){return function(){var f=i.segmentLoaders[t],r=i.mediaTypes[t],u;n.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");ul(f,r);u=r.activeTrack();u&&(u.mode="disabled");r.onTrackChanged()}}},uot={AUDIO:function(n,t,i){if(t){var u=i.tech,f=i.requestOptions,r=i.segmentLoaders[n];t.on("loadedmetadata",function(){var n=t.media();r.playlist(n,f);(!u.paused()||n.endList&&u.preload()!=="none")&&r.load()});t.on("loadedplaylist",function(){r.playlist(t.media(),f);u.paused()||r.load()});t.on("error",fl[n](n,i))}},SUBTITLES:function(n,t,i){var u=i.tech,f=i.requestOptions,r=i.segmentLoaders[n],e=i.mediaTypes[n];t.on("loadedmetadata",function(){var n=t.media();r.playlist(n,f);r.track(e.activeTrack());(!u.paused()||n.endList&&u.preload()!=="none")&&r.load()});t.on("loadedplaylist",function(){r.playlist(t.media(),f);u.paused()||r.load()});t.on("error",fl[n](n,i))}},tri=function(n,t){return function(i){return i.attributes[n]===t}},iri=function(n){return function(t){return t.resolvedUri===n}},rri={AUDIO:function(t,i){var h=i.hls,b=i.sourceType,k=i.segmentLoaders[t],c=i.requestOptions.withCredentials,l=i.master,e=l.mediaGroups,d=l.playlists,a=i.mediaTypes[t],o=a.groups,v=a.tracks,g=i.masterPlaylistLoader,u,y,f,r,p,s,w;e[t]&&Object.keys(e[t]).length!==0||(e[t]={main:{"default":{"default":!0}}});for(u in e[t]){o[u]||(o[u]=[]);y=d.filter(tri(t,u));for(f in e[t][u])r=e[t][u][f],p=y.filter(iri(r.resolvedUri)),p.length&&delete r.resolvedUri,s=void 0,s=r.resolvedUri?new nl(r.resolvedUri,h,c):r.playlists&&b==="dash"?new pw(r.playlists[0],h,c,g):null,r=n.mergeOptions({id:f,playlistLoader:s},r),uot[t](t,r.playlistLoader,i),o[u].push(r),typeof v[f]=="undefined"&&(w=new n.AudioTrack({id:f,kind:dii(r),enabled:!1,language:r.language,"default":r.default,label:f}),v[f]=w)}k.on("error",fl[t](t,i))},SUBTITLES:function(t,i){var p=i.tech,h=i.hls,c=i.sourceType,w=i.segmentLoaders[t],l=i.requestOptions.withCredentials,e=i.master.mediaGroups,a=i.mediaTypes[t],s=a.groups,v=a.tracks,b=i.masterPlaylistLoader,f,r,u,o,y;for(f in e[t]){s[f]||(s[f]=[]);for(r in e[t][f])e[t][f][r].forced||(u=e[t][f][r],o=void 0,c==="hls"?o=new nl(u.resolvedUri,h,l):c==="dash"&&(o=new pw(u.playlists[0],h,l,b)),u=n.mergeOptions({id:r,playlistLoader:o},u),uot[t](t,u.playlistLoader,i),s[f].push(u),typeof v[r]=="undefined"&&(y=p.addRemoteTextTrack({id:r,kind:"subtitles",enabled:!1,language:u.language,label:r},!1).track,v[r]=y))}w.on("error",fl[t](t,i))},"CLOSED-CAPTIONS":function(t,i){var l=i.tech,e=i.master.mediaGroups,s=i.mediaTypes[t],o=s.groups,h=s.tracks,r,u,f,c;for(r in e[t]){o[r]||(o[r]=[]);for(u in e[t][r])(f=e[t][r][u],f.instreamId.match(/CC\d/))&&(o[r].push(n.mergeOptions({id:u},f)),typeof h[u]=="undefined"&&(c=l.addRemoteTextTrack({id:f.instreamId,kind:"captions",enabled:!1,language:f.language,label:u},!1).track,h[u]=c))}}},uri=function(n,t){return function(i){var e=t.masterPlaylistLoader,f=t.mediaTypes[n].groups,u=e.media(),r;return u?(r=null,u.attributes[n]&&(r=f[u.attributes[n]]),r=r||f.main,typeof i=="undefined")?r:i===null?null:r.filter(function(n){return n.id===i.id})[0]||null:null}},fri={AUDIO:function(n,t){return function(){var i=t.mediaTypes[n].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(n,t){return function(){var i=t.mediaTypes[n].tracks;for(var r in i)if(i[r].mode==="showing")return i[r];return null}}},eri=function(n){var r,f,u,e;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){rri[t](t,n)});var t=n.mediaTypes,o=n.masterPlaylistLoader,i=n.tech,s=n.hls;["AUDIO","SUBTITLES"].forEach(function(i){t[i].activeGroup=uri(i,n);t[i].activeTrack=fri[i](i,n);t[i].onGroupChanged=gii(i,n);t[i].onTrackChanged=nri(i,n)});r=t.AUDIO.activeGroup();f=(r.filter(function(n){return n.default})[0]||r[0]).id;t.AUDIO.tracks[f].enabled=!0;t.AUDIO.onTrackChanged();o.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(n){return t[n].onGroupChanged()})});u=function(){t.AUDIO.onTrackChanged();i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",u);i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged);s.on("dispose",function(){i.audioTracks().removeEventListener("change",u);i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)});i.clearTracks("audio");for(e in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[e])},ori=function(){var n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){n[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ko,activeTrack:ko,onGroupChanged:ko,onTrackChanged:ko}}),n},sri=120,yr=void 0,hri=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],cri=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},lri=function(i){function r(t){var u;ui(this,r);var i=pi(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),f=t.url,o=t.withCredentials,e=t.tech,s=t.bandwidth,h=t.externHls,c=t.useCueTags,l=t.blacklistDuration,a=t.enableLowInitialPlaylist,v=t.sourceType,y=t.seekTo;if(!f)throw new Error("A non-empty playlist URL is required");return yr=h,i.withCredentials=o,i.tech_=e,i.hls_=e.hls,i.seekTo_=y,i.sourceType_=v,i.useCueTags_=c,i.blacklistDuration=l,i.enableLowInitialPlaylist=a,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:i.withCredentials,timeout:null},i.mediaTypes_=ori(),i.mediaSource=new n.MediaSource,i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_.bind(i)),i.seekable_=n.createTimeRanges(),i.hasPlayed_=function(){return!1},i.syncController_=new bii(t),i.segmentMetadataTrack_=e.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new kii,i.inbandTextTracks_={},u={hls:i.hls_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_()},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:s,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_},i.masterPlaylistLoader_=i.sourceType_==="dash"?new pw(f,i.hls_,i.withCredentials):new nl(f,i.hls_,i.withCredentials),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new kw(n.mergeOptions(u,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),t),i.audioSegmentLoader_=new kw(n.mergeOptions(u,{loaderType:"audio"}),t),i.subtitleSegmentLoader_=new vii(n.mergeOptions(u,{loaderType:"vtt"}),t),i.setupSegmentLoaderListeners_(),hri.forEach(function(n){i[n+"_"]=cri.bind(i,n)}),i.logger_=bo("MPC"),i.masterPlaylistLoader_.load(),i}return tr(r,i),si(r,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var i=t.masterPlaylistLoader_.media(),r=t.masterPlaylistLoader_.targetDuration*1.5*1e3;t.requestOptions_.timeout=ew(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?0:r;i.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(i,t.requestOptions_),t.mainSegmentLoader_.load());eri({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)});t.triggerPresenceUsage_(t.master(),i);try{t.setupSourceBuffers_()}catch(u){return n.log.warn("Failed to create SourceBuffers",u),t.mediaSource.endOfStream("decode")}t.setupFirstPlay();t.trigger("selectedinitialmedia")});this.masterPlaylistLoader_.on("loadedplaylist",function(){var i=t.masterPlaylistLoader_.media(),n,r,u;if(!i){t.excludeUnsupportedVariants_();n=void 0;t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist());n||(n=t.selectPlaylist());t.initialMedia_=n;t.masterPlaylistLoader_.media(t.initialMedia_);return}if(t.useCueTags_&&t.updateAdCues_(i),t.mainSegmentLoader_.playlist(i,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!i.endList)if(r=function(){var n=t.seekable();n.length!==0&&t.mediaSource.addSeekableRange_(n.start(0),n.end(0))},t.duration()!==Infinity){u=function u(){if(t.duration()===Infinity)r();else t.tech_.one("durationchange",u)};t.tech_.one("durationchange",u)}else r()});this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)});this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort();t.mainSegmentLoader_.pause()});this.masterPlaylistLoader_.on("mediachange",function(){var n=t.masterPlaylistLoader_.media(),i=t.masterPlaylistLoader_.targetDuration*1.5*1e3;t.requestOptions_.timeout=ew(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?0:i;t.mainSegmentLoader_.playlist(n,t.requestOptions_);t.mainSegmentLoader_.load();t.tech_.trigger({type:"mediachange",bubbles:!0})});this.masterPlaylistLoader_.on("playlistunchanged",function(){var n=t.masterPlaylistLoader_.media(),i=t.stuckAtPlaylistEnd_(n);i&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))});this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})});this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(n,t){var i=n.mediaGroups||{},u=!0,f=Object.keys(i.AUDIO),r,e,o;for(r in i.AUDIO)for(e in i.AUDIO[r])o=i.AUDIO[r][e],o.uri||(u=!1);u&&this.tech_.trigger({type:"usage",name:"hls-demuxed"});Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"});yr.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"});yr.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"});f.length&&Object.keys(i.AUDIO[f[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"});this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var n=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var i=n.selectPlaylist(),r=n.masterPlaylistLoader_.media(),t=n.tech_.buffered(),u=t.length?t.end(t.length-1)-n.tech_.currentTime():0,f=n.bufferLowWaterLine();(!r.endList||n.duration()<hi.MAX_BUFFER_LOW_WATER_LINE||i.attributes.BANDWIDTH<r.attributes.BANDWIDTH||u>=f)&&n.masterPlaylistLoader_.media(i);n.tech_.trigger("bandwidthupdate")});this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")});this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())});this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})});this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("ended",function(){n.onEndOfStream()});this.mainSegmentLoader_.on("earlyabort",function(){n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},sri)});this.mainSegmentLoader_.on("reseteverything",function(){n.tech_.trigger("hls-reset")});this.mainSegmentLoader_.on("segmenttimemapping",function(t){n.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})});this.audioSegmentLoader_.on("ended",function(){n.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var n=this.selectPlaylist();n!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(n),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,i=this.selectPlaylist();i!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(i),this.mainSegmentLoader_.resetEverything(function(){n.browser.IE_VERSION||n.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0);this.hasPlayed_()&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===Infinity&&this.tech_.currentTime()<n.start(0))return this.seekTo_(n.end(n.length-1))}}},{key:"setupFirstPlay",value:function(){var i=this,r=this.masterPlaylistLoader_.media(),t;if(!r||this.tech_.paused()||this.hasPlayed_())return!1;if(!r.endList){if(t=this.seekable(),!t.length)return!1;if(n.browser.IE_VERSION&&this.tech_.readyState()===0){this.tech_.one("loadedmetadata",function(){i.trigger("firstplay");i.seekTo_(t.end(0));i.hasPlayed_=function(){return!0}});return!1}this.trigger("firstplay");this.seekTo_(t.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(i){return n.log.warn("Failed to create Source Buffers",i),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();typeof t!="undefined"&&typeof t.then=="function"&&t.then(null,function(){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var n=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?n&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_);n&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(n){var e=this.seekable(),t,r;if(!e.length||(t=this.syncController_.getExpiredTime(n,this.mediaSource.duration),t===null))return!1;var u=yr.Playlist.playlistEnd(n,t),f=this.tech_.currentTime(),i=this.tech_.buffered();return i.length?(r=i.end(i.length-1),r-f<=ou&&u-r<=ou):u-f<=ou}},{key:"blacklistCurrentPlaylist",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=arguments[1],r=void 0,f=void 0,u;if(r=t.playlist||this.masterPlaylistLoader_.media(),i=i||t.blacklistDuration||this.blacklistDuration,!r){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}return(u=this.masterPlaylistLoader_.master.playlists.filter(tl).length===1,u)?(n.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u)):(r.excludeUntil=Date.now()+i*1e3,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),f=this.selectPlaylist(),n.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(f))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(n){var t=ret(this.tech_.buffered(),n);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(t&&t.length)return n;this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort());this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort());this.load()}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:yr.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,i=void 0,r,u;if(this.masterPlaylistLoader_&&(r=this.masterPlaylistLoader_.media(),r)&&(u=this.syncController_.getExpiredTime(r,this.mediaSource.duration),u!==null)&&(t=yr.Playlist.seekable(r,u),t.length!==0)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),u=this.syncController_.getExpiredTime(r,this.mediaSource.duration),u===null)return;if(i=yr.Playlist.seekable(r,u),i.length===0)return}this.seekable_=i?i.start(0)>t.end(0)||t.start(0)>i.end(0)?t:n.createTimeRanges([[i.start(0)>t.start(0)?i.start(0):t.start(0),i.end(0)<t.end(0)?i.end(0):t.end(0)]]):t;this.logger_("seekable updated ["+ow(this.seekable_)+"]");this.tech_.trigger("seekablechanged")}}},{key:"updateDuration",value:function(){var t=this,u=this.mediaSource.duration,n=yr.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function r(){t.mediaSource.duration=n;t.tech_.trigger("durationchange");t.mediaSource.removeEventListener("sourceopen",r)};i.length>0&&(n=Math.max(n,i.end(i.length-1)));u!==n&&(this.mediaSource.readyState!=="open"?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();["AUDIO","SUBTITLES"].forEach(function(t){var i=n.mediaTypes_[t].groups;for(var r in i)i[r].forEach(function(n){n.playlistLoader&&n.playlistLoader.dispose()})});this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var n=this.masterPlaylistLoader_.media(),t=void 0;if(n&&this.mediaSource.readyState==="open"){if(t=tti(this.masterPlaylistLoader_.master,n),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+n.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t);this.excludeIncompatibleVariants_(n)}}},{key:"configureLoaderMimeTypes_",value:function(t){var i=t.length>1&&t[0].indexOf(",")===-1&&t[0]!==t[1]?new n.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],i);t[1]&&this.audioSegmentLoader_.mimeType(t[1],i)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(n){n.attributes.CODECS&&t.MediaSource&&t.MediaSource.isTypeSupported&&!t.MediaSource.isTypeSupported('video/mp4; codecs="'+knt(n.attributes.CODECS)+'"')&&(n.excludeUntil=Infinity)})}},{key:"excludeIncompatibleVariants_",value:function(n){var i=2,r=null,t=void 0;n.attributes.CODECS&&(t=po(n.attributes.CODECS),r=t.videoCodec,i=t.codecCount);this.master().playlists.forEach(function(n){var t={codecCount:2,videoCodec:null};n.attributes.CODECS&&(t=po(n.attributes.CODECS));t.codecCount!==i&&(n.excludeUntil=Infinity);t.videoCodec!==r&&(n.excludeUntil=Infinity)})}},{key:"updateAdCues_",value:function(n){var t=0,i=this.seekable();i.length&&(t=i.start(0));pii(n,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),n=hi.GOAL_BUFFER_LENGTH,i=hi.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,hi.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+t*i,r)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),n=hi.BUFFER_LOW_WATER_LINE,i=hi.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,hi.MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+t*i,r)}}]),r}(n.EventTarget),ari=function(n,t,i){return function(r){var u=n.master.playlists[t],e=fw(u),f=tl(u);return typeof r=="undefined"?f:(r?delete u.disabled:u.disabled=!0,r===f||e||(i(),r?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),r)}},fot=function fot(n,t,i){var u,r;ui(this,fot);u=n.masterPlaylistController_.fastQualityChange_.bind(n.masterPlaylistController_);t.attributes.RESOLUTION&&(r=t.attributes.RESOLUTION,this.width=r.width,this.height=r.height);this.bandwidth=t.attributes.BANDWIDTH;this.id=i;this.enabled=ari(n.playlists,t.uri,u)},vri=function(n){var t=n.playlists;n.representations=function(){return t.master.playlists.filter(function(n){return!fw(n)}).map(function(t){return new fot(n,t,t.uri)})}},eot=["seeking","seeked","pause","playing","error"],yri=function(){function n(i){var r=this;ui(this,n);this.tech_=i.tech;this.seekable=i.seekable;this.seekTo=i.seekTo;this.consecutiveUpdates=0;this.lastRecordedTime=null;this.timer_=null;this.checkCurrentTimeTimeout_=null;this.logger_=bo("PlaybackWatcher");this.logger_("initialize");var u=function(){return r.monitorCurrentTime_()},f=function(){return r.techWaiting_()},e=function(){return r.cancelTimer_()},o=function(){return r.fixesBadSeeks_()};this.tech_.on("seekablechanged",o);this.tech_.on("waiting",f);this.tech_.on(eot,e);this.tech_.on("canplay",u);this.dispose=function(){r.logger_("dispose");r.tech_.off("seekablechanged",o);r.tech_.off("waiting",f);r.tech_.off(eot,e);r.tech_.off("canplay",u);r.checkCurrentTimeTimeout_&&t.clearTimeout(r.checkCurrentTimeTimeout_);r.cancelTimer_()}}return si(n,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_();this.checkCurrentTimeTimeout_&&t.clearTimeout(this.checkCurrentTimeTimeout_);this.checkCurrentTimeTimeout_=t.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_()){this.consecutiveUpdates=0;this.lastRecordedTime=this.tech_.currentTime();return}if(!this.tech_.paused()&&!this.tech_.seeking()){var n=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===n&&(!t.length||n+ou>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0;this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_));this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var r=this.tech_.seeking(),n=this.seekable(),i=this.tech_.currentTime(),t=void 0,u,f;return(r&&this.afterSeekableWindow_(n,i)&&(u=n.end(n.length-1),t=u),r&&this.beforeSeekableWindow_(n,i)&&(f=n.start(0),t=f+ou),typeof t!="undefined")?(this.logger_("Trying to seek outside of seekable at time "+i+" with "+("seekable range "+ow(n)+". Seeking to ")+(t+".")),this.seekTo(t),!0):!1}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),i=this.tech_.buffered(),t=ret(i,n);if(t.length&&n+3<=t.end(0)){this.cancelTimer_();this.seekTo(n);this.logger_("Stopped at "+n+" while inside a buffered region "+("["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time.");this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}}},{key:"techWaiting_",value:function(){var i=this.seekable(),n=this.tech_.currentTime(),r,u,t,f;return this.tech_.seeking()&&this.fixesBadSeeks_()?!0:this.tech_.seeking()||this.timer_!==null?!0:this.beforeSeekableWindow_(i,n)?(r=i.end(i.length-1),this.logger_("Fell out of live window at time "+n+". Seeking to "+("live point (seekable end) "+r)),this.cancelTimer_(),this.seekTo(r),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0):(u=this.tech_.buffered(),t=uet(u,n),this.videoUnderflow_(t,u,n))?(this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):t.length>0?(f=t.start(0)-n,this.logger_("Stopped at "+n+", setting timer for "+f+", seeking "+("to "+t.start(0))),this.timer_=setTimeout(this.skipTheGap_.bind(this),f*1e3,n),!0):!1}},{key:"afterSeekableWindow_",value:function(n,t){return n.length?t>n.end(n.length-1)+ou?!0:!1:!1}},{key:"beforeSeekableWindow_",value:function(n,t){return n.length&&n.start(0)>0&&t<n.start(0)-ou?!0:!1}},{key:"videoUnderflow_",value:function(n,t,i){if(n.length===0){var r=this.gapFromVideoUnderflow_(t,i);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". "+("Seeking to current time "+i)),!0}return!1}},{key:"skipTheGap_",value:function(n){var r=this.tech_.buffered(),t=this.tech_.currentTime(),i=uet(r,t);(this.cancelTimer_(),i.length!==0&&t===n)&&(this.logger_("skipTheGap_:","currentTime:",t,"scheduled currentTime:",n,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+kf),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(n,t){for(var r,f,u=hnt(n),i=0;i<u.length;i++)if(r=u.start(i),f=u.end(i),t-r<4&&t-r>2)return{start:r,end:f};return null}}]),n}(),pri={errorInterval:30,getSource:function(n){var t=this.tech({IWillNotUseThisInPlugins:!0}),i=t.currentSource_;return n(i)}},oot=function oot(t,i){var e=0,u=0,r=n.mergeOptions(pri,i);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function(){u&&t.currentTime(u)},h=function(n){if(n!==null&&n!==undefined){u=t.duration()!==Infinity&&t.currentTime()||0;t.one("loadedmetadata",o);t.src(n);t.trigger({type:"usage",name:"hls-error-reload"});t.play()}},s=function(){if(Date.now()-e<r.errorInterval*1e3){t.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){n.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return e=Date.now(),r.getSource.call(t,h)},f=function f(){t.off("loadedmetadata",o);t.off("error",s);t.off("dispose",f)},c=function(n){f();oot(t,n)};t.on("error",s);t.on("dispose",f);t.reloadSourceOnError=c},sot=function(n){oot(this,n)};n.use("*",function(n){return{setSource:function(n,t){t(null,n)},setCurrentTime:function(t){return n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(t),t},play:function(){n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(n.currentTime())}}});lt={PlaylistLoader:nl,Playlist:kt,Decrypter:ugt,AsyncStream:eft,decrypt:oft,utils:snt,STANDARD_PLAYLIST_SELECTOR:uii,INITIAL_PLAYLIST_SELECTOR:eii,comparePlaylistBandwidth:bw,comparePlaylistResolution:iii,xhr:gft()};gw=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(lt,t,{get:function(){return n.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),hi[t]},set:function(i){if(n.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){n.log.warn("value of Hls."+t+" must be greater than or equal to 0");return}hi[t]=i}})});var hot=function(n){var t;return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(n)?"hls":(t=/^application\/dash\+xml/i,t.test(n))?"dash":null},cot=function(n,t){for(var u=t.media(),r=-1,i=0;i<n.length;i++)if(n[i].id===u.uri){r=i;break}n.selectedIndex_=r;n.trigger({selectedIndex:r,type:"change"})},wri=function(n,t){t.representations().forEach(function(t){n.addQualityLevel(t)});cot(n,t.playlists)};lt.canPlaySource=function(){return n.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};lot=function(t,i,r){var f,u;if(!t)return t;f={};for(u in t)f[u]={audioContentType:'audio/mp4; codecs="'+r.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+i.attributes.CODECS+'"'},i.contentProtection&&i.contentProtection[u]&&i.contentProtection[u].pssh&&(f[u].pssh=i.contentProtection[u].pssh),typeof t[u]=="string"&&(f[u].url=t[u]);return n.mergeOptions(t,f)};aot=function(t){var i,r;t.options_.sourceType==="dash"&&(i=n.players[t.tech_.options_.playerId],i.eme&&(r=lot(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media()),r&&(i.currentSource().keySystems=r)))};lt.supportsNativeHls=function(){var i=u.createElement("video"),t;return n.getTech("Html5").isSupported()?(t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],t.some(function(n){return/maybe|probably/i.test(i.canPlayType(n))})):!1}();lt.supportsNativeDash=function(){return n.getTech("Html5").isSupported()?/maybe|probably/i.test(u.createElement("video").canPlayType("application/dash+xml")):!1}();lt.supportsTypeNatively=function(n){return n==="hls"?lt.supportsNativeHls:n==="dash"?lt.supportsNativeDash:!1};lt.isSupported=function(){return n.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var bri=n.getComponent("Component"),vot=function(t){function i(t,r,f){var e,o;if(ui(this,i),e=pi(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r,f.hls)),r.options_&&r.options_.playerId&&(o=n(r.options_.playerId),o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return n.log.warn("player.hls is deprecated. Use player.tech().hls instead."),r.trigger({type:"usage",name:"hls-player-access"}),e}}),o.vhs=e,o.dash=e),e.tech_=r,e.source_=t,e.stats={},e.setOptions_(),e.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(e.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");e.on(u,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var n=u.fullscreenElement||u.webkitFullscreenElement||u.mozFullScreenElement||u.msFullscreenElement;n&&n.contains(e.tech_.el())&&e.masterPlaylistController_.smoothQualityChange_()});e.on(e.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()});e.on(e.tech_,"play",e.play);return e}return tr(i,t),si(i,[{key:"setOptions_",value:function(){var n=this;this.options_.withCredentials=this.options_.withCredentials||!1;typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=300);typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=gw);this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===gw;["withCredentials","bandwidth"].forEach(function(t){typeof n.source_[t]!="undefined"&&(n.options_[t]=n.source_[t])});this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t,i){var r=this;if(t){this.setOptions_();this.options_.url=this.source_.src;this.options_.tech=this.tech_;this.options_.externHls=lt;this.options_.sourceType=hot(i);this.options_.seekTo=function(n){r.tech_.setCurrentTime(n);r.setCurrentTime(n)};this.masterPlaylistController_=new lri(this.options_);this.playbackWatcher_=new yri(n.mergeOptions(this.options_,{seekable:function(){return r.seekable()}}));this.masterPlaylistController_.on("error",function(){var t=n.players[r.tech_.options_.playerId];t.error(r.masterPlaylistController_.error)});this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):lt.STANDARD_PLAYLIST_SELECTOR.bind(this);this.masterPlaylistController_.selectInitialPlaylist=lt.INITIAL_PLAYLIST_SELECTOR.bind(this);this.playlists=this.masterPlaylistController_.masterPlaylistLoader_;this.mediaSource=this.masterPlaylistController_.mediaSource;Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(n){this.masterPlaylistController_.selectPlaylist=n.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=n;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=n;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),n=void 0;return n=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+n))},set:function(){n.log.error('The "systemBandwidth" property is read-only')}}});Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return fet(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return fet(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}});this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));this.masterPlaylistController_.on("selectedinitialmedia",function(){vri(r);aot(r)});this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")});(this.tech_.ready(function(){return r.setupQualityLevels_()}),this.tech_.el())&&this.tech_.src(n.URL.createObjectURL(this.masterPlaylistController_.mediaSource))}}},{key:"setupQualityLevels_",value:function(){var t=this,i=n.players[this.tech_.options_.playerId];if(i&&i.qualityLevels){this.qualityLevels_=i.qualityLevels();this.masterPlaylistController_.on("selectedinitialmedia",function(){wri(t.qualityLevels_,t)});this.playlists.on("mediachange",function(){cot(t.qualityLevels_,t.playlists)})}}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(n){this.masterPlaylistController_.setCurrentTime(n)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose();this.masterPlaylistController_&&this.masterPlaylistController_.dispose();this.qualityLevels_&&this.qualityLevels_.dispose();fgt(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this)}}]),i}(bri),nb={name:"videojs-http-streaming",VERSION:"1.2.6",canHandleSource:function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.mergeOptions(n.options,i);return nb.canPlayType(t.type,r)},handleSource:function(t,i){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},u=n.mergeOptions(n.options,r);return i.hls=new vot(t,i,u),i.hls.xhr=gft(),i.hls.src(t.src,t.type),i.hls},canPlayType:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},u=n.mergeOptions(n.options,r),f=u.hls.overrideNative,i=hot(t),e=i&&(!lt.supportsTypeNatively(i)||f);return e?"maybe":""}};return(typeof n.MediaSource=="undefined"||typeof n.URL=="undefined")&&(n.MediaSource=wo,n.URL=yw),wo.supportsNativeMediaSources()&&n.getTech("Html5").registerSourceHandler(nb,0),n.HlsHandler=vot,n.HlsSourceHandler=nb,n.Hls=lt,n.use||n.registerComponent("Hls",lt),n.options.hls=n.options.hls||{},n.registerPlugin?n.registerPlugin("reloadSourceOnError",sot):n.plugin("reloadSourceOnError",sot),n});$(function(){function u(){$.fancybox.defaults.loop=!0;$.fancybox.defaults.backFocus=!1;$.fancybox.defaults.autoFocus=!1;$.fancybox.defaults.clickOutside="close";$.fancybox.defaults.mobile.clickSlide=function(){return"close"};$.fancybox.defaults.mobile.clickContent=function(){return"close"}}function s(){var t=$(".timer"),n;t.length&&t.appear(function(){t.countTo()});n=$(".timer2");n.length&&n.appear(function(){n.countTo()})}var t,i,r,e,o,h,c;try{t=document.getElementById("faq-btn");t.addEventListener("touchstart",function(n){n.targetTouches.length==1&&(n.preventDefault(),location.hash="#faq")},!1);i=document.getElementById("description-btn");i.addEventListener("touchstart",function(n){n.targetTouches.length==1&&(n.preventDefault(),location.hash="#description")},!1);r=document.getElementById("specs-btn");r.addEventListener("touchstart",function(n){n.targetTouches.length==1&&(n.preventDefault(),location.hash="#specs")},!1)}catch(a){}$(window).width()<768&&u();$(window).resize(function(){$(window).width()<768&&u()});e=new Sticky("#header",{stickyContainer:"body",marginBottom:60});o=$(window).width()>768?new Sticky("#article-product-box-nav",{stickyContainer:"#main",marginBottom:60,marginTop:90}):new Sticky("#article-product-box-nav",{stickyContainer:"#main",marginBottom:60,marginTop:60});$(".buttonHover").on("mouseenter",function(n){var t=$(this).offset(),i=n.pageX-t.left,r=n.pageY-t.top;$(this).find(".btnHover").css({top:r,left:i})}).on("mouseout",function(n){var t=$(this).offset(),i=n.pageX-t.left,r=n.pageY-t.top;$(this).find(".btnHover").css({top:r,left:i})});$("[data-fancybox-video]").fancybox({caption:function(){return $(this).find(".card-text").html()}});$("[data-fancybox]").fancybox({caption:function(){return $(this).find(".card-text").html()}});$("body").on("click",".js-map-dian",function(){var n=$(this).data("id");switch(n){case 1:$(".about-box2-map .items1").removeClass("no-dian").addClass("active");$(".about-box2-map .items2").removeClass("active").addClass("no-dian");$(".about-box2-map .items3").removeClass("active").addClass("no-dian");break;case 2:$(".about-box2-map .items1").removeClass("active").addClass("no-dian");$(".about-box2-map .items2").removeClass("no-dian").addClass("active");$(".about-box2-map .items3").removeClass("active").addClass("no-dian");break;case 3:$(".about-box2-map .items1").removeClass("active").addClass("no-dian");$(".about-box2-map .items2").removeClass("active").addClass("no-dian");$(".about-box2-map .items3").removeClass("no-dian").addClass("active")}});s();h=new Swiper(".index-banner .swiper-container",{pagination:{el:".index-banner .swiper-pagination",clickable:!0,renderBullet:function(n,t){return n==0?'<span class="'+t+'"><div class="process">  <div class="process-w"> <\/div><\/div><\/span>':'<span class="'+t+'"><\/span>'}},loop:!0,speed:1200,navigation:{nextEl:".index-banner .swiper-button-next",prevEl:".index-banner .swiper-button-prev"},breakpoints:{640:{allowTouchMove:!1},768:{},1024:{}},autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!1},on:{init:function(){this.emit("transitionEnd")},setTranslate:function(){this.$el.find(".swiper-slide-next").find("[data-aos]").removeClass("aos-animate");this.$el.find(".swiper-slide-next").find("[aos]").removeClass("aos-animate")},slideChangeTransitionEnd:function(){this.$el.find("[data-aos]").removeClass("aos-animate");this.$el.find("[aos]").removeClass("aos-animate");var n=this.realIndex;this.$el.find(".swiper-slide-active").find("[data-aos]").addClass("aos-animate");this.$el.find(".swiper-slide-active").find("[aos]").addClass("aos-animate")},slideChangeTransitionStart:function(){var n=this.realIndex;$(".index-banner .swiper-pagination-bullet").html("");$(".index-banner .swiper-pagination-bullet").eq(n).html('<div class="process">  <div class="process-w"> <\/div>  <\/div>')}}});c=new Swiper(".index-banner-mobile .swiper-container",{pagination:{el:".index-banner-mobile .swiper-pagination",clickable:!0,renderBullet:function(n,t){return n==0?'<span class="'+t+'"><div class="process">  <div class="process-w"> <\/div><\/div><\/span>':'<span class="'+t+'"><\/span>'}},loop:!0,speed:1200,navigation:{nextEl:".index-banner-mobile .swiper-button-next",prevEl:".index-banner-mobile .swiper-button-prev"},autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!1},on:{init:function(){this.emit("transitionEnd")},setTranslate:function(){this.$el.find(".swiper-slide-next").find("[data-aos]").removeClass("aos-animate");this.$el.find(".swiper-slide-next").find("[aos]").removeClass("aos-animate")},slideChangeTransitionEnd:function(){this.$el.find("[data-aos]").removeClass("aos-animate");this.$el.find("[aos]").removeClass("aos-animate");var n=this.realIndex;this.$el.find(".swiper-slide-active").find("[data-aos]").addClass("aos-animate");this.$el.find(".swiper-slide-active").find("[aos]").addClass("aos-animate")},slideChangeTransitionStart:function(){var n=this.realIndex;$(".index-banner-mobile .swiper-pagination-bullet").html("");$(".index-banner-mobile .swiper-pagination-bullet").eq(n).html('<div class="process">  <div class="process-w"> <\/div>  <\/div>')}}});$("body").on("focusin",'input[type="text"]',function(){typeof $(this).attr("data-placeholder")=="undefined"&&$(this).attr("data-placeholder",$(this).prop("placeholder"));$(this).prop("placeholder","")});$("body").on("focusout",'input[type="text"]',function(){$(this).val()==""&&$(this).prop("placeholder",$(this).attr("data-placeholder"))});$("body").on("click","#navbutton",function(n){$(this).hasClass("active")?($(this).removeClass("active"),$("#navdiv").removeClass("active"),$("#header").removeClass("active-nav"),$("body").removeClass("overflow")):($(this).addClass("active"),$("#header").addClass("active-nav"),$("#navdiv").addClass("active"),$("#navdiv").addClass("animated"),$("body").addClass("overflow"));n.stopPropagation()});$("body").on("click",".kg",function(){return $(this).parent().hasClass("active")?$(this).parent().removeClass("active"):$(this).parent().addClass("active"),!1});$(".js-hover").each(function(n){$(this).on("mouseover",function(){$(".js-hover").removeClass("active");$(this).addClass("active");$("#header").hasClass("active-nav")||$("#header").addClass("active-nav");$("#daohang").hasClass("active")||$("#daohang").addClass("active");$("#daohang").find(".xnav-item").removeClass("active");$("#daohang").find(".xnav-item").eq(n).addClass("active")})});$("body").on("click","#seabutton",function(){return $(this).hasClass("active")?($(this).removeClass("active"),$("#seachdiv").removeClass("active"),$("#header").removeClass("active-sea"),$(this).parent().prev().removeClass("active")):($(this).addClass("active"),$("#seachdiv").addClass("active"),$("#header").addClass("active-sea"),$(this).parent().prev().addClass("active")),!1});$("body").on("click","#seachdiv .close",function(){return $("#seachdiv").hasClass("active")&&($("#seachdiv").removeClass("active"),$("#seabutton").removeClass("active")),!1});$("#daohang").click(function(n){n.stopPropagation()});$("#fot1 a,#fot1 p").click(function(n){n.stopPropagation()});$("#fot2 a,#fot2 p").click(function(n){n.stopPropagation()});$("body").on("click","#fot1",function(){return $("#fot2").removeClass("active"),$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active"),!1});if($(window).width()>768){$("body").on("mouseout","#fot1",function(){return $("#fot2").removeClass("active"),$(this).removeClass("active"),!1});$("body").on("mouseout","#fot2",function(){return $("#fot1").removeClass("active"),$(this).removeClass("active"),!1})}$("body").on("click","#fot2",function(){return $("#fot1").removeClass("active"),$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active"),!1});$(window).scroll(function(){$("#fot1").removeClass("active");$("#fot2").removeClass("active")});$("body").click(function(){$("#daohang").removeClass("active");$("#header").removeClass("active-nav");$(".js-hover").removeClass("active")});var n=0,f=0,v=$("header .top").height(),l=$("header").height();$(window).scroll(function(){n=$(this).scrollTop();console.log(n);n==0?$("header").removeClass("down"):n>l&&f<n&&$("header").addClass("down");setTimeout(function(){f=n},0)});$(window).resize(function(){})});layui.use(["element","form","laypage","util","laytpl","upload"],function(){var n=layui.form,i=layui.element,r=layui.laypage,u=layui.util,t=layui.layer,f=layui.laytpl,e=layui.upload;n.on("submit(formSearch)",function(n){return window.location.href="/search/?k="+n.field.k,!1});n.verify({requireds:[/[\S]+/,"Required Field"],emails:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"Invalid email address"]});n.on("submit(formShichang)",function(n){var i=parent.layer.load(1,{shade:[.1,"#fff"]});return $.ajax({url:"/api/Liuyan/Save",dataType:"json",data:n.field,type:"post",success:function(n){t.closeAll();var i=n.ErrMsg;n.ErrCode==-1||(i="Your message has been received.<br> We will respond ASAP.<p>Thanks！<\/p>");t.alert(i,{skin:"demo-class",title:!1,closeBtn:0,time:3e3,end:function(){n.ErrCode==-1||(t.closeAll(),location.reload())}})}}),!1});videojs.options.flash.swf="/Scripts/video.js/video-js.swf";$(".video-js").each(function(){var n=$(this).attr("id");window.player=videojs(n,{fluid:!0,plugins:{mux:{data:{property_key:"VJSISBEST",video_title:"The Boids!",video_id:1}}}})});$("body").on("click",".item-dian",function(){$(this).parent().hasClass("active")?$(this).parent().removeClass("active"):($(".item-dian").parent().removeClass("active"),$(this).parent().addClass("active"))});if($(".item-pt-icon").length>0&&$(".item-pt-icon").each(function(){var n=$(this).data("X"),t=$(this).data("Y")}),$(".article-pt-faq .item").length>0)$("body").on("click",".article-pt-faq .item",function(){$(this).hasClass("active")?$(this).removeClass("active"):($(".article-pt-faq .item").removeClass("active"),$(this).addClass("active"))})});var articleproductswiper22=new Swiper(".article-pt-box-type-6 .swiper-container",{pagination:{el:".article-pt-box-type-6 .swiper-pagination",clickable:!0},navigation:{nextEl:".article-pt-box-type-6 .swiper-button-next",prevEl:".article-pt-box-type-6 .swiper-button-prev"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1}}),articleproductswiper2222=new Swiper(".article-pt-box-type-8 .swiper-container",{pagination:{el:".article-pt-box-type-8 .swiper-pagination",clickable:!0},navigation:{nextEl:".article-pt-box-type-8 .swiper-button-next",prevEl:".article-pt-box-type-8 .swiper-button-prev"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1}}),swiperNav=new Swiper(".page-banner-nav-swiper .swiper-container",{navigation:{nextEl:".page-banner-nav-swiper .swiper-button-next",prevEl:".page-banner-nav-swiper .swiper-button-prev"},slidesPerView:"auto",spaceBetween:0,on:{init:function(){for(var r,i=$(".page-banner-nav-swiper .swiper-slide.active").data("index"),n=0,t=0;t<i;t++)n=n+$(".page-banner-nav-swiper .swiper-slide").eq(t).width();this.emit("transitionEnd");r=n;i>=2&&$(window).width()<768&&this.setTranslate(-r)}}}),pt3swiper2=new Swiper(".swiper-pt-list2 .swiper-container",{noSwiping:!0,autoplay:!1,observer:!0,observeParents:!0,on:{slideChange:function(){pt3swiper1.slideTo(this.activeIndex,300,!1)}}}),pt3swiper1=new Swiper(".swiper-pt-list1 .swiper-container",{pagination:{el:".swiper-pt-list1 .swiper-pagination",clickable:!0},autoplay:!1,observer:!0,observeParents:!0,on:{slideChange:function(){pt3swiper2.slideTo(this.activeIndex,300,!1)}}});